2021-10-03 00:00:13.543 +03:00 [ERR] An error occurred using the connection to database 'BitirDb' on server '.'.
2021-10-03 00:00:13.577 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Bitir.Data.Contexts.BitirMainContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at Microsoft.Data.SqlClient.SqlConnection.OpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at Microsoft.Data.SqlClient.SqlConnection.OpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2021-10-03 00:00:13.675 +03:00 [INF] Executed action AuthModule.Controllers.AuthBaseController.Login (AuthModule) in 25008.6677ms
2021-10-03 00:00:13.678 +03:00 [INF] Executed endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:00:13.679 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at Microsoft.Data.SqlClient.SqlConnection.OpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Core.DataAccess.EntityFramework.EFRepository`2.GetAsync(Expression`1 predicate) in C:\Users\leven\source\repos\Bitir\API\Core\DataAccess\EntityFramework\EFRepository.cs:line 47
   at AuthModule.Business.AuthBusinessBase.Login(LoginDto loginDto) in C:\Users\leven\source\repos\Bitir\API\AuthModule\Business\AuthBusinessBase.cs:line 86
   at AuthModule.Controllers.AuthBaseController.Login(LoginDto loginDto) in C:\Users\leven\source\repos\Bitir\API\AuthModule\Controllers\AuthBaseController.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2021-10-03 00:00:13.725 +03:00 [DBG] Connection id "0HMC5SU91VOVL" completed keep alive response.
2021-10-03 00:00:13.726 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 00:00:13.728 +03:00 [INF] Request finished in 25188.6717ms 500 text/plain
2021-10-03 00:02:24.656 +03:00 [INF] Starting web host
2021-10-03 00:02:25.352 +03:00 [DBG] Hosting starting
2021-10-03 00:02:25.397 +03:00 [INF] User profile is available. Using 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-03 00:02:25.410 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-14642b65-a18c-49a2-99af-52420015a828.xml'.
2021-10-03 00:02:25.426 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-3aa2ae8c-81de-4273-8d4a-f52cc391033f.xml'.
2021-10-03 00:02:25.428 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-4d95ab8d-4041-43bb-8736-c55e7eebfed6.xml'.
2021-10-03 00:02:25.433 +03:00 [DBG] Found key {14642b65-a18c-49a2-99af-52420015a828}.
2021-10-03 00:02:25.438 +03:00 [DBG] Found key {3aa2ae8c-81de-4273-8d4a-f52cc391033f}.
2021-10-03 00:02:25.438 +03:00 [DBG] Found key {4d95ab8d-4041-43bb-8736-c55e7eebfed6}.
2021-10-03 00:02:25.444 +03:00 [DBG] Considering key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} with expiration date 2021-10-31 07:22:50Z as default key.
2021-10-03 00:02:25.459 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 00:02:25.464 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-10-03 00:02:25.468 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 00:02:25.475 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-10-03 00:02:25.479 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-10-03 00:02:25.483 +03:00 [DBG] Using key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} as the default key.
2021-10-03 00:02:25.484 +03:00 [DBG] Key ring with default key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} was loaded during application startup.
2021-10-03 00:02:25.696 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-10-03 00:02:26.225 +03:00 [DBG] The property 'UnitId' on entity type 'Unit' was created in shadow state because there are no eligible CLR members with a matching name.
2021-10-03 00:02:26.255 +03:00 [WRN] No type was specified for the decimal column 'Price' on entity type 'ProductPrice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 00:02:26.256 +03:00 [WRN] No type was specified for the decimal column 'Quantity' on entity type 'ProductStock'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 00:02:26.285 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 00:02:26.314 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:02:32.580 +03:00 [DBG] An error occurred using the connection to database 'BitirDb' on server '.'.
2021-10-03 00:02:36.279 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 00:02:36.281 +03:00 [FTL] Application startup exception
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure()' to the 'UseSqlServer' call.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): A connection was successfully established with the server, but then an error occurred during the pre-login handshake. (provider: TCP Provider, error: 0 - An existing connection was forcibly closed by the remote host.)
 ---> System.ComponentModel.Win32Exception (10054): An existing connection was forcibly closed by the remote host.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParser.ConsumePreLoginHandshake(Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean& marsCapable, Boolean& fedAuthRequired)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass18_0.<Exists>b__0(DateTime giveUp)
   at Microsoft.EntityFrameworkCore.ExecutionStrategyExtensions.<>c__DisplayClass12_0`2.<Execute>b__0(DbContext c, TState s)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
ClientConnectionId:27063f4d-8fb3-4e24-9ca6-435be52b904e
Error Number:10054,State:0,Class:20
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ExecutionStrategyExtensions.Execute[TState,TResult](IExecutionStrategy strategy, TState state, Func`2 operation, Func`2 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ExecutionStrategyExtensions.Execute[TState,TResult](IExecutionStrategy strategy, TState state, Func`2 operation)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.Exists(Boolean retryOnNotExists)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.Exists()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabaseCreator.EnsureCreated()
   at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.EnsureCreated()
   at ModulerApi.Startup.Configure(IApplicationBuilder app, IWebHostEnvironment env) in C:\Users\leven\source\repos\Bitir\API\Bitir.Api\Startup.cs:line 75
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Object[] arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.AspNetCore.Hosting.ConfigureBuilder.Invoke(Object instance, IApplicationBuilder builder)
   at Microsoft.AspNetCore.Hosting.ConfigureBuilder.<>c__DisplayClass4_0.<Build>b__0(IApplicationBuilder builder)
   at Microsoft.AspNetCore.Hosting.GenericWebHostBuilder.<>c__DisplayClass13_0.<UseStartup>b__2(IApplicationBuilder app)
   at Microsoft.AspNetCore.Mvc.Filters.MiddlewareFilterBuilderStartupFilter.<>c__DisplayClass0_0.<Configure>g__MiddlewareFilterBuilder|0(IApplicationBuilder builder)
   at Microsoft.AspNetCore.HostFilteringStartupFilter.<>c__DisplayClass0_0.<Configure>b__0(IApplicationBuilder app)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
2021-10-03 00:02:36.346 +03:00 [FTL] Host terminated unexpectedly
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure()' to the 'UseSqlServer' call.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): A connection was successfully established with the server, but then an error occurred during the pre-login handshake. (provider: TCP Provider, error: 0 - An existing connection was forcibly closed by the remote host.)
 ---> System.ComponentModel.Win32Exception (10054): An existing connection was forcibly closed by the remote host.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParser.ConsumePreLoginHandshake(Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean& marsCapable, Boolean& fedAuthRequired)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass18_0.<Exists>b__0(DateTime giveUp)
   at Microsoft.EntityFrameworkCore.ExecutionStrategyExtensions.<>c__DisplayClass12_0`2.<Execute>b__0(DbContext c, TState s)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
ClientConnectionId:27063f4d-8fb3-4e24-9ca6-435be52b904e
Error Number:10054,State:0,Class:20
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ExecutionStrategyExtensions.Execute[TState,TResult](IExecutionStrategy strategy, TState state, Func`2 operation, Func`2 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ExecutionStrategyExtensions.Execute[TState,TResult](IExecutionStrategy strategy, TState state, Func`2 operation)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.Exists(Boolean retryOnNotExists)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.Exists()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabaseCreator.EnsureCreated()
   at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.EnsureCreated()
   at ModulerApi.Startup.Configure(IApplicationBuilder app, IWebHostEnvironment env) in C:\Users\leven\source\repos\Bitir\API\Bitir.Api\Startup.cs:line 75
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Object[] arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.AspNetCore.Hosting.ConfigureBuilder.Invoke(Object instance, IApplicationBuilder builder)
   at Microsoft.AspNetCore.Hosting.ConfigureBuilder.<>c__DisplayClass4_0.<Build>b__0(IApplicationBuilder builder)
   at Microsoft.AspNetCore.Hosting.GenericWebHostBuilder.<>c__DisplayClass13_0.<UseStartup>b__2(IApplicationBuilder app)
   at Microsoft.AspNetCore.Mvc.Filters.MiddlewareFilterBuilderStartupFilter.<>c__DisplayClass0_0.<Configure>g__MiddlewareFilterBuilder|0(IApplicationBuilder builder)
   at Microsoft.AspNetCore.HostFilteringStartupFilter.<>c__DisplayClass0_0.<Configure>b__0(IApplicationBuilder app)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.Run(IHost host)
   at ModulerApi.Program.Main(String[] args) in C:\Users\leven\source\repos\Bitir\API\Bitir.Api\Program.cs:line 20
2021-10-03 00:02:48.048 +03:00 [INF] Starting web host
2021-10-03 00:02:48.684 +03:00 [DBG] Hosting starting
2021-10-03 00:02:48.730 +03:00 [INF] User profile is available. Using 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-03 00:02:48.743 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-14642b65-a18c-49a2-99af-52420015a828.xml'.
2021-10-03 00:02:48.758 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-3aa2ae8c-81de-4273-8d4a-f52cc391033f.xml'.
2021-10-03 00:02:48.759 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-4d95ab8d-4041-43bb-8736-c55e7eebfed6.xml'.
2021-10-03 00:02:48.764 +03:00 [DBG] Found key {14642b65-a18c-49a2-99af-52420015a828}.
2021-10-03 00:02:48.768 +03:00 [DBG] Found key {3aa2ae8c-81de-4273-8d4a-f52cc391033f}.
2021-10-03 00:02:48.769 +03:00 [DBG] Found key {4d95ab8d-4041-43bb-8736-c55e7eebfed6}.
2021-10-03 00:02:48.775 +03:00 [DBG] Considering key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} with expiration date 2021-10-31 07:22:50Z as default key.
2021-10-03 00:02:48.782 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 00:02:48.785 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-10-03 00:02:48.787 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 00:02:48.791 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-10-03 00:02:48.794 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-10-03 00:02:48.797 +03:00 [DBG] Using key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} as the default key.
2021-10-03 00:02:48.798 +03:00 [DBG] Key ring with default key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} was loaded during application startup.
2021-10-03 00:02:49.042 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-10-03 00:02:49.523 +03:00 [DBG] The property 'UnitId' on entity type 'Unit' was created in shadow state because there are no eligible CLR members with a matching name.
2021-10-03 00:02:49.551 +03:00 [WRN] No type was specified for the decimal column 'Price' on entity type 'ProductPrice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 00:02:49.553 +03:00 [WRN] No type was specified for the decimal column 'Quantity' on entity type 'ProductStock'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 00:02:49.583 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 00:02:49.612 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:02:49.785 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:02:49.791 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 00:02:49.796 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2021-10-03 00:02:49.803 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:02:49.823 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:02:49.826 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:02:49.830 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:02:49.832 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 00:02:49.833 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 00:02:49.834 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:02:49.835 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:02:49.836 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 00:02:49.875 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 00:02:49.876 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:02:49.878 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:02:49.881 +03:00 [DBG] Migrating using database 'BitirDb' on server '.'.
2021-10-03 00:02:49.882 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:02:49.883 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:02:49.884 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 00:02:49.885 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 00:02:49.885 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:02:49.889 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:02:49.891 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:02:49.892 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:02:49.894 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 00:02:49.895 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 00:02:49.896 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:02:49.897 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:02:49.897 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:02:49.900 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:02:49.902 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:02:49.903 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:02:49.905 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:02:49.906 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:02:49.907 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 00:02:49.907 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 00:02:49.908 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:02:49.911 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:02:49.912 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:02:49.913 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:02:49.914 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 00:02:49.914 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 00:02:49.915 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:02:49.916 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:02:49.917 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:02:49.920 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:02:49.922 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:02:49.922 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:02:49.930 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:02:49.930 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 00:02:49.932 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:02:49.932 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:02:49.934 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 00:02:49.938 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 00:02:49.941 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:02:49.942 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:02:49.943 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:02:49.950 +03:00 [DBG] No migrations were found in assembly 'Bitir.Data'.
2021-10-03 00:02:49.954 +03:00 [INF] No migrations were applied. The database is already up to date.
2021-10-03 00:02:49.955 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 00:02:49.985 +03:00 [DBG] Failed to locate the development https certificate at 'null'.
2021-10-03 00:02:50.007 +03:00 [INF] Now listening on: http://localhost:5000
2021-10-03 00:02:50.007 +03:00 [DBG] Loaded hosting startup assembly Bitir.Api
2021-10-03 00:02:50.008 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-03 00:02:50.009 +03:00 [INF] Hosting environment: Development
2021-10-03 00:02:50.010 +03:00 [INF] Content root path: C:\Users\leven\source\repos\Bitir\API\Bitir.Api
2021-10-03 00:02:50.011 +03:00 [DBG] Hosting started
2021-10-03 00:03:06.490 +03:00 [DBG] Connection id "0HMC5T0420JAK" accepted.
2021-10-03 00:03:06.493 +03:00 [DBG] Connection id "0HMC5T0420JAK" started.
2021-10-03 00:03:06.512 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/AuthModule/AuthBase/Login application/json 38
2021-10-03 00:03:06.516 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-10-03 00:03:06.536 +03:00 [DBG] 1 candidate(s) found for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:03:06.540 +03:00 [DBG] Endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)' with route pattern 'AuthModule/AuthBase/Login' is valid for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:03:06.541 +03:00 [DBG] Request matched endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:03:06.598 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-10-03 00:03:06.601 +03:00 [INF] Executing endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:03:06.608 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2021-10-03 00:03:06.634 +03:00 [INF] Route matched with {module = "AuthModule", action = "Login", controller = "AuthBase"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthModule.Dto.LoginDto) on controller AuthModule.Controllers.AuthBaseController (AuthModule).
2021-10-03 00:03:06.636 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-10-03 00:03:06.637 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-10-03 00:03:06.639 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-10-03 00:03:06.641 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-10-03 00:03:06.642 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-10-03 00:03:06.643 +03:00 [DBG] Executing controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:03:06.647 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 00:03:06.650 +03:00 [DBG] Executed controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:03:06.659 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:03:06.661 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' using the name '' in request data ...
2021-10-03 00:03:06.663 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2021-10-03 00:03:06.668 +03:00 [DBG] Connection id "0HMC5T0420JAK", Request id "0HMC5T0420JAK:00000001": started reading request body.
2021-10-03 00:03:06.669 +03:00 [DBG] Connection id "0HMC5T0420JAK", Request id "0HMC5T0420JAK:00000001": done reading request body.
2021-10-03 00:03:06.672 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'AuthModule.Dto.LoginDto'
2021-10-03 00:03:06.673 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:03:06.674 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:03:06.675 +03:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:03:06.678 +03:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:03:06.833 +03:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserAccount>(
    asyncEnumerable: new QueryingEnumerable<UserAccount>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, UserAccount>, 
        Bitir.Data.Contexts.BitirMainContext, 
        null
    ), 
    cancellationToken: queryContext.CancellationToken)
2021-10-03 00:03:06.858 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:03:06.859 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2021-10-03 00:03:06.864 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:03:06.866 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:03:06.870 +03:00 [DBG] Executing DbCommand [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:03:06.907 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:03:06.924 +03:00 [DBG] Context 'BitirMainContext' started tracking 'UserAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-10-03 00:03:06.950 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:03:06.953 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:03:06.955 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:03:07.027 +03:00 [INF] Executed action AuthModule.Controllers.AuthBaseController.Login (AuthModule) in 381.0607ms
2021-10-03 00:03:07.030 +03:00 [INF] Executed endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:03:07.032 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Core.Exceptions.OperationFailedException: Incorrect password !!
   at AuthModule.Business.AuthBusinessBase.Login(LoginDto loginDto) in C:\Users\leven\source\repos\Bitir\API\AuthModule\Business\AuthBusinessBase.cs:line 97
   at AuthModule.Controllers.AuthBaseController.Login(LoginDto loginDto) in C:\Users\leven\source\repos\Bitir\API\AuthModule\Controllers\AuthBaseController.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-10-03 00:03:07.081 +03:00 [DBG] Connection id "0HMC5T0420JAK" completed keep alive response.
2021-10-03 00:03:07.082 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 00:03:07.084 +03:00 [INF] Request finished in 574.2469ms 500 text/plain
2021-10-03 00:03:35.284 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/AuthModule/AuthBase/Login application/json 38
2021-10-03 00:03:35.288 +03:00 [DBG] 1 candidate(s) found for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:03:35.289 +03:00 [DBG] Endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)' with route pattern 'AuthModule/AuthBase/Login' is valid for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:03:35.290 +03:00 [DBG] Request matched endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:03:35.292 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-10-03 00:03:35.297 +03:00 [INF] Executing endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:03:35.298 +03:00 [INF] Route matched with {module = "AuthModule", action = "Login", controller = "AuthBase"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthModule.Dto.LoginDto) on controller AuthModule.Controllers.AuthBaseController (AuthModule).
2021-10-03 00:03:35.300 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-10-03 00:03:35.301 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-10-03 00:03:35.302 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-10-03 00:03:35.304 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-10-03 00:03:35.305 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-10-03 00:03:35.306 +03:00 [DBG] Executing controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:03:35.330 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 00:03:35.332 +03:00 [DBG] Executed controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:03:35.333 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:03:35.334 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' using the name '' in request data ...
2021-10-03 00:03:35.335 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2021-10-03 00:03:35.337 +03:00 [DBG] Connection id "0HMC5T0420JAK", Request id "0HMC5T0420JAK:00000002": started reading request body.
2021-10-03 00:03:35.337 +03:00 [DBG] Connection id "0HMC5T0420JAK", Request id "0HMC5T0420JAK:00000002": done reading request body.
2021-10-03 00:03:35.341 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'AuthModule.Dto.LoginDto'
2021-10-03 00:03:35.341 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:03:35.342 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:03:35.343 +03:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:03:35.344 +03:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:03:35.348 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:03:35.348 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 00:03:35.349 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:03:35.350 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:03:35.351 +03:00 [DBG] Executing DbCommand [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:03:35.355 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:03:35.358 +03:00 [DBG] Context 'BitirMainContext' started tracking 'UserAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-10-03 00:03:35.359 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:03:35.359 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:03:35.360 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:03:35.411 +03:00 [INF] Executed action AuthModule.Controllers.AuthBaseController.Login (AuthModule) in 104.7007ms
2021-10-03 00:03:35.412 +03:00 [INF] Executed endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:03:35.414 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Core.Exceptions.OperationFailedException: Incorrect password !!
   at AuthModule.Business.AuthBusinessBase.Login(LoginDto loginDto) in C:\Users\leven\source\repos\Bitir\API\AuthModule\Business\AuthBusinessBase.cs:line 97
   at AuthModule.Controllers.AuthBaseController.Login(LoginDto loginDto) in C:\Users\leven\source\repos\Bitir\API\AuthModule\Controllers\AuthBaseController.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-10-03 00:03:35.420 +03:00 [DBG] Connection id "0HMC5T0420JAK" completed keep alive response.
2021-10-03 00:03:35.421 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 00:03:35.422 +03:00 [INF] Request finished in 137.637ms 500 text/plain
2021-10-03 00:04:07.101 +03:00 [INF] Starting web host
2021-10-03 00:04:07.804 +03:00 [DBG] Hosting starting
2021-10-03 00:04:07.842 +03:00 [INF] User profile is available. Using 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-03 00:04:07.855 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-14642b65-a18c-49a2-99af-52420015a828.xml'.
2021-10-03 00:04:07.869 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-3aa2ae8c-81de-4273-8d4a-f52cc391033f.xml'.
2021-10-03 00:04:07.870 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-4d95ab8d-4041-43bb-8736-c55e7eebfed6.xml'.
2021-10-03 00:04:07.874 +03:00 [DBG] Found key {14642b65-a18c-49a2-99af-52420015a828}.
2021-10-03 00:04:07.879 +03:00 [DBG] Found key {3aa2ae8c-81de-4273-8d4a-f52cc391033f}.
2021-10-03 00:04:07.880 +03:00 [DBG] Found key {4d95ab8d-4041-43bb-8736-c55e7eebfed6}.
2021-10-03 00:04:07.886 +03:00 [DBG] Considering key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} with expiration date 2021-10-31 07:22:50Z as default key.
2021-10-03 00:04:07.894 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 00:04:07.897 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-10-03 00:04:07.899 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 00:04:07.902 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-10-03 00:04:07.905 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-10-03 00:04:07.908 +03:00 [DBG] Using key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} as the default key.
2021-10-03 00:04:07.909 +03:00 [DBG] Key ring with default key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} was loaded during application startup.
2021-10-03 00:04:08.132 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-10-03 00:04:08.730 +03:00 [DBG] The property 'UnitId' on entity type 'Unit' was created in shadow state because there are no eligible CLR members with a matching name.
2021-10-03 00:04:08.757 +03:00 [WRN] No type was specified for the decimal column 'Price' on entity type 'ProductPrice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 00:04:08.759 +03:00 [WRN] No type was specified for the decimal column 'Quantity' on entity type 'ProductStock'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 00:04:08.791 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 00:04:08.821 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:04:08.995 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:04:08.999 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 00:04:09.004 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2021-10-03 00:04:09.011 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:04:09.032 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:04:09.036 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:04:09.039 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:04:09.041 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 00:04:09.042 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 00:04:09.043 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:04:09.044 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:04:09.045 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 00:04:09.059 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 00:04:09.061 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:04:09.063 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:04:09.066 +03:00 [DBG] Migrating using database 'BitirDb' on server '.'.
2021-10-03 00:04:09.067 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:04:09.068 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:04:09.068 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 00:04:09.069 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 00:04:09.070 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:04:09.073 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:04:09.075 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:04:09.076 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:04:09.078 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 00:04:09.078 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 00:04:09.079 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:04:09.080 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:04:09.081 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:04:09.083 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:04:09.085 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:04:09.086 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:04:09.087 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:04:09.088 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:04:09.089 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 00:04:09.090 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 00:04:09.091 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:04:09.094 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:04:09.096 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:04:09.096 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:04:09.097 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 00:04:09.098 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 00:04:09.099 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:04:09.100 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:04:09.101 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:04:09.103 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:04:09.105 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:04:09.106 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:04:09.113 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:04:09.113 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 00:04:09.114 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:04:09.115 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:04:09.116 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 00:04:09.120 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 00:04:09.123 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:04:09.124 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:04:09.125 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:04:09.132 +03:00 [DBG] No migrations were found in assembly 'Bitir.Data'.
2021-10-03 00:04:09.135 +03:00 [INF] No migrations were applied. The database is already up to date.
2021-10-03 00:04:09.137 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 00:04:09.165 +03:00 [DBG] Failed to locate the development https certificate at 'null'.
2021-10-03 00:04:09.186 +03:00 [INF] Now listening on: http://localhost:5000
2021-10-03 00:04:09.187 +03:00 [DBG] Loaded hosting startup assembly Bitir.Api
2021-10-03 00:04:09.188 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-03 00:04:09.189 +03:00 [INF] Hosting environment: Development
2021-10-03 00:04:09.190 +03:00 [INF] Content root path: C:\Users\leven\source\repos\Bitir\API\Bitir.Api
2021-10-03 00:04:09.190 +03:00 [DBG] Hosting started
2021-10-03 00:04:23.878 +03:00 [DBG] Connection id "0HMC5T0R41EEQ" accepted.
2021-10-03 00:04:23.880 +03:00 [DBG] Connection id "0HMC5T0R41EEQ" started.
2021-10-03 00:04:23.902 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/AuthModule/AuthBase/Login application/json 38
2021-10-03 00:04:23.905 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-10-03 00:04:23.927 +03:00 [DBG] 1 candidate(s) found for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:04:23.931 +03:00 [DBG] Endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)' with route pattern 'AuthModule/AuthBase/Login' is valid for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:04:23.932 +03:00 [DBG] Request matched endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:04:23.980 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-10-03 00:04:23.983 +03:00 [INF] Executing endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:04:23.989 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2021-10-03 00:04:24.014 +03:00 [INF] Route matched with {module = "AuthModule", action = "Login", controller = "AuthBase"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthModule.Dto.LoginDto) on controller AuthModule.Controllers.AuthBaseController (AuthModule).
2021-10-03 00:04:24.016 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-10-03 00:04:24.017 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-10-03 00:04:24.019 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-10-03 00:04:24.022 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-10-03 00:04:24.023 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-10-03 00:04:24.025 +03:00 [DBG] Executing controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:04:24.028 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 00:04:24.032 +03:00 [DBG] Executed controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:04:24.041 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:04:24.043 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' using the name '' in request data ...
2021-10-03 00:04:24.045 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2021-10-03 00:04:24.050 +03:00 [DBG] Connection id "0HMC5T0R41EEQ", Request id "0HMC5T0R41EEQ:00000001": started reading request body.
2021-10-03 00:04:24.051 +03:00 [DBG] Connection id "0HMC5T0R41EEQ", Request id "0HMC5T0R41EEQ:00000001": done reading request body.
2021-10-03 00:04:24.054 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'AuthModule.Dto.LoginDto'
2021-10-03 00:04:24.054 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:04:24.055 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:04:24.056 +03:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:04:24.059 +03:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:04:24.200 +03:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserAccount>(
    asyncEnumerable: new QueryingEnumerable<UserAccount>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, UserAccount>, 
        Bitir.Data.Contexts.BitirMainContext, 
        null
    ), 
    cancellationToken: queryContext.CancellationToken)
2021-10-03 00:04:24.223 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:04:24.226 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2021-10-03 00:04:24.231 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:04:24.233 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:04:24.239 +03:00 [DBG] Executing DbCommand [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:04:24.273 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:04:24.291 +03:00 [DBG] Context 'BitirMainContext' started tracking 'UserAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-10-03 00:04:24.317 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:04:24.319 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:04:24.321 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:04:24.392 +03:00 [INF] Executed action AuthModule.Controllers.AuthBaseController.Login (AuthModule) in 364.539ms
2021-10-03 00:04:24.395 +03:00 [INF] Executed endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:04:24.621 +03:00 [DBG] Connection id "0HMC5T0R41EEQ" completed keep alive response.
2021-10-03 00:04:24.623 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 00:04:24.626 +03:00 [INF] Request finished in 726.3189ms 500 application/json
2021-10-03 00:05:01.634 +03:00 [INF] Starting web host
2021-10-03 00:05:02.300 +03:00 [DBG] Hosting starting
2021-10-03 00:05:02.342 +03:00 [INF] User profile is available. Using 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-03 00:05:02.355 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-14642b65-a18c-49a2-99af-52420015a828.xml'.
2021-10-03 00:05:02.369 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-3aa2ae8c-81de-4273-8d4a-f52cc391033f.xml'.
2021-10-03 00:05:02.370 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-4d95ab8d-4041-43bb-8736-c55e7eebfed6.xml'.
2021-10-03 00:05:02.375 +03:00 [DBG] Found key {14642b65-a18c-49a2-99af-52420015a828}.
2021-10-03 00:05:02.380 +03:00 [DBG] Found key {3aa2ae8c-81de-4273-8d4a-f52cc391033f}.
2021-10-03 00:05:02.380 +03:00 [DBG] Found key {4d95ab8d-4041-43bb-8736-c55e7eebfed6}.
2021-10-03 00:05:02.385 +03:00 [DBG] Considering key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} with expiration date 2021-10-31 07:22:50Z as default key.
2021-10-03 00:05:02.392 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 00:05:02.395 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-10-03 00:05:02.397 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 00:05:02.400 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-10-03 00:05:02.403 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-10-03 00:05:02.406 +03:00 [DBG] Using key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} as the default key.
2021-10-03 00:05:02.406 +03:00 [DBG] Key ring with default key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} was loaded during application startup.
2021-10-03 00:05:09.541 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-10-03 00:05:09.936 +03:00 [DBG] The property 'UnitId' on entity type 'Unit' was created in shadow state because there are no eligible CLR members with a matching name.
2021-10-03 00:05:09.954 +03:00 [WRN] No type was specified for the decimal column 'Price' on entity type 'ProductPrice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 00:05:09.956 +03:00 [WRN] No type was specified for the decimal column 'Quantity' on entity type 'ProductStock'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 00:05:09.986 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 00:05:10.009 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:10.179 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:10.184 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 00:05:10.191 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2021-10-03 00:05:10.198 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:05:10.218 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:05:10.221 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:10.225 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:10.227 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 00:05:10.228 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 00:05:10.229 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:10.230 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:10.231 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 00:05:10.246 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 00:05:10.249 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:10.250 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:10.253 +03:00 [DBG] Migrating using database 'BitirDb' on server '.'.
2021-10-03 00:05:10.254 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:10.255 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:10.256 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 00:05:10.256 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 00:05:10.257 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:05:10.261 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:05:10.262 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:10.263 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:10.265 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 00:05:10.266 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 00:05:10.267 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:10.268 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:10.269 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:05:10.271 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:05:10.273 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:10.273 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:10.275 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:10.276 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:10.277 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 00:05:10.278 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 00:05:10.279 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:05:10.281 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:05:10.283 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:10.284 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:10.285 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 00:05:10.285 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 00:05:10.286 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:10.287 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:10.288 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:05:10.291 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:05:10.293 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:10.294 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:10.302 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:05:10.302 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 00:05:10.303 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:10.304 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:10.305 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 00:05:10.308 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 00:05:10.311 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:05:10.312 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:10.313 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:10.320 +03:00 [DBG] No migrations were found in assembly 'Bitir.Data'.
2021-10-03 00:05:10.324 +03:00 [INF] No migrations were applied. The database is already up to date.
2021-10-03 00:05:10.325 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 00:05:10.357 +03:00 [DBG] Failed to locate the development https certificate at 'null'.
2021-10-03 00:05:10.380 +03:00 [INF] Now listening on: http://localhost:5000
2021-10-03 00:05:10.380 +03:00 [DBG] Loaded hosting startup assembly Bitir.Api
2021-10-03 00:05:10.381 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-03 00:05:10.382 +03:00 [INF] Hosting environment: Development
2021-10-03 00:05:10.383 +03:00 [INF] Content root path: C:\Users\leven\source\repos\Bitir\API\Bitir.Api
2021-10-03 00:05:10.383 +03:00 [DBG] Hosting started
2021-10-03 00:05:31.407 +03:00 [INF] Starting web host
2021-10-03 00:05:32.030 +03:00 [DBG] Hosting starting
2021-10-03 00:05:32.069 +03:00 [INF] User profile is available. Using 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-03 00:05:32.082 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-14642b65-a18c-49a2-99af-52420015a828.xml'.
2021-10-03 00:05:32.097 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-3aa2ae8c-81de-4273-8d4a-f52cc391033f.xml'.
2021-10-03 00:05:32.098 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-4d95ab8d-4041-43bb-8736-c55e7eebfed6.xml'.
2021-10-03 00:05:32.102 +03:00 [DBG] Found key {14642b65-a18c-49a2-99af-52420015a828}.
2021-10-03 00:05:32.106 +03:00 [DBG] Found key {3aa2ae8c-81de-4273-8d4a-f52cc391033f}.
2021-10-03 00:05:32.107 +03:00 [DBG] Found key {4d95ab8d-4041-43bb-8736-c55e7eebfed6}.
2021-10-03 00:05:32.112 +03:00 [DBG] Considering key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} with expiration date 2021-10-31 07:22:50Z as default key.
2021-10-03 00:05:32.118 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 00:05:32.121 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-10-03 00:05:32.122 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 00:05:32.126 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-10-03 00:05:32.131 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-10-03 00:05:32.135 +03:00 [DBG] Using key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} as the default key.
2021-10-03 00:05:32.137 +03:00 [DBG] Key ring with default key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} was loaded during application startup.
2021-10-03 00:05:32.384 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-10-03 00:05:32.961 +03:00 [DBG] The property 'UnitId' on entity type 'Unit' was created in shadow state because there are no eligible CLR members with a matching name.
2021-10-03 00:05:32.990 +03:00 [WRN] No type was specified for the decimal column 'Price' on entity type 'ProductPrice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 00:05:32.991 +03:00 [WRN] No type was specified for the decimal column 'Quantity' on entity type 'ProductStock'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 00:05:33.021 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 00:05:33.048 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:33.219 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:33.225 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 00:05:33.232 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2021-10-03 00:05:33.239 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:05:33.261 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:05:33.264 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:33.268 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:33.270 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 00:05:33.271 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 00:05:33.271 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:33.273 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:33.274 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 00:05:33.287 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 00:05:33.289 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:33.291 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:33.294 +03:00 [DBG] Migrating using database 'BitirDb' on server '.'.
2021-10-03 00:05:33.295 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:33.295 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:33.296 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 00:05:33.297 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 00:05:33.298 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:05:33.301 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:05:33.302 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:33.303 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:33.305 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 00:05:33.305 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 00:05:33.306 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:33.308 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:33.308 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:05:33.311 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:05:33.312 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:33.313 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:33.315 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:33.316 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:33.316 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 00:05:33.317 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 00:05:33.318 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:05:33.320 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:05:33.322 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:33.323 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:33.324 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 00:05:33.324 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 00:05:33.325 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:33.326 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:33.327 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:05:33.329 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:05:33.331 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:33.332 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:33.340 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:05:33.340 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 00:05:33.341 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:33.342 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:33.343 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 00:05:33.346 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 00:05:33.349 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:05:33.350 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:33.351 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:33.358 +03:00 [DBG] No migrations were found in assembly 'Bitir.Data'.
2021-10-03 00:05:33.361 +03:00 [INF] No migrations were applied. The database is already up to date.
2021-10-03 00:05:33.363 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 00:05:33.394 +03:00 [DBG] Failed to locate the development https certificate at 'null'.
2021-10-03 00:05:33.418 +03:00 [INF] Now listening on: http://localhost:5000
2021-10-03 00:05:33.418 +03:00 [DBG] Loaded hosting startup assembly Bitir.Api
2021-10-03 00:05:33.419 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-03 00:05:33.420 +03:00 [INF] Hosting environment: Development
2021-10-03 00:05:33.420 +03:00 [INF] Content root path: C:\Users\leven\source\repos\Bitir\API\Bitir.Api
2021-10-03 00:05:33.421 +03:00 [DBG] Hosting started
2021-10-03 00:05:46.682 +03:00 [DBG] Connection id "0HMC5T1JPNB3U" accepted.
2021-10-03 00:05:46.685 +03:00 [DBG] Connection id "0HMC5T1JPNB3U" started.
2021-10-03 00:05:46.704 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/AuthModule/AuthBase/Login application/json 38
2021-10-03 00:05:46.710 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-10-03 00:05:46.731 +03:00 [DBG] 1 candidate(s) found for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:05:46.735 +03:00 [DBG] Endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)' with route pattern 'AuthModule/AuthBase/Login' is valid for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:05:46.737 +03:00 [DBG] Request matched endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:05:46.787 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-10-03 00:05:46.791 +03:00 [INF] Executing endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:05:46.797 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2021-10-03 00:05:46.823 +03:00 [INF] Route matched with {module = "AuthModule", action = "Login", controller = "AuthBase"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthModule.Dto.LoginDto) on controller AuthModule.Controllers.AuthBaseController (AuthModule).
2021-10-03 00:05:46.827 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-10-03 00:05:46.828 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-10-03 00:05:46.829 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-10-03 00:05:46.831 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-10-03 00:05:46.832 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-10-03 00:05:46.833 +03:00 [DBG] Executing controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:05:46.836 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 00:05:46.840 +03:00 [DBG] Executed controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:05:46.849 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:05:46.851 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' using the name '' in request data ...
2021-10-03 00:05:46.853 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2021-10-03 00:05:46.859 +03:00 [DBG] Connection id "0HMC5T1JPNB3U", Request id "0HMC5T1JPNB3U:00000001": started reading request body.
2021-10-03 00:05:46.860 +03:00 [DBG] Connection id "0HMC5T1JPNB3U", Request id "0HMC5T1JPNB3U:00000001": done reading request body.
2021-10-03 00:05:46.863 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'AuthModule.Dto.LoginDto'
2021-10-03 00:05:46.864 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:05:46.864 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:05:46.865 +03:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:05:46.868 +03:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:05:47.028 +03:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserAccount>(
    asyncEnumerable: new QueryingEnumerable<UserAccount>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, UserAccount>, 
        Bitir.Data.Contexts.BitirMainContext, 
        null
    ), 
    cancellationToken: queryContext.CancellationToken)
2021-10-03 00:05:47.051 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:05:47.053 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2021-10-03 00:05:47.058 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:47.062 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:47.066 +03:00 [DBG] Executing DbCommand [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:05:47.098 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:05:47.117 +03:00 [DBG] Context 'BitirMainContext' started tracking 'UserAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-10-03 00:05:47.143 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:05:47.145 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:47.147 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:05:47.220 +03:00 [INF] Executed action AuthModule.Controllers.AuthBaseController.Login (AuthModule) in 384.6695ms
2021-10-03 00:05:47.223 +03:00 [INF] Executed endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:05:47.226 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Core.Exceptions.OperationFailedException: Incorrect password !!
   at AuthModule.Business.AuthBusinessBase.Login(LoginDto loginDto) in C:\Users\leven\source\repos\Bitir\API\AuthModule\Business\AuthBusinessBase.cs:line 97
   at AuthModule.Controllers.AuthBaseController.Login(LoginDto loginDto) in C:\Users\leven\source\repos\Bitir\API\AuthModule\Controllers\AuthBaseController.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-10-03 00:05:47.275 +03:00 [DBG] Connection id "0HMC5T1JPNB3U" completed keep alive response.
2021-10-03 00:05:47.276 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 00:05:47.278 +03:00 [INF] Request finished in 576.0573ms 500 text/plain
2021-10-03 00:10:26.941 +03:00 [INF] Starting web host
2021-10-03 00:10:27.700 +03:00 [DBG] Hosting starting
2021-10-03 00:10:27.750 +03:00 [INF] User profile is available. Using 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-03 00:10:27.764 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-14642b65-a18c-49a2-99af-52420015a828.xml'.
2021-10-03 00:10:27.781 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-3aa2ae8c-81de-4273-8d4a-f52cc391033f.xml'.
2021-10-03 00:10:27.783 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-4d95ab8d-4041-43bb-8736-c55e7eebfed6.xml'.
2021-10-03 00:10:27.789 +03:00 [DBG] Found key {14642b65-a18c-49a2-99af-52420015a828}.
2021-10-03 00:10:27.793 +03:00 [DBG] Found key {3aa2ae8c-81de-4273-8d4a-f52cc391033f}.
2021-10-03 00:10:27.793 +03:00 [DBG] Found key {4d95ab8d-4041-43bb-8736-c55e7eebfed6}.
2021-10-03 00:10:27.800 +03:00 [DBG] Considering key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} with expiration date 2021-10-31 07:22:50Z as default key.
2021-10-03 00:10:27.808 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 00:10:27.811 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-10-03 00:10:27.812 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 00:10:27.816 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-10-03 00:10:27.820 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-10-03 00:10:27.823 +03:00 [DBG] Using key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} as the default key.
2021-10-03 00:10:27.824 +03:00 [DBG] Key ring with default key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} was loaded during application startup.
2021-10-03 00:10:28.059 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-10-03 00:10:28.600 +03:00 [DBG] The property 'UnitId' on entity type 'Unit' was created in shadow state because there are no eligible CLR members with a matching name.
2021-10-03 00:10:28.620 +03:00 [WRN] No type was specified for the decimal column 'Price' on entity type 'ProductPrice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 00:10:28.622 +03:00 [WRN] No type was specified for the decimal column 'Quantity' on entity type 'ProductStock'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 00:10:28.650 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 00:10:28.674 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:10:28.824 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:10:28.829 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 00:10:28.834 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2021-10-03 00:10:28.842 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:10:28.863 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:10:28.866 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:10:28.870 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:10:28.872 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 00:10:28.873 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 00:10:28.873 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:10:28.875 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:10:28.876 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 00:10:28.890 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 00:10:28.892 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:10:28.894 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:10:28.897 +03:00 [DBG] Migrating using database 'BitirDb' on server '.'.
2021-10-03 00:10:28.898 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:10:28.899 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:10:28.901 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 00:10:28.901 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 00:10:28.902 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:10:28.905 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:10:28.907 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:10:28.907 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:10:28.909 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 00:10:28.910 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 00:10:28.911 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:10:28.912 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:10:28.912 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:10:28.915 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:10:28.916 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:10:28.917 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:10:28.919 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:10:28.919 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:10:28.920 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 00:10:28.921 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 00:10:28.922 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:10:28.924 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:10:28.925 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:10:28.926 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:10:28.927 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 00:10:28.928 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 00:10:28.928 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:10:28.929 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:10:28.930 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:10:28.933 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:10:28.934 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:10:28.935 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:10:28.942 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:10:28.943 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 00:10:28.944 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:10:28.945 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:10:28.946 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 00:10:28.949 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 00:10:28.952 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:10:28.953 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:10:28.954 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:10:28.961 +03:00 [DBG] No migrations were found in assembly 'Bitir.Data'.
2021-10-03 00:10:28.964 +03:00 [INF] No migrations were applied. The database is already up to date.
2021-10-03 00:10:28.965 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 00:10:28.993 +03:00 [DBG] Failed to locate the development https certificate at 'null'.
2021-10-03 00:10:29.017 +03:00 [INF] Now listening on: http://localhost:5000
2021-10-03 00:10:29.018 +03:00 [DBG] Loaded hosting startup assembly Bitir.Api
2021-10-03 00:10:29.018 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-03 00:10:29.019 +03:00 [INF] Hosting environment: Development
2021-10-03 00:10:29.020 +03:00 [INF] Content root path: C:\Users\leven\source\repos\Bitir\API\Bitir.Api
2021-10-03 00:10:29.020 +03:00 [DBG] Hosting started
2021-10-03 00:10:50.239 +03:00 [DBG] Connection id "0HMC5T4E8LLTA" accepted.
2021-10-03 00:10:50.241 +03:00 [DBG] Connection id "0HMC5T4E8LLTA" started.
2021-10-03 00:10:50.262 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/AuthModule/AuthBase/Login application/json 38
2021-10-03 00:10:50.267 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-10-03 00:10:50.292 +03:00 [DBG] 1 candidate(s) found for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:10:50.296 +03:00 [DBG] Endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)' with route pattern 'AuthModule/AuthBase/Login' is valid for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:10:50.298 +03:00 [DBG] Request matched endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:10:50.349 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-10-03 00:10:50.353 +03:00 [INF] Executing endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:10:50.359 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2021-10-03 00:10:50.387 +03:00 [INF] Route matched with {module = "AuthModule", action = "Login", controller = "AuthBase"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthModule.Dto.LoginDto) on controller AuthModule.Controllers.AuthBaseController (AuthModule).
2021-10-03 00:10:50.389 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-10-03 00:10:50.390 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-10-03 00:10:50.391 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-10-03 00:10:50.393 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-10-03 00:10:50.394 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-10-03 00:10:50.395 +03:00 [DBG] Executing controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:10:50.398 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 00:10:50.403 +03:00 [DBG] Executed controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:10:50.413 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:10:50.415 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' using the name '' in request data ...
2021-10-03 00:10:50.417 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2021-10-03 00:10:50.423 +03:00 [DBG] Connection id "0HMC5T4E8LLTA", Request id "0HMC5T4E8LLTA:00000001": started reading request body.
2021-10-03 00:10:50.423 +03:00 [DBG] Connection id "0HMC5T4E8LLTA", Request id "0HMC5T4E8LLTA:00000001": done reading request body.
2021-10-03 00:10:50.426 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'AuthModule.Dto.LoginDto'
2021-10-03 00:10:50.427 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:10:50.428 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:10:50.429 +03:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:10:50.432 +03:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:10:50.583 +03:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserAccount>(
    asyncEnumerable: new QueryingEnumerable<UserAccount>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, UserAccount>, 
        Bitir.Data.Contexts.BitirMainContext, 
        null
    ), 
    cancellationToken: queryContext.CancellationToken)
2021-10-03 00:10:50.606 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:10:50.607 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 00:10:50.612 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:10:50.615 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:10:50.619 +03:00 [DBG] Executing DbCommand [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:10:50.654 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:10:50.672 +03:00 [DBG] Context 'BitirMainContext' started tracking 'UserAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-10-03 00:10:50.698 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:10:50.700 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:10:50.703 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:10:50.776 +03:00 [INF] Executed action AuthModule.Controllers.AuthBaseController.Login (AuthModule) in 377.2592ms
2021-10-03 00:10:50.779 +03:00 [INF] Executed endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:10:50.954 +03:00 [DBG] Connection id "0HMC5T4E8LLTA" completed keep alive response.
2021-10-03 00:10:50.956 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 00:10:50.960 +03:00 [INF] Request finished in 700.0515ms 500 application/json
2021-10-03 00:11:42.900 +03:00 [INF] Starting web host
2021-10-03 00:11:43.669 +03:00 [DBG] Hosting starting
2021-10-03 00:11:43.709 +03:00 [INF] User profile is available. Using 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-03 00:11:43.722 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-14642b65-a18c-49a2-99af-52420015a828.xml'.
2021-10-03 00:11:43.737 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-3aa2ae8c-81de-4273-8d4a-f52cc391033f.xml'.
2021-10-03 00:11:43.738 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-4d95ab8d-4041-43bb-8736-c55e7eebfed6.xml'.
2021-10-03 00:11:43.742 +03:00 [DBG] Found key {14642b65-a18c-49a2-99af-52420015a828}.
2021-10-03 00:11:43.747 +03:00 [DBG] Found key {3aa2ae8c-81de-4273-8d4a-f52cc391033f}.
2021-10-03 00:11:43.747 +03:00 [DBG] Found key {4d95ab8d-4041-43bb-8736-c55e7eebfed6}.
2021-10-03 00:11:43.753 +03:00 [DBG] Considering key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} with expiration date 2021-10-31 07:22:50Z as default key.
2021-10-03 00:11:43.761 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 00:11:43.764 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-10-03 00:11:43.766 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 00:11:43.769 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-10-03 00:11:43.772 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-10-03 00:11:43.775 +03:00 [DBG] Using key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} as the default key.
2021-10-03 00:11:43.776 +03:00 [DBG] Key ring with default key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} was loaded during application startup.
2021-10-03 00:11:44.017 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-10-03 00:11:44.546 +03:00 [DBG] The property 'UnitId' on entity type 'Unit' was created in shadow state because there are no eligible CLR members with a matching name.
2021-10-03 00:11:44.567 +03:00 [WRN] No type was specified for the decimal column 'Price' on entity type 'ProductPrice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 00:11:44.569 +03:00 [WRN] No type was specified for the decimal column 'Quantity' on entity type 'ProductStock'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 00:11:44.598 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 00:11:44.632 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:11:44.794 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:11:44.799 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 00:11:44.804 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2021-10-03 00:11:44.811 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:11:44.833 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:11:44.836 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:11:44.840 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:11:44.843 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 00:11:44.843 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 00:11:44.844 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:11:44.846 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:11:44.847 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 00:11:44.861 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 00:11:44.863 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:11:44.864 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:11:44.867 +03:00 [DBG] Migrating using database 'BitirDb' on server '.'.
2021-10-03 00:11:44.868 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:11:44.869 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:11:44.870 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 00:11:44.870 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 00:11:44.871 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:11:44.875 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:11:44.876 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:11:44.877 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:11:44.879 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 00:11:44.879 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 00:11:44.880 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:11:44.881 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:11:44.882 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:11:44.885 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:11:44.886 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:11:44.887 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:11:44.888 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:11:44.889 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:11:44.890 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 00:11:44.891 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 00:11:44.892 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:11:44.894 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:11:44.895 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:11:44.896 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:11:44.897 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 00:11:44.898 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 00:11:44.899 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:11:44.900 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:11:44.900 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:11:44.904 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:11:44.905 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:11:44.906 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:11:44.914 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:11:44.914 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 00:11:44.915 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:11:44.916 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:11:44.917 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 00:11:44.920 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 00:11:44.923 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:11:44.923 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:11:44.924 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:11:44.932 +03:00 [DBG] No migrations were found in assembly 'Bitir.Data'.
2021-10-03 00:11:44.935 +03:00 [INF] No migrations were applied. The database is already up to date.
2021-10-03 00:11:44.936 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 00:11:44.967 +03:00 [DBG] Failed to locate the development https certificate at 'null'.
2021-10-03 00:11:44.991 +03:00 [INF] Now listening on: http://localhost:5000
2021-10-03 00:11:44.992 +03:00 [DBG] Loaded hosting startup assembly Bitir.Api
2021-10-03 00:11:44.993 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-03 00:11:44.994 +03:00 [INF] Hosting environment: Development
2021-10-03 00:11:44.994 +03:00 [INF] Content root path: C:\Users\leven\source\repos\Bitir\API\Bitir.Api
2021-10-03 00:11:44.995 +03:00 [DBG] Hosting started
2021-10-03 00:12:06.387 +03:00 [DBG] Connection id "0HMC5T54US5LN" accepted.
2021-10-03 00:12:06.390 +03:00 [DBG] Connection id "0HMC5T54US5LN" started.
2021-10-03 00:12:06.411 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/AuthModule/AuthBase/Login application/json 38
2021-10-03 00:12:06.414 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-10-03 00:12:06.443 +03:00 [DBG] 1 candidate(s) found for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:12:06.446 +03:00 [DBG] Endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)' with route pattern 'AuthModule/AuthBase/Login' is valid for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:12:06.448 +03:00 [DBG] Request matched endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:12:06.496 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-10-03 00:12:06.499 +03:00 [INF] Executing endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:12:06.506 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2021-10-03 00:12:06.532 +03:00 [INF] Route matched with {module = "AuthModule", action = "Login", controller = "AuthBase"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthModule.Dto.LoginDto) on controller AuthModule.Controllers.AuthBaseController (AuthModule).
2021-10-03 00:12:06.533 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-10-03 00:12:06.534 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-10-03 00:12:06.536 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-10-03 00:12:06.537 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-10-03 00:12:06.538 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-10-03 00:12:06.540 +03:00 [DBG] Executing controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:12:06.543 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 00:12:06.547 +03:00 [DBG] Executed controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:12:06.556 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:12:06.558 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' using the name '' in request data ...
2021-10-03 00:12:06.560 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2021-10-03 00:12:06.566 +03:00 [DBG] Connection id "0HMC5T54US5LN", Request id "0HMC5T54US5LN:00000001": started reading request body.
2021-10-03 00:12:06.567 +03:00 [DBG] Connection id "0HMC5T54US5LN", Request id "0HMC5T54US5LN:00000001": done reading request body.
2021-10-03 00:12:06.570 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'AuthModule.Dto.LoginDto'
2021-10-03 00:12:06.571 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:12:06.572 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:12:06.573 +03:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:12:06.576 +03:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:12:06.726 +03:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserAccount>(
    asyncEnumerable: new QueryingEnumerable<UserAccount>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, UserAccount>, 
        Bitir.Data.Contexts.BitirMainContext, 
        null
    ), 
    cancellationToken: queryContext.CancellationToken)
2021-10-03 00:12:06.749 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:12:06.750 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 00:12:06.755 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:12:06.757 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:12:06.761 +03:00 [DBG] Executing DbCommand [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:12:06.794 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:12:06.813 +03:00 [DBG] Context 'BitirMainContext' started tracking 'UserAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-10-03 00:12:06.837 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:12:06.840 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:12:06.842 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:12:06.914 +03:00 [INF] Executed action AuthModule.Controllers.AuthBaseController.Login (AuthModule) in 372.0493ms
2021-10-03 00:12:06.917 +03:00 [INF] Executed endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:12:06.919 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Core.Exceptions.OperationFailedException: Incorrect password !!
   at AuthModule.Business.AuthBusinessBase.Login(LoginDto loginDto) in C:\Users\leven\source\repos\Bitir\API\AuthModule\Business\AuthBusinessBase.cs:line 97
   at AuthModule.Controllers.AuthBaseController.Login(LoginDto loginDto) in C:\Users\leven\source\repos\Bitir\API\AuthModule\Controllers\AuthBaseController.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-10-03 00:12:06.967 +03:00 [DBG] Connection id "0HMC5T54US5LN" completed keep alive response.
2021-10-03 00:12:06.968 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 00:12:06.970 +03:00 [INF] Request finished in 560.967ms 500 text/plain
2021-10-03 00:13:48.560 +03:00 [INF] Starting web host
2021-10-03 00:13:49.373 +03:00 [DBG] Hosting starting
2021-10-03 00:13:49.467 +03:00 [INF] User profile is available. Using 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-03 00:13:49.500 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-14642b65-a18c-49a2-99af-52420015a828.xml'.
2021-10-03 00:13:49.525 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-3aa2ae8c-81de-4273-8d4a-f52cc391033f.xml'.
2021-10-03 00:13:49.526 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-4d95ab8d-4041-43bb-8736-c55e7eebfed6.xml'.
2021-10-03 00:13:49.531 +03:00 [DBG] Found key {14642b65-a18c-49a2-99af-52420015a828}.
2021-10-03 00:13:49.536 +03:00 [DBG] Found key {3aa2ae8c-81de-4273-8d4a-f52cc391033f}.
2021-10-03 00:13:49.537 +03:00 [DBG] Found key {4d95ab8d-4041-43bb-8736-c55e7eebfed6}.
2021-10-03 00:13:49.543 +03:00 [DBG] Considering key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} with expiration date 2021-10-31 07:22:50Z as default key.
2021-10-03 00:13:49.551 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 00:13:49.554 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-10-03 00:13:49.555 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 00:13:49.560 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-10-03 00:13:49.564 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-10-03 00:13:49.567 +03:00 [DBG] Using key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} as the default key.
2021-10-03 00:13:49.568 +03:00 [DBG] Key ring with default key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} was loaded during application startup.
2021-10-03 00:13:49.829 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-10-03 00:13:50.329 +03:00 [DBG] The property 'UnitId' on entity type 'Unit' was created in shadow state because there are no eligible CLR members with a matching name.
2021-10-03 00:13:50.349 +03:00 [WRN] No type was specified for the decimal column 'Price' on entity type 'ProductPrice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 00:13:50.352 +03:00 [WRN] No type was specified for the decimal column 'Quantity' on entity type 'ProductStock'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 00:13:50.376 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 00:13:50.400 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:13:50.559 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:13:50.564 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 00:13:50.569 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2021-10-03 00:13:50.576 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:13:50.598 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:13:50.602 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:13:50.606 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:13:50.608 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 00:13:50.609 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 00:13:50.610 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:13:50.611 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:13:50.613 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 00:13:50.628 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 00:13:50.630 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:13:50.632 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:13:50.635 +03:00 [DBG] Migrating using database 'BitirDb' on server '.'.
2021-10-03 00:13:50.636 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:13:50.637 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:13:50.638 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 00:13:50.639 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 00:13:50.640 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:13:50.644 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:13:50.646 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:13:50.647 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:13:50.649 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 00:13:50.650 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2021-10-03 00:13:50.652 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:13:50.653 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:13:50.654 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:13:50.657 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:13:50.659 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:13:50.660 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:13:50.661 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:13:50.662 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:13:50.663 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 00:13:50.664 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 00:13:50.667 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:13:50.671 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:13:50.673 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:13:50.674 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:13:50.676 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 00:13:50.677 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 00:13:50.678 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:13:50.679 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:13:50.681 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:13:50.684 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:13:50.685 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:13:50.686 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:13:50.694 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:13:50.696 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2021-10-03 00:13:50.697 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:13:50.698 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:13:50.699 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 00:13:50.702 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 00:13:50.706 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:13:50.706 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:13:50.707 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:13:50.715 +03:00 [DBG] No migrations were found in assembly 'Bitir.Data'.
2021-10-03 00:13:50.718 +03:00 [INF] No migrations were applied. The database is already up to date.
2021-10-03 00:13:50.720 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 00:13:50.750 +03:00 [DBG] Failed to locate the development https certificate at 'null'.
2021-10-03 00:13:50.773 +03:00 [INF] Now listening on: http://localhost:5000
2021-10-03 00:13:50.774 +03:00 [DBG] Loaded hosting startup assembly Bitir.Api
2021-10-03 00:13:50.775 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-03 00:13:50.776 +03:00 [INF] Hosting environment: Development
2021-10-03 00:13:50.777 +03:00 [INF] Content root path: C:\Users\leven\source\repos\Bitir\API\Bitir.Api
2021-10-03 00:13:50.778 +03:00 [DBG] Hosting started
2021-10-03 00:14:07.440 +03:00 [DBG] Connection id "0HMC5T691AJJ6" accepted.
2021-10-03 00:14:07.442 +03:00 [DBG] Connection id "0HMC5T691AJJ6" started.
2021-10-03 00:14:07.463 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/AuthModule/AuthBase/Login application/json 36
2021-10-03 00:14:07.467 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-10-03 00:14:07.490 +03:00 [DBG] 1 candidate(s) found for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:14:07.495 +03:00 [DBG] Endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)' with route pattern 'AuthModule/AuthBase/Login' is valid for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:14:07.498 +03:00 [DBG] Request matched endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:14:07.551 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-10-03 00:14:07.554 +03:00 [INF] Executing endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:14:07.560 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2021-10-03 00:14:07.587 +03:00 [INF] Route matched with {module = "AuthModule", action = "Login", controller = "AuthBase"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthModule.Dto.LoginDto) on controller AuthModule.Controllers.AuthBaseController (AuthModule).
2021-10-03 00:14:07.591 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-10-03 00:14:07.593 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-10-03 00:14:07.594 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-10-03 00:14:07.596 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-10-03 00:14:07.597 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-10-03 00:14:07.599 +03:00 [DBG] Executing controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:14:07.602 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 00:14:07.606 +03:00 [DBG] Executed controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:14:07.615 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:14:07.617 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' using the name '' in request data ...
2021-10-03 00:14:07.619 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2021-10-03 00:14:07.625 +03:00 [DBG] Connection id "0HMC5T691AJJ6", Request id "0HMC5T691AJJ6:00000001": started reading request body.
2021-10-03 00:14:07.626 +03:00 [DBG] Connection id "0HMC5T691AJJ6", Request id "0HMC5T691AJJ6:00000001": done reading request body.
2021-10-03 00:14:07.630 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'AuthModule.Dto.LoginDto'
2021-10-03 00:14:07.630 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:14:07.631 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:14:07.632 +03:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:14:07.635 +03:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:14:07.784 +03:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserAccount>(
    asyncEnumerable: new QueryingEnumerable<UserAccount>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, UserAccount>, 
        Bitir.Data.Contexts.BitirMainContext, 
        null
    ), 
    cancellationToken: queryContext.CancellationToken)
2021-10-03 00:14:07.810 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:14:07.812 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2021-10-03 00:14:07.817 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:14:07.819 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:14:07.824 +03:00 [DBG] Executing DbCommand [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:14:07.859 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:14:07.879 +03:00 [DBG] Context 'BitirMainContext' started tracking 'UserAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-10-03 00:14:07.905 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:14:07.908 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:14:07.911 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:14:08.021 +03:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserToken>(
    asyncEnumerable: new QueryingEnumerable<UserToken>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, UserToken>, 
        Bitir.Data.Contexts.BitirMainContext, 
        null
    ), 
    cancellationToken: queryContext.CancellationToken)
2021-10-03 00:14:08.025 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:14:08.025 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 00:14:08.027 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:14:08.028 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:14:08.029 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[InsertDate], [u].[RefreshToken], [u].[RefreshTokenExpirationDate], [u].[Status], [u].[UpdateDate], [u].[UserId]
FROM [auth].[UserToken] AS [u]
WHERE ([u].[Id] = @__entity_Id_0) AND ([u].[Status] <> 1)
2021-10-03 00:14:08.035 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__entity_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[InsertDate], [u].[RefreshToken], [u].[RefreshTokenExpirationDate], [u].[Status], [u].[UpdateDate], [u].[UserId]
FROM [auth].[UserToken] AS [u]
WHERE ([u].[Id] = @__entity_Id_0) AND ([u].[Status] <> 1)
2021-10-03 00:14:08.037 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:14:08.038 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:14:08.041 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:14:17.355 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2021-10-03 00:14:17.359 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["Application/json"]'.
2021-10-03 00:14:17.361 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2021-10-03 00:14:17.362 +03:00 [INF] Executing ObjectResult, writing value of type 'Bitir.Data.Model.Dtos.ResponseWrapper`1[[AuthModule.Security.JWT.AccessToken, AuthModule, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-03 00:14:17.375 +03:00 [INF] Executed action AuthModule.Controllers.AuthBaseController.Login (AuthModule) in 9773.0581ms
2021-10-03 00:14:17.377 +03:00 [INF] Executed endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:14:17.379 +03:00 [DBG] Connection id "0HMC5T691AJJ6" completed keep alive response.
2021-10-03 00:14:17.380 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 00:14:17.382 +03:00 [INF] Request finished in 9921.2788ms 200 application/json; charset=utf-8
2021-10-03 00:14:51.045 +03:00 [INF] Starting web host
2021-10-03 00:14:51.805 +03:00 [DBG] Hosting starting
2021-10-03 00:14:51.873 +03:00 [INF] User profile is available. Using 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-03 00:14:51.891 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-14642b65-a18c-49a2-99af-52420015a828.xml'.
2021-10-03 00:14:51.909 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-3aa2ae8c-81de-4273-8d4a-f52cc391033f.xml'.
2021-10-03 00:14:51.910 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-4d95ab8d-4041-43bb-8736-c55e7eebfed6.xml'.
2021-10-03 00:14:51.915 +03:00 [DBG] Found key {14642b65-a18c-49a2-99af-52420015a828}.
2021-10-03 00:14:51.921 +03:00 [DBG] Found key {3aa2ae8c-81de-4273-8d4a-f52cc391033f}.
2021-10-03 00:14:51.922 +03:00 [DBG] Found key {4d95ab8d-4041-43bb-8736-c55e7eebfed6}.
2021-10-03 00:14:51.930 +03:00 [DBG] Considering key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} with expiration date 2021-10-31 07:22:50Z as default key.
2021-10-03 00:14:51.942 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 00:14:51.947 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-10-03 00:14:51.950 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 00:14:51.955 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-10-03 00:14:51.959 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-10-03 00:14:51.964 +03:00 [DBG] Using key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} as the default key.
2021-10-03 00:14:51.965 +03:00 [DBG] Key ring with default key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} was loaded during application startup.
2021-10-03 00:14:52.192 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-10-03 00:14:52.737 +03:00 [DBG] The property 'UnitId' on entity type 'Unit' was created in shadow state because there are no eligible CLR members with a matching name.
2021-10-03 00:14:52.755 +03:00 [WRN] No type was specified for the decimal column 'Price' on entity type 'ProductPrice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 00:14:52.757 +03:00 [WRN] No type was specified for the decimal column 'Quantity' on entity type 'ProductStock'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 00:14:52.786 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 00:14:52.810 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:14:52.962 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:14:52.966 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 00:14:52.973 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2021-10-03 00:14:52.981 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:14:53.002 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:14:53.006 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:14:53.011 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:14:53.013 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 00:14:53.014 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 00:14:53.016 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:14:53.018 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:14:53.019 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 00:14:53.035 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 00:14:53.037 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:14:53.040 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:14:53.044 +03:00 [DBG] Migrating using database 'BitirDb' on server '.'.
2021-10-03 00:14:53.045 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:14:53.046 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:14:53.047 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 00:14:53.049 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2021-10-03 00:14:53.050 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:14:53.054 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:14:53.056 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:14:53.057 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:14:53.059 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 00:14:53.060 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 00:14:53.061 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:14:53.062 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:14:53.063 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:14:53.066 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:14:53.067 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:14:53.068 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:14:53.072 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:14:53.073 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:14:53.074 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 00:14:53.076 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2021-10-03 00:14:53.077 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:14:53.081 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:14:53.082 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:14:53.085 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:14:53.086 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 00:14:53.087 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2021-10-03 00:14:53.089 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:14:53.090 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:14:53.092 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:14:53.095 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:14:53.097 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:14:53.098 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:14:53.108 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:14:53.108 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 00:14:53.110 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:14:53.111 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:14:53.113 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 00:14:53.119 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 00:14:53.122 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:14:53.123 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:14:53.124 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:14:53.132 +03:00 [DBG] No migrations were found in assembly 'Bitir.Data'.
2021-10-03 00:14:53.135 +03:00 [INF] No migrations were applied. The database is already up to date.
2021-10-03 00:14:53.136 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 00:14:53.169 +03:00 [DBG] Failed to locate the development https certificate at 'null'.
2021-10-03 00:14:53.196 +03:00 [INF] Now listening on: http://localhost:5000
2021-10-03 00:14:53.197 +03:00 [DBG] Loaded hosting startup assembly Bitir.Api
2021-10-03 00:14:53.198 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-03 00:14:53.198 +03:00 [INF] Hosting environment: Development
2021-10-03 00:14:53.200 +03:00 [INF] Content root path: C:\Users\leven\source\repos\Bitir\API\Bitir.Api
2021-10-03 00:14:53.201 +03:00 [DBG] Hosting started
2021-10-03 00:15:12.773 +03:00 [DBG] Connection id "0HMC5T6SGCKTK" accepted.
2021-10-03 00:15:12.776 +03:00 [DBG] Connection id "0HMC5T6SGCKTK" started.
2021-10-03 00:15:12.796 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/AuthModule/AuthBase/Login application/json 38
2021-10-03 00:15:12.800 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-10-03 00:15:20.912 +03:00 [DBG] 1 candidate(s) found for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:15:20.918 +03:00 [DBG] Endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)' with route pattern 'AuthModule/AuthBase/Login' is valid for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:15:20.920 +03:00 [DBG] Request matched endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:15:20.972 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-10-03 00:15:20.975 +03:00 [INF] Executing endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:15:20.981 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2021-10-03 00:15:21.008 +03:00 [INF] Route matched with {module = "AuthModule", action = "Login", controller = "AuthBase"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthModule.Dto.LoginDto) on controller AuthModule.Controllers.AuthBaseController (AuthModule).
2021-10-03 00:15:21.011 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-10-03 00:15:21.013 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-10-03 00:15:21.014 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-10-03 00:15:21.017 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-10-03 00:15:21.018 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-10-03 00:15:21.020 +03:00 [DBG] Executing controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:15:21.023 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 00:15:21.027 +03:00 [DBG] Executed controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:15:21.036 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:15:21.039 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' using the name '' in request data ...
2021-10-03 00:15:21.041 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2021-10-03 00:15:21.046 +03:00 [DBG] Connection id "0HMC5T6SGCKTK", Request id "0HMC5T6SGCKTK:00000001": started reading request body.
2021-10-03 00:15:21.047 +03:00 [DBG] Connection id "0HMC5T6SGCKTK", Request id "0HMC5T6SGCKTK:00000001": done reading request body.
2021-10-03 00:15:21.051 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'AuthModule.Dto.LoginDto'
2021-10-03 00:15:21.052 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:15:21.053 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:15:21.054 +03:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:15:21.056 +03:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:15:21.206 +03:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserAccount>(
    asyncEnumerable: new QueryingEnumerable<UserAccount>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, UserAccount>, 
        Bitir.Data.Contexts.BitirMainContext, 
        null
    ), 
    cancellationToken: queryContext.CancellationToken)
2021-10-03 00:15:21.229 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:15:21.230 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 00:15:21.235 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:15:21.237 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:15:21.241 +03:00 [DBG] Executing DbCommand [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:15:21.276 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:15:21.296 +03:00 [DBG] Context 'BitirMainContext' started tracking 'UserAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-10-03 00:15:21.324 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:15:21.327 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:15:21.329 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:15:21.400 +03:00 [INF] Executed action AuthModule.Controllers.AuthBaseController.Login (AuthModule) in 377.652ms
2021-10-03 00:15:21.404 +03:00 [INF] Executed endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:15:28.193 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Core.Exceptions.OperationFailedException: Incorrect password !!
   at AuthModule.Business.AuthBusinessBase.Login(LoginDto loginDto) in C:\Users\leven\source\repos\Bitir\API\AuthModule\Business\AuthBusinessBase.cs:line 97
   at AuthModule.Controllers.AuthBaseController.Login(LoginDto loginDto) in C:\Users\leven\source\repos\Bitir\API\AuthModule\Controllers\AuthBaseController.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Core.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\leven\source\repos\Bitir\API\Core\Middlewares\ExceptionMiddleware.cs:line 35
2021-10-03 00:17:46.327 +03:00 [INF] Starting web host
2021-10-03 00:17:47.065 +03:00 [DBG] Hosting starting
2021-10-03 00:17:47.104 +03:00 [INF] User profile is available. Using 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-03 00:17:47.117 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-14642b65-a18c-49a2-99af-52420015a828.xml'.
2021-10-03 00:17:47.133 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-3aa2ae8c-81de-4273-8d4a-f52cc391033f.xml'.
2021-10-03 00:17:47.134 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-4d95ab8d-4041-43bb-8736-c55e7eebfed6.xml'.
2021-10-03 00:17:47.138 +03:00 [DBG] Found key {14642b65-a18c-49a2-99af-52420015a828}.
2021-10-03 00:17:47.143 +03:00 [DBG] Found key {3aa2ae8c-81de-4273-8d4a-f52cc391033f}.
2021-10-03 00:17:47.144 +03:00 [DBG] Found key {4d95ab8d-4041-43bb-8736-c55e7eebfed6}.
2021-10-03 00:17:47.149 +03:00 [DBG] Considering key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} with expiration date 2021-10-31 07:22:50Z as default key.
2021-10-03 00:17:47.156 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 00:17:47.159 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-10-03 00:17:47.161 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 00:17:47.164 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-10-03 00:17:47.167 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-10-03 00:17:47.170 +03:00 [DBG] Using key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} as the default key.
2021-10-03 00:17:47.172 +03:00 [DBG] Key ring with default key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} was loaded during application startup.
2021-10-03 00:17:47.417 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-10-03 00:17:47.941 +03:00 [DBG] The property 'UnitId' on entity type 'Unit' was created in shadow state because there are no eligible CLR members with a matching name.
2021-10-03 00:17:47.963 +03:00 [WRN] No type was specified for the decimal column 'Price' on entity type 'ProductPrice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 00:17:47.966 +03:00 [WRN] No type was specified for the decimal column 'Quantity' on entity type 'ProductStock'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 00:17:47.995 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 00:17:48.020 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:17:48.185 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:17:48.190 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 00:17:48.196 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2021-10-03 00:17:48.203 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:17:48.223 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:17:48.227 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:17:48.231 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:17:48.233 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 00:17:48.235 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2021-10-03 00:17:48.236 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:17:48.237 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:17:48.238 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 00:17:48.252 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 00:17:48.255 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:17:48.258 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:17:48.261 +03:00 [DBG] Migrating using database 'BitirDb' on server '.'.
2021-10-03 00:17:48.263 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:17:48.264 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:17:48.265 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 00:17:48.266 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 00:17:48.267 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:17:48.271 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:17:48.273 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:17:48.274 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:17:48.276 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 00:17:48.276 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 00:17:48.277 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:17:48.278 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:17:48.279 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:17:48.282 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:17:48.284 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:17:48.285 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:17:48.288 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:17:48.289 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:17:48.290 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 00:17:48.291 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 00:17:48.292 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:17:48.295 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:17:48.297 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:17:48.299 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:17:48.300 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 00:17:48.302 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2021-10-03 00:17:48.303 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:17:48.305 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:17:48.308 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:17:48.315 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:17:48.318 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:17:48.319 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:17:48.327 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:17:48.327 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 00:17:48.329 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:17:48.330 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:17:48.331 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 00:17:48.336 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 00:17:48.339 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:17:48.340 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:17:48.341 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:17:48.349 +03:00 [DBG] No migrations were found in assembly 'Bitir.Data'.
2021-10-03 00:17:48.352 +03:00 [INF] No migrations were applied. The database is already up to date.
2021-10-03 00:17:48.354 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 00:17:48.389 +03:00 [DBG] Failed to locate the development https certificate at 'null'.
2021-10-03 00:17:48.412 +03:00 [INF] Now listening on: http://localhost:5000
2021-10-03 00:17:48.413 +03:00 [DBG] Loaded hosting startup assembly Bitir.Api
2021-10-03 00:17:48.414 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-03 00:17:48.415 +03:00 [INF] Hosting environment: Development
2021-10-03 00:17:48.416 +03:00 [INF] Content root path: C:\Users\leven\source\repos\Bitir\API\Bitir.Api
2021-10-03 00:17:48.417 +03:00 [DBG] Hosting started
2021-10-03 00:18:02.553 +03:00 [DBG] Connection id "0HMC5T8F3HAGR" accepted.
2021-10-03 00:18:02.556 +03:00 [DBG] Connection id "0HMC5T8F3HAGR" started.
2021-10-03 00:18:02.576 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/AuthModule/AuthBase/Login application/json 36
2021-10-03 00:18:02.580 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-10-03 00:18:02.602 +03:00 [DBG] 1 candidate(s) found for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:18:02.607 +03:00 [DBG] Endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)' with route pattern 'AuthModule/AuthBase/Login' is valid for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:18:02.608 +03:00 [DBG] Request matched endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:18:02.658 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-10-03 00:18:02.661 +03:00 [INF] Executing endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:18:02.667 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2021-10-03 00:18:02.694 +03:00 [INF] Route matched with {module = "AuthModule", action = "Login", controller = "AuthBase"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthModule.Dto.LoginDto) on controller AuthModule.Controllers.AuthBaseController (AuthModule).
2021-10-03 00:18:02.697 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-10-03 00:18:02.698 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-10-03 00:18:02.700 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-10-03 00:18:02.702 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-10-03 00:18:02.703 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-10-03 00:18:02.705 +03:00 [DBG] Executing controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:18:02.708 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 00:18:02.712 +03:00 [DBG] Executed controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:18:02.722 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:18:02.724 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' using the name '' in request data ...
2021-10-03 00:18:02.726 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2021-10-03 00:18:02.732 +03:00 [DBG] Connection id "0HMC5T8F3HAGR", Request id "0HMC5T8F3HAGR:00000001": started reading request body.
2021-10-03 00:18:02.733 +03:00 [DBG] Connection id "0HMC5T8F3HAGR", Request id "0HMC5T8F3HAGR:00000001": done reading request body.
2021-10-03 00:18:02.736 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'AuthModule.Dto.LoginDto'
2021-10-03 00:18:02.737 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:18:02.738 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:18:02.739 +03:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:18:02.742 +03:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:18:02.892 +03:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserAccount>(
    asyncEnumerable: new QueryingEnumerable<UserAccount>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, UserAccount>, 
        Bitir.Data.Contexts.BitirMainContext, 
        null
    ), 
    cancellationToken: queryContext.CancellationToken)
2021-10-03 00:18:02.916 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:18:02.917 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2021-10-03 00:18:02.922 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:18:02.925 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:18:02.929 +03:00 [DBG] Executing DbCommand [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:18:02.962 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:18:02.982 +03:00 [DBG] Context 'BitirMainContext' started tracking 'UserAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-10-03 00:18:03.006 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:18:03.008 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:18:03.011 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:18:03.112 +03:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserToken>(
    asyncEnumerable: new QueryingEnumerable<UserToken>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, UserToken>, 
        Bitir.Data.Contexts.BitirMainContext, 
        null
    ), 
    cancellationToken: queryContext.CancellationToken)
2021-10-03 00:18:03.115 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:18:03.116 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 00:18:03.118 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:18:03.118 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:18:03.119 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[InsertDate], [u].[RefreshToken], [u].[RefreshTokenExpirationDate], [u].[Status], [u].[UpdateDate], [u].[UserId]
FROM [auth].[UserToken] AS [u]
WHERE ([u].[Id] = @__entity_Id_0) AND ([u].[Status] <> 1)
2021-10-03 00:18:03.123 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__entity_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[InsertDate], [u].[RefreshToken], [u].[RefreshTokenExpirationDate], [u].[Status], [u].[UpdateDate], [u].[UserId]
FROM [auth].[UserToken] AS [u]
WHERE ([u].[Id] = @__entity_Id_0) AND ([u].[Status] <> 1)
2021-10-03 00:18:03.125 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:18:03.126 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:18:03.127 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:18:03.131 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2021-10-03 00:18:03.135 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["Application/json"]'.
2021-10-03 00:18:03.137 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2021-10-03 00:18:03.138 +03:00 [INF] Executing ObjectResult, writing value of type 'Bitir.Data.Model.Dtos.ResponseWrapper`1[[AuthModule.Security.JWT.AccessToken, AuthModule, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-03 00:18:03.150 +03:00 [INF] Executed action AuthModule.Controllers.AuthBaseController.Login (AuthModule) in 442.1209ms
2021-10-03 00:18:03.152 +03:00 [INF] Executed endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:18:03.155 +03:00 [DBG] Connection id "0HMC5T8F3HAGR" completed keep alive response.
2021-10-03 00:18:03.156 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 00:18:03.158 +03:00 [INF] Request finished in 583.1776ms 200 application/json; charset=utf-8
2021-10-03 00:18:57.739 +03:00 [INF] Starting web host
2021-10-03 00:18:58.434 +03:00 [DBG] Hosting starting
2021-10-03 00:18:58.482 +03:00 [INF] User profile is available. Using 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-03 00:18:58.496 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-14642b65-a18c-49a2-99af-52420015a828.xml'.
2021-10-03 00:18:58.510 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-3aa2ae8c-81de-4273-8d4a-f52cc391033f.xml'.
2021-10-03 00:18:58.511 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-4d95ab8d-4041-43bb-8736-c55e7eebfed6.xml'.
2021-10-03 00:18:58.515 +03:00 [DBG] Found key {14642b65-a18c-49a2-99af-52420015a828}.
2021-10-03 00:18:58.519 +03:00 [DBG] Found key {3aa2ae8c-81de-4273-8d4a-f52cc391033f}.
2021-10-03 00:18:58.520 +03:00 [DBG] Found key {4d95ab8d-4041-43bb-8736-c55e7eebfed6}.
2021-10-03 00:18:58.525 +03:00 [DBG] Considering key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} with expiration date 2021-10-31 07:22:50Z as default key.
2021-10-03 00:18:58.531 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 00:18:58.534 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-10-03 00:18:58.536 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 00:18:58.539 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-10-03 00:18:58.542 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-10-03 00:18:58.547 +03:00 [DBG] Using key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} as the default key.
2021-10-03 00:18:58.548 +03:00 [DBG] Key ring with default key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} was loaded during application startup.
2021-10-03 00:18:58.793 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-10-03 00:18:59.308 +03:00 [DBG] The property 'UnitId' on entity type 'Unit' was created in shadow state because there are no eligible CLR members with a matching name.
2021-10-03 00:18:59.327 +03:00 [WRN] No type was specified for the decimal column 'Price' on entity type 'ProductPrice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 00:18:59.329 +03:00 [WRN] No type was specified for the decimal column 'Quantity' on entity type 'ProductStock'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 00:18:59.358 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 00:18:59.383 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:18:59.544 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:18:59.549 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 00:18:59.555 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2021-10-03 00:18:59.561 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:18:59.583 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:18:59.587 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:18:59.590 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:18:59.592 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 00:18:59.593 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 00:18:59.594 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:18:59.595 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:18:59.596 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 00:18:59.610 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 00:18:59.612 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:18:59.613 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:18:59.616 +03:00 [DBG] Migrating using database 'BitirDb' on server '.'.
2021-10-03 00:18:59.617 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:18:59.618 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:18:59.619 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 00:18:59.620 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 00:18:59.621 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:18:59.624 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:18:59.626 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:18:59.627 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:18:59.629 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 00:18:59.629 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 00:18:59.630 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:18:59.631 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:18:59.632 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:18:59.636 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:18:59.637 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:18:59.638 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:18:59.640 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:18:59.640 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:18:59.641 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 00:18:59.642 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 00:18:59.643 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:18:59.646 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:18:59.648 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:18:59.648 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:18:59.649 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 00:18:59.650 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 00:18:59.651 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:18:59.652 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:18:59.653 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:18:59.657 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:18:59.658 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:18:59.659 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:18:59.667 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:18:59.668 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 00:18:59.668 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:18:59.669 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:18:59.670 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 00:18:59.674 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 00:18:59.677 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:18:59.677 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:18:59.678 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:18:59.686 +03:00 [DBG] No migrations were found in assembly 'Bitir.Data'.
2021-10-03 00:18:59.689 +03:00 [INF] No migrations were applied. The database is already up to date.
2021-10-03 00:18:59.691 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 00:18:59.723 +03:00 [DBG] Failed to locate the development https certificate at 'null'.
2021-10-03 00:18:59.746 +03:00 [INF] Now listening on: http://localhost:5000
2021-10-03 00:18:59.747 +03:00 [DBG] Loaded hosting startup assembly Bitir.Api
2021-10-03 00:18:59.748 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-03 00:18:59.749 +03:00 [INF] Hosting environment: Development
2021-10-03 00:18:59.750 +03:00 [INF] Content root path: C:\Users\leven\source\repos\Bitir\API\Bitir.Api
2021-10-03 00:18:59.751 +03:00 [DBG] Hosting started
2021-10-03 00:19:14.233 +03:00 [DBG] Connection id "0HMC5T94F4BK3" accepted.
2021-10-03 00:19:14.235 +03:00 [DBG] Connection id "0HMC5T94F4BK3" started.
2021-10-03 00:19:14.257 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/AuthModule/AuthBase/Login application/json 37
2021-10-03 00:19:14.259 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-10-03 00:19:14.282 +03:00 [DBG] 1 candidate(s) found for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:19:14.285 +03:00 [DBG] Endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)' with route pattern 'AuthModule/AuthBase/Login' is valid for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:19:14.288 +03:00 [DBG] Request matched endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:19:14.340 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-10-03 00:19:14.344 +03:00 [INF] Executing endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:19:14.353 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2021-10-03 00:19:14.380 +03:00 [INF] Route matched with {module = "AuthModule", action = "Login", controller = "AuthBase"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthModule.Dto.LoginDto) on controller AuthModule.Controllers.AuthBaseController (AuthModule).
2021-10-03 00:19:14.382 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-10-03 00:19:14.384 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-10-03 00:19:14.385 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-10-03 00:19:14.386 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-10-03 00:19:14.387 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-10-03 00:19:14.389 +03:00 [DBG] Executing controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:19:14.392 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 00:19:14.396 +03:00 [DBG] Executed controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:19:14.405 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:19:14.407 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' using the name '' in request data ...
2021-10-03 00:19:14.409 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2021-10-03 00:19:14.414 +03:00 [DBG] Connection id "0HMC5T94F4BK3", Request id "0HMC5T94F4BK3:00000001": started reading request body.
2021-10-03 00:19:14.415 +03:00 [DBG] Connection id "0HMC5T94F4BK3", Request id "0HMC5T94F4BK3:00000001": done reading request body.
2021-10-03 00:19:14.418 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'AuthModule.Dto.LoginDto'
2021-10-03 00:19:14.419 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:19:14.420 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:19:14.421 +03:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:19:14.424 +03:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:19:14.580 +03:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserAccount>(
    asyncEnumerable: new QueryingEnumerable<UserAccount>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, UserAccount>, 
        Bitir.Data.Contexts.BitirMainContext, 
        null
    ), 
    cancellationToken: queryContext.CancellationToken)
2021-10-03 00:19:14.609 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:19:14.611 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2021-10-03 00:19:14.616 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:19:14.618 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:19:14.623 +03:00 [DBG] Executing DbCommand [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:19:14.657 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:19:14.677 +03:00 [DBG] Context 'BitirMainContext' started tracking 'UserAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-10-03 00:19:14.709 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:19:14.712 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:19:14.714 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:19:16.873 +03:00 [ERR] Incorrect password !!
Core.Exceptions.OperationFailedException: Incorrect password !!
   at AuthModule.Business.AuthBusinessBase.Login(LoginDto loginDto) in C:\Users\leven\source\repos\Bitir\API\AuthModule\Business\AuthBusinessBase.cs:line 97
   at AuthModule.Controllers.AuthBaseController.Login(LoginDto loginDto) in C:\Users\leven\source\repos\Bitir\API\AuthModule\Controllers\AuthBaseController.cs:line 33
2021-10-03 00:19:18.101 +03:00 [INF] Executed action AuthModule.Controllers.AuthBaseController.Login (AuthModule) in 3709.7234ms
2021-10-03 00:19:18.104 +03:00 [INF] Executed endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:20:13.664 +03:00 [INF] Starting web host
2021-10-03 00:20:14.428 +03:00 [DBG] Hosting starting
2021-10-03 00:20:14.485 +03:00 [INF] User profile is available. Using 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-03 00:20:14.502 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-14642b65-a18c-49a2-99af-52420015a828.xml'.
2021-10-03 00:20:14.523 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-3aa2ae8c-81de-4273-8d4a-f52cc391033f.xml'.
2021-10-03 00:20:14.524 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-4d95ab8d-4041-43bb-8736-c55e7eebfed6.xml'.
2021-10-03 00:20:14.529 +03:00 [DBG] Found key {14642b65-a18c-49a2-99af-52420015a828}.
2021-10-03 00:20:14.533 +03:00 [DBG] Found key {3aa2ae8c-81de-4273-8d4a-f52cc391033f}.
2021-10-03 00:20:14.534 +03:00 [DBG] Found key {4d95ab8d-4041-43bb-8736-c55e7eebfed6}.
2021-10-03 00:20:14.539 +03:00 [DBG] Considering key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} with expiration date 2021-10-31 07:22:50Z as default key.
2021-10-03 00:20:14.547 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 00:20:14.550 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-10-03 00:20:14.552 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 00:20:14.556 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-10-03 00:20:14.559 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-10-03 00:20:14.562 +03:00 [DBG] Using key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} as the default key.
2021-10-03 00:20:14.563 +03:00 [DBG] Key ring with default key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} was loaded during application startup.
2021-10-03 00:20:14.795 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-10-03 00:20:15.303 +03:00 [DBG] The property 'UnitId' on entity type 'Unit' was created in shadow state because there are no eligible CLR members with a matching name.
2021-10-03 00:20:15.325 +03:00 [WRN] No type was specified for the decimal column 'Price' on entity type 'ProductPrice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 00:20:15.327 +03:00 [WRN] No type was specified for the decimal column 'Quantity' on entity type 'ProductStock'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 00:20:15.353 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 00:20:15.379 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:20:15.539 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:20:15.544 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 00:20:15.549 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2021-10-03 00:20:15.555 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:20:15.576 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:20:15.580 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:20:15.583 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:20:15.585 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 00:20:15.586 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 00:20:15.587 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:20:15.588 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:20:15.589 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 00:20:15.603 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 00:20:15.606 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:20:15.607 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:20:15.610 +03:00 [DBG] Migrating using database 'BitirDb' on server '.'.
2021-10-03 00:20:15.611 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:20:15.612 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:20:15.613 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 00:20:15.613 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 00:20:15.614 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:20:15.618 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:20:15.619 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:20:15.620 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:20:15.622 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 00:20:15.622 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 00:20:15.623 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:20:15.624 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:20:15.625 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:20:15.628 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:20:15.629 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:20:15.630 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:20:15.631 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:20:15.632 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:20:15.633 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 00:20:15.634 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 00:20:15.634 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:20:15.637 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:20:15.638 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:20:15.639 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:20:15.640 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 00:20:15.641 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 00:20:15.641 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:20:15.642 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:20:15.643 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:20:15.646 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:20:15.647 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:20:15.648 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:20:15.655 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:20:15.656 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2021-10-03 00:20:15.657 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:20:15.658 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:20:15.659 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 00:20:15.662 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 00:20:15.665 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:20:15.666 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:20:15.666 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:20:15.674 +03:00 [DBG] No migrations were found in assembly 'Bitir.Data'.
2021-10-03 00:20:15.677 +03:00 [INF] No migrations were applied. The database is already up to date.
2021-10-03 00:20:15.678 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 00:20:15.707 +03:00 [DBG] Failed to locate the development https certificate at 'null'.
2021-10-03 00:20:15.731 +03:00 [INF] Now listening on: http://localhost:5000
2021-10-03 00:20:15.731 +03:00 [DBG] Loaded hosting startup assembly Bitir.Api
2021-10-03 00:20:15.732 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-03 00:20:15.733 +03:00 [INF] Hosting environment: Development
2021-10-03 00:20:15.733 +03:00 [INF] Content root path: C:\Users\leven\source\repos\Bitir\API\Bitir.Api
2021-10-03 00:20:15.734 +03:00 [DBG] Hosting started
2021-10-03 00:20:32.574 +03:00 [DBG] Connection id "0HMC5T9RQ7VKQ" accepted.
2021-10-03 00:20:32.577 +03:00 [DBG] Connection id "0HMC5T9RQ7VKQ" started.
2021-10-03 00:20:32.598 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/AuthModule/AuthBase/Login application/json 36
2021-10-03 00:20:32.602 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-10-03 00:20:32.624 +03:00 [DBG] 1 candidate(s) found for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:20:32.628 +03:00 [DBG] Endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)' with route pattern 'AuthModule/AuthBase/Login' is valid for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:20:32.630 +03:00 [DBG] Request matched endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:20:32.678 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-10-03 00:20:32.681 +03:00 [INF] Executing endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:20:32.687 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2021-10-03 00:20:32.710 +03:00 [INF] Route matched with {module = "AuthModule", action = "Login", controller = "AuthBase"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthModule.Dto.LoginDto) on controller AuthModule.Controllers.AuthBaseController (AuthModule).
2021-10-03 00:20:32.714 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-10-03 00:20:32.715 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-10-03 00:20:32.717 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-10-03 00:20:32.719 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-10-03 00:20:32.720 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-10-03 00:20:32.721 +03:00 [DBG] Executing controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:20:32.724 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 00:20:32.728 +03:00 [DBG] Executed controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:20:32.736 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:20:32.739 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' using the name '' in request data ...
2021-10-03 00:20:32.740 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2021-10-03 00:20:32.745 +03:00 [DBG] Connection id "0HMC5T9RQ7VKQ", Request id "0HMC5T9RQ7VKQ:00000001": started reading request body.
2021-10-03 00:20:32.746 +03:00 [DBG] Connection id "0HMC5T9RQ7VKQ", Request id "0HMC5T9RQ7VKQ:00000001": done reading request body.
2021-10-03 00:20:32.749 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'AuthModule.Dto.LoginDto'
2021-10-03 00:20:32.750 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:20:32.751 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:20:32.753 +03:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:20:32.755 +03:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:20:32.898 +03:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserAccount>(
    asyncEnumerable: new QueryingEnumerable<UserAccount>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, UserAccount>, 
        Bitir.Data.Contexts.BitirMainContext, 
        null
    ), 
    cancellationToken: queryContext.CancellationToken)
2021-10-03 00:20:32.921 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:20:32.924 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2021-10-03 00:20:32.929 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:20:32.931 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:20:32.935 +03:00 [DBG] Executing DbCommand [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:20:32.970 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:20:32.990 +03:00 [DBG] Context 'BitirMainContext' started tracking 'UserAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-10-03 00:20:33.016 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:20:33.018 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:20:33.020 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:20:33.120 +03:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserToken>(
    asyncEnumerable: new QueryingEnumerable<UserToken>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, UserToken>, 
        Bitir.Data.Contexts.BitirMainContext, 
        null
    ), 
    cancellationToken: queryContext.CancellationToken)
2021-10-03 00:20:33.123 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:20:33.124 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 00:20:33.126 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:20:33.128 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:20:33.129 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[InsertDate], [u].[RefreshToken], [u].[RefreshTokenExpirationDate], [u].[Status], [u].[UpdateDate], [u].[UserId]
FROM [auth].[UserToken] AS [u]
WHERE ([u].[Id] = @__entity_Id_0) AND ([u].[Status] <> 1)
2021-10-03 00:20:33.134 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__entity_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[InsertDate], [u].[RefreshToken], [u].[RefreshTokenExpirationDate], [u].[Status], [u].[UpdateDate], [u].[UserId]
FROM [auth].[UserToken] AS [u]
WHERE ([u].[Id] = @__entity_Id_0) AND ([u].[Status] <> 1)
2021-10-03 00:20:33.136 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:20:33.136 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:20:33.137 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:20:33.141 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2021-10-03 00:20:33.145 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["Application/json"]'.
2021-10-03 00:20:33.146 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2021-10-03 00:20:33.147 +03:00 [INF] Executing ObjectResult, writing value of type 'Bitir.Data.Model.Dtos.ResponseWrapper`1[[AuthModule.Security.JWT.AccessToken, AuthModule, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-03 00:20:33.157 +03:00 [INF] Executed action AuthModule.Controllers.AuthBaseController.Login (AuthModule) in 433.1091ms
2021-10-03 00:20:33.159 +03:00 [INF] Executed endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:20:33.161 +03:00 [DBG] Connection id "0HMC5T9RQ7VKQ" completed keep alive response.
2021-10-03 00:20:33.162 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 00:20:33.164 +03:00 [INF] Request finished in 568.0938ms 200 application/json; charset=utf-8
2021-10-03 00:20:55.938 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/AuthModule/AuthBase/Login application/json 38
2021-10-03 00:20:55.941 +03:00 [DBG] 1 candidate(s) found for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:20:55.942 +03:00 [DBG] Endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)' with route pattern 'AuthModule/AuthBase/Login' is valid for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:20:55.943 +03:00 [DBG] Request matched endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:20:55.944 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-10-03 00:20:55.945 +03:00 [INF] Executing endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:20:55.946 +03:00 [INF] Route matched with {module = "AuthModule", action = "Login", controller = "AuthBase"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthModule.Dto.LoginDto) on controller AuthModule.Controllers.AuthBaseController (AuthModule).
2021-10-03 00:20:55.947 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-10-03 00:20:55.948 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-10-03 00:20:55.949 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-10-03 00:20:55.951 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-10-03 00:20:55.952 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-10-03 00:20:55.953 +03:00 [DBG] Executing controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:20:55.977 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 00:20:55.980 +03:00 [DBG] Executed controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:20:55.981 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:20:55.982 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' using the name '' in request data ...
2021-10-03 00:20:55.983 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2021-10-03 00:20:55.984 +03:00 [DBG] Connection id "0HMC5T9RQ7VKQ", Request id "0HMC5T9RQ7VKQ:00000002": started reading request body.
2021-10-03 00:20:55.985 +03:00 [DBG] Connection id "0HMC5T9RQ7VKQ", Request id "0HMC5T9RQ7VKQ:00000002": done reading request body.
2021-10-03 00:20:55.987 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'AuthModule.Dto.LoginDto'
2021-10-03 00:20:55.988 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:20:55.989 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:20:55.990 +03:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:20:55.991 +03:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:20:55.994 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:20:55.995 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 00:20:55.996 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:20:55.997 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:20:55.998 +03:00 [DBG] Executing DbCommand [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:20:56.002 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:20:56.004 +03:00 [DBG] Context 'BitirMainContext' started tracking 'UserAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-10-03 00:20:56.005 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:20:56.006 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:20:56.007 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:21:02.638 +03:00 [ERR] Incorrect password !!
Core.Exceptions.OperationFailedException: Incorrect password !!
   at AuthModule.Business.AuthBusinessBase.Login(LoginDto loginDto) in C:\Users\leven\source\repos\Bitir\API\AuthModule\Business\AuthBusinessBase.cs:line 97
   at AuthModule.Controllers.AuthBaseController.Login(LoginDto loginDto) in C:\Users\leven\source\repos\Bitir\API\AuthModule\Controllers\AuthBaseController.cs:line 33
2021-10-03 00:21:03.141 +03:00 [INF] Executed action AuthModule.Controllers.AuthBaseController.Login (AuthModule) in 7187.9027ms
2021-10-03 00:21:03.142 +03:00 [INF] Executed endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:21:05.024 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Core.Exceptions.BadRequestException: Incorrect password !!
   at AuthModule.Controllers.AuthBaseController.Login(LoginDto loginDto) in C:\Users\leven\source\repos\Bitir\API\AuthModule\Controllers\AuthBaseController.cs:line 39
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Core.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\leven\source\repos\Bitir\API\Core\Middlewares\ExceptionMiddleware.cs:line 36
2021-10-03 00:24:12.269 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2021-10-03 00:24:12.272 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["Application/json"]'.
2021-10-03 00:24:12.273 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2021-10-03 00:24:12.274 +03:00 [INF] Executing ObjectResult, writing value of type 'Core.Middlewares.ExceptionMiddleware+ErrorResponse'.
2021-10-03 00:24:12.276 +03:00 [DBG] Connection id "0HMC5T9RQ7VKQ" completed keep alive response.
2021-10-03 00:24:12.277 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 00:24:12.278 +03:00 [INF] Request finished in 196339.9214ms 400 application/json; charset=utf-8
2021-10-03 00:24:16.647 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/AuthModule/AuthBase/Login application/json 38
2021-10-03 00:24:16.650 +03:00 [DBG] 1 candidate(s) found for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:24:16.650 +03:00 [DBG] Endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)' with route pattern 'AuthModule/AuthBase/Login' is valid for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:24:16.652 +03:00 [DBG] Request matched endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:24:16.657 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-10-03 00:24:16.658 +03:00 [INF] Executing endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:24:16.659 +03:00 [INF] Route matched with {module = "AuthModule", action = "Login", controller = "AuthBase"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthModule.Dto.LoginDto) on controller AuthModule.Controllers.AuthBaseController (AuthModule).
2021-10-03 00:24:16.661 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-10-03 00:24:16.662 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-10-03 00:24:16.663 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-10-03 00:24:16.665 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-10-03 00:24:16.666 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-10-03 00:24:16.667 +03:00 [DBG] Executing controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:24:16.670 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 00:24:16.672 +03:00 [DBG] Executed controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:24:16.674 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:24:16.675 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' using the name '' in request data ...
2021-10-03 00:24:16.676 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2021-10-03 00:24:16.677 +03:00 [DBG] Connection id "0HMC5T9RQ7VKQ", Request id "0HMC5T9RQ7VKQ:00000003": started reading request body.
2021-10-03 00:24:16.678 +03:00 [DBG] Connection id "0HMC5T9RQ7VKQ", Request id "0HMC5T9RQ7VKQ:00000003": done reading request body.
2021-10-03 00:24:16.679 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'AuthModule.Dto.LoginDto'
2021-10-03 00:24:16.680 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:24:16.680 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:24:16.681 +03:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:24:16.682 +03:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:24:16.685 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:24:16.686 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2021-10-03 00:24:16.687 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:24:16.688 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:24:16.689 +03:00 [DBG] Executing DbCommand [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:24:16.693 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:24:16.695 +03:00 [DBG] Context 'BitirMainContext' started tracking 'UserAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-10-03 00:24:16.696 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:24:16.697 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:24:16.698 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:24:18.559 +03:00 [ERR] Incorrect password !!
Core.Exceptions.OperationFailedException: Incorrect password !!
   at AuthModule.Business.AuthBusinessBase.Login(LoginDto loginDto) in C:\Users\leven\source\repos\Bitir\API\AuthModule\Business\AuthBusinessBase.cs:line 97
   at AuthModule.Controllers.AuthBaseController.Login(LoginDto loginDto) in C:\Users\leven\source\repos\Bitir\API\AuthModule\Controllers\AuthBaseController.cs:line 33
2021-10-03 00:24:18.590 +03:00 [INF] Executed action AuthModule.Controllers.AuthBaseController.Login (AuthModule) in 1922.7251ms
2021-10-03 00:24:18.591 +03:00 [INF] Executed endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:24:20.633 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Core.Exceptions.BadRequestException: Incorrect password !!
   at AuthModule.Controllers.AuthBaseController.Login(LoginDto loginDto) in C:\Users\leven\source\repos\Bitir\API\AuthModule\Controllers\AuthBaseController.cs:line 39
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Core.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\leven\source\repos\Bitir\API\Core\Middlewares\ExceptionMiddleware.cs:line 36
2021-10-03 00:24:20.639 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2021-10-03 00:24:20.641 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["Application/json"]'.
2021-10-03 00:24:20.642 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2021-10-03 00:24:20.643 +03:00 [INF] Executing ObjectResult, writing value of type 'Core.Middlewares.ExceptionMiddleware+ErrorResponse'.
2021-10-03 00:24:20.644 +03:00 [DBG] Connection id "0HMC5T9RQ7VKQ" completed keep alive response.
2021-10-03 00:24:20.645 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 00:24:20.646 +03:00 [INF] Request finished in 3998.4542ms 400 application/json; charset=utf-8
2021-10-03 00:24:44.003 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/AuthModule/AuthBase/Login application/json 38
2021-10-03 00:24:44.004 +03:00 [DBG] 1 candidate(s) found for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:24:44.005 +03:00 [DBG] Endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)' with route pattern 'AuthModule/AuthBase/Login' is valid for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:24:44.007 +03:00 [DBG] Request matched endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:24:44.008 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-10-03 00:24:44.009 +03:00 [INF] Executing endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:24:44.010 +03:00 [INF] Route matched with {module = "AuthModule", action = "Login", controller = "AuthBase"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthModule.Dto.LoginDto) on controller AuthModule.Controllers.AuthBaseController (AuthModule).
2021-10-03 00:24:44.012 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-10-03 00:24:44.013 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-10-03 00:24:44.015 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-10-03 00:24:44.017 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-10-03 00:24:44.018 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-10-03 00:24:44.020 +03:00 [DBG] Executing controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:24:44.022 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 00:24:44.023 +03:00 [DBG] Executed controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:24:44.024 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:24:44.025 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' using the name '' in request data ...
2021-10-03 00:24:44.026 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2021-10-03 00:24:44.027 +03:00 [DBG] Connection id "0HMC5T9RQ7VKQ", Request id "0HMC5T9RQ7VKQ:00000004": started reading request body.
2021-10-03 00:24:44.028 +03:00 [DBG] Connection id "0HMC5T9RQ7VKQ", Request id "0HMC5T9RQ7VKQ:00000004": done reading request body.
2021-10-03 00:24:44.029 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'AuthModule.Dto.LoginDto'
2021-10-03 00:24:44.030 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:24:44.031 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:24:44.032 +03:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:24:44.033 +03:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:24:44.035 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:24:44.035 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 00:24:44.036 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:24:44.037 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:24:44.038 +03:00 [DBG] Executing DbCommand [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:24:44.042 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:24:44.045 +03:00 [DBG] Context 'BitirMainContext' started tracking 'UserAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-10-03 00:24:44.046 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:24:44.047 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:24:44.048 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:24:45.265 +03:00 [ERR] Incorrect password !!
Core.Exceptions.OperationFailedException: Incorrect password !!
   at AuthModule.Business.AuthBusinessBase.Login(LoginDto loginDto) in C:\Users\leven\source\repos\Bitir\API\AuthModule\Business\AuthBusinessBase.cs:line 97
   at AuthModule.Controllers.AuthBaseController.Login(LoginDto loginDto) in C:\Users\leven\source\repos\Bitir\API\AuthModule\Controllers\AuthBaseController.cs:line 33
2021-10-03 00:24:45.297 +03:00 [INF] Executed action AuthModule.Controllers.AuthBaseController.Login (AuthModule) in 1277.1961ms
2021-10-03 00:24:45.299 +03:00 [INF] Executed endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:24:58.927 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Core.Exceptions.BadRequestException: Incorrect password !!
   at AuthModule.Controllers.AuthBaseController.Login(LoginDto loginDto) in C:\Users\leven\source\repos\Bitir\API\AuthModule\Controllers\AuthBaseController.cs:line 39
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Core.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\leven\source\repos\Bitir\API\Core\Middlewares\ExceptionMiddleware.cs:line 36
2021-10-03 00:25:28.820 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2021-10-03 00:25:28.822 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["Application/json"]'.
2021-10-03 00:25:28.823 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2021-10-03 00:25:28.824 +03:00 [INF] Executing ObjectResult, writing value of type 'Core.Middlewares.ExceptionMiddleware+ErrorResponse'.
2021-10-03 00:25:28.826 +03:00 [DBG] Connection id "0HMC5T9RQ7VKQ" completed keep alive response.
2021-10-03 00:25:28.826 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 00:25:28.827 +03:00 [INF] Request finished in 44827.4318ms 400 application/json; charset=utf-8
2021-10-03 00:25:37.074 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/AuthModule/AuthBase/Login application/json 36
2021-10-03 00:25:37.075 +03:00 [DBG] 1 candidate(s) found for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:25:37.076 +03:00 [DBG] Endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)' with route pattern 'AuthModule/AuthBase/Login' is valid for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:25:37.078 +03:00 [DBG] Request matched endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:25:37.079 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-10-03 00:25:37.080 +03:00 [INF] Executing endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:25:37.081 +03:00 [INF] Route matched with {module = "AuthModule", action = "Login", controller = "AuthBase"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthModule.Dto.LoginDto) on controller AuthModule.Controllers.AuthBaseController (AuthModule).
2021-10-03 00:25:37.082 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-10-03 00:25:37.083 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-10-03 00:25:37.085 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-10-03 00:25:37.087 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-10-03 00:25:37.088 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-10-03 00:25:37.089 +03:00 [DBG] Executing controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:25:37.091 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 00:25:37.092 +03:00 [DBG] Executed controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:25:37.094 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:25:37.095 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' using the name '' in request data ...
2021-10-03 00:25:37.096 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2021-10-03 00:25:37.097 +03:00 [DBG] Connection id "0HMC5T9RQ7VKQ", Request id "0HMC5T9RQ7VKQ:00000005": started reading request body.
2021-10-03 00:25:37.097 +03:00 [DBG] Connection id "0HMC5T9RQ7VKQ", Request id "0HMC5T9RQ7VKQ:00000005": done reading request body.
2021-10-03 00:25:37.098 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'AuthModule.Dto.LoginDto'
2021-10-03 00:25:37.099 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:25:37.100 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:25:37.101 +03:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:25:37.102 +03:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:25:37.103 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:25:37.104 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 00:25:37.105 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:25:37.106 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:25:37.107 +03:00 [DBG] Executing DbCommand [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:25:37.111 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:25:37.113 +03:00 [DBG] Context 'BitirMainContext' started tracking 'UserAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-10-03 00:25:37.114 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:25:37.115 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:25:37.116 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:25:37.117 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:25:37.118 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 00:25:37.119 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:25:37.120 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:25:37.121 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[InsertDate], [u].[RefreshToken], [u].[RefreshTokenExpirationDate], [u].[Status], [u].[UpdateDate], [u].[UserId]
FROM [auth].[UserToken] AS [u]
WHERE ([u].[Id] = @__entity_Id_0) AND ([u].[Status] <> 1)
2021-10-03 00:25:37.124 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__entity_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[InsertDate], [u].[RefreshToken], [u].[RefreshTokenExpirationDate], [u].[Status], [u].[UpdateDate], [u].[UserId]
FROM [auth].[UserToken] AS [u]
WHERE ([u].[Id] = @__entity_Id_0) AND ([u].[Status] <> 1)
2021-10-03 00:25:37.126 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:25:37.126 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:25:37.127 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:25:37.128 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2021-10-03 00:25:37.130 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["Application/json"]'.
2021-10-03 00:25:37.131 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2021-10-03 00:25:37.132 +03:00 [INF] Executing ObjectResult, writing value of type 'Bitir.Data.Model.Dtos.ResponseWrapper`1[[AuthModule.Security.JWT.AccessToken, AuthModule, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-03 00:25:37.133 +03:00 [INF] Executed action AuthModule.Controllers.AuthBaseController.Login (AuthModule) in 43.7377ms
2021-10-03 00:25:37.134 +03:00 [INF] Executed endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:25:37.135 +03:00 [DBG] Connection id "0HMC5T9RQ7VKQ" completed keep alive response.
2021-10-03 00:25:37.136 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 00:25:37.136 +03:00 [INF] Request finished in 64.4004ms 200 application/json; charset=utf-8
2021-10-03 00:25:47.810 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/AuthModule/AuthBase/Login application/json 36
2021-10-03 00:25:47.812 +03:00 [DBG] 1 candidate(s) found for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:25:47.813 +03:00 [DBG] Endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)' with route pattern 'AuthModule/AuthBase/Login' is valid for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:25:47.814 +03:00 [DBG] Request matched endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:25:47.815 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-10-03 00:25:47.816 +03:00 [INF] Executing endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:25:47.817 +03:00 [INF] Route matched with {module = "AuthModule", action = "Login", controller = "AuthBase"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthModule.Dto.LoginDto) on controller AuthModule.Controllers.AuthBaseController (AuthModule).
2021-10-03 00:25:47.818 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-10-03 00:25:47.819 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-10-03 00:25:47.820 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-10-03 00:25:47.822 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-10-03 00:25:47.823 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-10-03 00:25:47.824 +03:00 [DBG] Executing controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:25:47.825 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 00:25:47.826 +03:00 [DBG] Executed controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:25:47.827 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:25:47.828 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' using the name '' in request data ...
2021-10-03 00:25:47.829 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2021-10-03 00:25:47.830 +03:00 [DBG] Connection id "0HMC5T9RQ7VKQ", Request id "0HMC5T9RQ7VKQ:00000006": started reading request body.
2021-10-03 00:25:47.831 +03:00 [DBG] Connection id "0HMC5T9RQ7VKQ", Request id "0HMC5T9RQ7VKQ:00000006": done reading request body.
2021-10-03 00:25:47.832 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'AuthModule.Dto.LoginDto'
2021-10-03 00:25:47.833 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:25:47.834 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:25:47.835 +03:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:25:47.836 +03:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:25:50.269 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:25:50.270 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 00:25:50.271 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:25:50.271 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:25:50.272 +03:00 [DBG] Executing DbCommand [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:25:50.291 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:25:50.294 +03:00 [DBG] Context 'BitirMainContext' started tracking 'UserAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-10-03 00:25:50.295 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:25:50.296 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:25:50.296 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:25:58.320 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:25:58.322 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2021-10-03 00:25:58.323 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:25:58.324 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:25:58.325 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[InsertDate], [u].[RefreshToken], [u].[RefreshTokenExpirationDate], [u].[Status], [u].[UpdateDate], [u].[UserId]
FROM [auth].[UserToken] AS [u]
WHERE ([u].[Id] = @__entity_Id_0) AND ([u].[Status] <> 1)
2021-10-03 00:25:58.343 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__entity_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[InsertDate], [u].[RefreshToken], [u].[RefreshTokenExpirationDate], [u].[Status], [u].[UpdateDate], [u].[UserId]
FROM [auth].[UserToken] AS [u]
WHERE ([u].[Id] = @__entity_Id_0) AND ([u].[Status] <> 1)
2021-10-03 00:25:58.345 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:25:58.346 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:25:58.347 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:25:59.317 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2021-10-03 00:25:59.319 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["Application/json"]'.
2021-10-03 00:25:59.320 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2021-10-03 00:25:59.321 +03:00 [INF] Executing ObjectResult, writing value of type 'Bitir.Data.Model.Dtos.ResponseWrapper`1[[AuthModule.Security.JWT.AccessToken, AuthModule, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-03 00:25:59.323 +03:00 [INF] Executed action AuthModule.Controllers.AuthBaseController.Login (AuthModule) in 11499.6272ms
2021-10-03 00:25:59.324 +03:00 [INF] Executed endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:25:59.325 +03:00 [DBG] Connection id "0HMC5T9RQ7VKQ" completed keep alive response.
2021-10-03 00:25:59.326 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 00:25:59.327 +03:00 [INF] Request finished in 11517.28ms 200 application/json; charset=utf-8
2021-10-03 00:26:27.155 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/AuthModule/AuthBase/Login application/json 36
2021-10-03 00:26:27.160 +03:00 [DBG] 1 candidate(s) found for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:26:27.161 +03:00 [DBG] Endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)' with route pattern 'AuthModule/AuthBase/Login' is valid for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:26:27.163 +03:00 [DBG] Request matched endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:26:27.164 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-10-03 00:26:27.165 +03:00 [INF] Executing endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:26:27.166 +03:00 [INF] Route matched with {module = "AuthModule", action = "Login", controller = "AuthBase"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthModule.Dto.LoginDto) on controller AuthModule.Controllers.AuthBaseController (AuthModule).
2021-10-03 00:26:27.167 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-10-03 00:26:27.168 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-10-03 00:26:27.169 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-10-03 00:26:27.171 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-10-03 00:26:27.172 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-10-03 00:26:27.173 +03:00 [DBG] Executing controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:26:27.175 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 00:26:27.176 +03:00 [DBG] Executed controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:26:27.177 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:26:27.178 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' using the name '' in request data ...
2021-10-03 00:26:27.179 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2021-10-03 00:26:27.180 +03:00 [DBG] Connection id "0HMC5T9RQ7VKQ", Request id "0HMC5T9RQ7VKQ:00000007": started reading request body.
2021-10-03 00:26:27.181 +03:00 [DBG] Connection id "0HMC5T9RQ7VKQ", Request id "0HMC5T9RQ7VKQ:00000007": done reading request body.
2021-10-03 00:26:27.182 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'AuthModule.Dto.LoginDto'
2021-10-03 00:26:27.183 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:26:27.184 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:26:27.184 +03:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:26:27.185 +03:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:26:30.374 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:26:30.376 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2021-10-03 00:26:30.377 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:26:30.377 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:26:30.378 +03:00 [DBG] Executing DbCommand [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:26:30.395 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:26:30.397 +03:00 [DBG] Context 'BitirMainContext' started tracking 'UserAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-10-03 00:26:30.399 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:26:30.399 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:26:30.400 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:26:30.403 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:26:30.403 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 00:26:30.404 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:26:30.405 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:26:30.406 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[InsertDate], [u].[RefreshToken], [u].[RefreshTokenExpirationDate], [u].[Status], [u].[UpdateDate], [u].[UserId]
FROM [auth].[UserToken] AS [u]
WHERE ([u].[Id] = @__entity_Id_0) AND ([u].[Status] <> 1)
2021-10-03 00:26:30.410 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__entity_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[InsertDate], [u].[RefreshToken], [u].[RefreshTokenExpirationDate], [u].[Status], [u].[UpdateDate], [u].[UserId]
FROM [auth].[UserToken] AS [u]
WHERE ([u].[Id] = @__entity_Id_0) AND ([u].[Status] <> 1)
2021-10-03 00:26:30.413 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:26:30.413 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:26:30.414 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:26:31.835 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2021-10-03 00:26:31.838 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["Application/json"]'.
2021-10-03 00:26:31.839 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2021-10-03 00:26:31.841 +03:00 [INF] Executing ObjectResult, writing value of type 'Bitir.Data.Model.Dtos.ResponseWrapper`1[[AuthModule.Security.JWT.AccessToken, AuthModule, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-03 00:26:34.678 +03:00 [INF] Executed action AuthModule.Controllers.AuthBaseController.Login (AuthModule) in 7504.8988ms
2021-10-03 00:26:34.681 +03:00 [INF] Executed endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:26:37.795 +03:00 [DBG] Connection id "0HMC5T9RQ7VKQ" completed keep alive response.
2021-10-03 00:26:37.797 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 00:26:37.798 +03:00 [INF] Request finished in 10642.8323ms 200 application/json; charset=utf-8
2021-10-03 00:27:12.840 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/AuthModule/AuthBase/Login application/json 36
2021-10-03 00:27:13.614 +03:00 [DBG] 1 candidate(s) found for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:27:13.615 +03:00 [DBG] Endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)' with route pattern 'AuthModule/AuthBase/Login' is valid for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:27:13.617 +03:00 [DBG] Request matched endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:27:13.618 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-10-03 00:27:13.619 +03:00 [INF] Executing endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:27:13.620 +03:00 [INF] Route matched with {module = "AuthModule", action = "Login", controller = "AuthBase"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthModule.Dto.LoginDto) on controller AuthModule.Controllers.AuthBaseController (AuthModule).
2021-10-03 00:27:13.621 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-10-03 00:27:13.622 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-10-03 00:27:13.623 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-10-03 00:27:13.625 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-10-03 00:27:13.626 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-10-03 00:27:13.627 +03:00 [DBG] Executing controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:27:13.630 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 00:27:13.631 +03:00 [DBG] Executed controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:27:13.632 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:27:13.633 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' using the name '' in request data ...
2021-10-03 00:27:13.634 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2021-10-03 00:27:13.635 +03:00 [DBG] Connection id "0HMC5T9RQ7VKQ", Request id "0HMC5T9RQ7VKQ:00000008": started reading request body.
2021-10-03 00:27:13.636 +03:00 [DBG] Connection id "0HMC5T9RQ7VKQ", Request id "0HMC5T9RQ7VKQ:00000008": done reading request body.
2021-10-03 00:27:13.637 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'AuthModule.Dto.LoginDto'
2021-10-03 00:27:13.638 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:27:13.639 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:27:13.640 +03:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:27:13.641 +03:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:27:17.371 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:27:17.373 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2021-10-03 00:27:17.374 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:27:17.375 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:27:17.376 +03:00 [DBG] Executing DbCommand [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:27:17.380 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:27:17.382 +03:00 [DBG] Context 'BitirMainContext' started tracking 'UserAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-10-03 00:27:17.383 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:27:17.383 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:27:17.384 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:27:17.386 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:27:17.386 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 00:27:17.387 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:27:17.388 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:27:17.389 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[InsertDate], [u].[RefreshToken], [u].[RefreshTokenExpirationDate], [u].[Status], [u].[UpdateDate], [u].[UserId]
FROM [auth].[UserToken] AS [u]
WHERE ([u].[Id] = @__entity_Id_0) AND ([u].[Status] <> 1)
2021-10-03 00:27:17.392 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__entity_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[InsertDate], [u].[RefreshToken], [u].[RefreshTokenExpirationDate], [u].[Status], [u].[UpdateDate], [u].[UserId]
FROM [auth].[UserToken] AS [u]
WHERE ([u].[Id] = @__entity_Id_0) AND ([u].[Status] <> 1)
2021-10-03 00:27:17.394 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:27:17.395 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:27:17.395 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:27:17.397 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2021-10-03 00:27:17.399 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["Application/json"]'.
2021-10-03 00:27:17.400 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2021-10-03 00:27:17.401 +03:00 [INF] Executing ObjectResult, writing value of type 'Bitir.Data.Model.Dtos.ResponseWrapper`1[[AuthModule.Security.JWT.AccessToken, AuthModule, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-03 00:27:17.402 +03:00 [INF] Executed action AuthModule.Controllers.AuthBaseController.Login (AuthModule) in 3775.345ms
2021-10-03 00:27:17.403 +03:00 [INF] Executed endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:27:17.404 +03:00 [DBG] Connection id "0HMC5T9RQ7VKQ" completed keep alive response.
2021-10-03 00:27:17.404 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 00:27:17.405 +03:00 [INF] Request finished in 4566.1198ms 200 application/json; charset=utf-8
2021-10-03 00:28:12.848 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/AuthModule/AuthBase/Login application/json 36
2021-10-03 00:28:12.852 +03:00 [DBG] 1 candidate(s) found for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:28:12.853 +03:00 [DBG] Endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)' with route pattern 'AuthModule/AuthBase/Login' is valid for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:28:12.855 +03:00 [DBG] Request matched endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:28:12.856 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-10-03 00:28:12.857 +03:00 [INF] Executing endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:28:12.857 +03:00 [INF] Route matched with {module = "AuthModule", action = "Login", controller = "AuthBase"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthModule.Dto.LoginDto) on controller AuthModule.Controllers.AuthBaseController (AuthModule).
2021-10-03 00:28:12.859 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-10-03 00:28:12.860 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-10-03 00:28:12.861 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-10-03 00:28:12.862 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-10-03 00:28:12.863 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-10-03 00:28:12.864 +03:00 [DBG] Executing controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:28:12.866 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 00:28:12.867 +03:00 [DBG] Executed controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:28:12.868 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:28:12.869 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' using the name '' in request data ...
2021-10-03 00:28:12.870 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2021-10-03 00:28:12.871 +03:00 [DBG] Connection id "0HMC5T9RQ7VKQ", Request id "0HMC5T9RQ7VKQ:00000009": started reading request body.
2021-10-03 00:28:12.872 +03:00 [DBG] Connection id "0HMC5T9RQ7VKQ", Request id "0HMC5T9RQ7VKQ:00000009": done reading request body.
2021-10-03 00:28:12.873 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'AuthModule.Dto.LoginDto'
2021-10-03 00:28:12.874 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:28:12.875 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:28:12.875 +03:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:28:12.876 +03:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:28:12.878 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:28:12.879 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 00:28:12.880 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:28:12.881 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:28:12.882 +03:00 [DBG] Executing DbCommand [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:28:12.886 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:28:12.888 +03:00 [DBG] Context 'BitirMainContext' started tracking 'UserAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-10-03 00:28:12.890 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:28:12.890 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:28:12.891 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:28:12.893 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:28:12.894 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 00:28:12.894 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:28:12.895 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:28:12.896 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[InsertDate], [u].[RefreshToken], [u].[RefreshTokenExpirationDate], [u].[Status], [u].[UpdateDate], [u].[UserId]
FROM [auth].[UserToken] AS [u]
WHERE ([u].[Id] = @__entity_Id_0) AND ([u].[Status] <> 1)
2021-10-03 00:28:12.900 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__entity_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[InsertDate], [u].[RefreshToken], [u].[RefreshTokenExpirationDate], [u].[Status], [u].[UpdateDate], [u].[UserId]
FROM [auth].[UserToken] AS [u]
WHERE ([u].[Id] = @__entity_Id_0) AND ([u].[Status] <> 1)
2021-10-03 00:28:12.902 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:28:12.903 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:28:12.904 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:28:12.905 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2021-10-03 00:28:12.907 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["Application/json"]'.
2021-10-03 00:28:12.908 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2021-10-03 00:28:12.909 +03:00 [INF] Executing ObjectResult, writing value of type 'Bitir.Data.Model.Dtos.ResponseWrapper`1[[AuthModule.Security.JWT.AccessToken, AuthModule, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-03 00:28:12.911 +03:00 [INF] Executed action AuthModule.Controllers.AuthBaseController.Login (AuthModule) in 46.6225ms
2021-10-03 00:28:12.912 +03:00 [INF] Executed endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:28:12.913 +03:00 [DBG] Connection id "0HMC5T9RQ7VKQ" completed keep alive response.
2021-10-03 00:28:12.914 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 00:28:12.914 +03:00 [INF] Request finished in 66.4856ms 200 application/json; charset=utf-8
2021-10-03 00:29:13.851 +03:00 [INF] Starting web host
2021-10-03 00:29:14.494 +03:00 [DBG] Hosting starting
2021-10-03 00:29:14.533 +03:00 [INF] User profile is available. Using 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-03 00:29:14.547 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-14642b65-a18c-49a2-99af-52420015a828.xml'.
2021-10-03 00:29:14.563 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-3aa2ae8c-81de-4273-8d4a-f52cc391033f.xml'.
2021-10-03 00:29:14.564 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-4d95ab8d-4041-43bb-8736-c55e7eebfed6.xml'.
2021-10-03 00:29:14.569 +03:00 [DBG] Found key {14642b65-a18c-49a2-99af-52420015a828}.
2021-10-03 00:29:14.574 +03:00 [DBG] Found key {3aa2ae8c-81de-4273-8d4a-f52cc391033f}.
2021-10-03 00:29:14.576 +03:00 [DBG] Found key {4d95ab8d-4041-43bb-8736-c55e7eebfed6}.
2021-10-03 00:29:14.583 +03:00 [DBG] Considering key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} with expiration date 2021-10-31 07:22:50Z as default key.
2021-10-03 00:29:14.590 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 00:29:14.594 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-10-03 00:29:14.596 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 00:29:14.599 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-10-03 00:29:14.602 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-10-03 00:29:14.606 +03:00 [DBG] Using key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} as the default key.
2021-10-03 00:29:14.607 +03:00 [DBG] Key ring with default key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} was loaded during application startup.
2021-10-03 00:29:14.861 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-10-03 00:29:15.378 +03:00 [DBG] The property 'UnitId' on entity type 'Unit' was created in shadow state because there are no eligible CLR members with a matching name.
2021-10-03 00:29:15.400 +03:00 [WRN] No type was specified for the decimal column 'Price' on entity type 'ProductPrice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 00:29:15.403 +03:00 [WRN] No type was specified for the decimal column 'Quantity' on entity type 'ProductStock'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 00:29:15.435 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 00:29:15.473 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:29:15.644 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:29:15.648 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 00:29:15.655 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2021-10-03 00:29:15.661 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:29:15.682 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:29:15.687 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:29:15.691 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:29:15.693 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 00:29:15.693 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 00:29:15.694 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:29:15.696 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:29:15.697 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 00:29:15.710 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 00:29:15.713 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:29:15.715 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:29:15.718 +03:00 [DBG] Migrating using database 'BitirDb' on server '.'.
2021-10-03 00:29:15.719 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:29:15.720 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:29:15.721 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 00:29:15.721 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 00:29:15.723 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:29:15.727 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:29:15.728 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:29:15.729 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:29:15.731 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 00:29:15.732 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 00:29:15.733 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:29:15.734 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:29:15.735 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:29:15.737 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:29:15.739 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:29:15.740 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:29:15.741 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:29:15.742 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:29:15.743 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 00:29:15.744 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 00:29:15.745 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:29:15.747 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:29:15.749 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:29:15.749 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:29:15.750 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 00:29:15.751 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 00:29:15.752 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:29:15.753 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:29:15.754 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:29:15.756 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:29:15.757 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:29:15.758 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:29:15.765 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:29:15.766 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 00:29:15.767 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:29:15.768 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:29:15.769 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 00:29:15.773 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 00:29:15.776 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:29:15.777 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:29:15.777 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:29:15.785 +03:00 [DBG] No migrations were found in assembly 'Bitir.Data'.
2021-10-03 00:29:15.788 +03:00 [INF] No migrations were applied. The database is already up to date.
2021-10-03 00:29:15.789 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 00:29:15.820 +03:00 [DBG] Failed to locate the development https certificate at 'null'.
2021-10-03 00:29:15.843 +03:00 [INF] Now listening on: http://localhost:5000
2021-10-03 00:29:15.843 +03:00 [DBG] Loaded hosting startup assembly Bitir.Api
2021-10-03 00:29:15.844 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-03 00:29:15.845 +03:00 [INF] Hosting environment: Development
2021-10-03 00:29:15.846 +03:00 [INF] Content root path: C:\Users\leven\source\repos\Bitir\API\Bitir.Api
2021-10-03 00:29:15.847 +03:00 [DBG] Hosting started
2021-10-03 00:29:29.920 +03:00 [DBG] Connection id "0HMC5TERUOVND" accepted.
2021-10-03 00:29:29.922 +03:00 [DBG] Connection id "0HMC5TERUOVND" started.
2021-10-03 00:29:29.944 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/AuthModule/AuthBase/Login application/json 36
2021-10-03 00:29:29.949 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-10-03 00:29:29.974 +03:00 [DBG] 1 candidate(s) found for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:29:29.977 +03:00 [DBG] Endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)' with route pattern 'AuthModule/AuthBase/Login' is valid for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:29:29.978 +03:00 [DBG] Request matched endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:29:30.027 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-10-03 00:29:30.030 +03:00 [INF] Executing endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:29:30.036 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2021-10-03 00:29:30.061 +03:00 [INF] Route matched with {module = "AuthModule", action = "Login", controller = "AuthBase"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthModule.Dto.LoginDto) on controller AuthModule.Controllers.AuthBaseController (AuthModule).
2021-10-03 00:29:30.064 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-10-03 00:29:30.066 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-10-03 00:29:30.067 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-10-03 00:29:30.070 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-10-03 00:29:30.071 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-10-03 00:29:30.072 +03:00 [DBG] Executing controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:29:30.076 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 00:29:30.079 +03:00 [DBG] Executed controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:29:30.089 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:29:30.092 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' using the name '' in request data ...
2021-10-03 00:29:30.094 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2021-10-03 00:29:30.099 +03:00 [DBG] Connection id "0HMC5TERUOVND", Request id "0HMC5TERUOVND:00000001": started reading request body.
2021-10-03 00:29:30.100 +03:00 [DBG] Connection id "0HMC5TERUOVND", Request id "0HMC5TERUOVND:00000001": done reading request body.
2021-10-03 00:29:30.103 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'AuthModule.Dto.LoginDto'
2021-10-03 00:29:30.104 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:29:30.106 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:29:30.107 +03:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:29:30.110 +03:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:29:30.256 +03:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserAccount>(
    asyncEnumerable: new QueryingEnumerable<UserAccount>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, UserAccount>, 
        Bitir.Data.Contexts.BitirMainContext, 
        null
    ), 
    cancellationToken: queryContext.CancellationToken)
2021-10-03 00:29:30.277 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:29:30.279 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2021-10-03 00:29:30.285 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:29:30.287 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:29:30.291 +03:00 [DBG] Executing DbCommand [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:29:30.324 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:29:30.342 +03:00 [DBG] Context 'BitirMainContext' started tracking 'UserAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-10-03 00:29:30.369 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:29:30.371 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:29:30.374 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:29:30.477 +03:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserToken>(
    asyncEnumerable: new QueryingEnumerable<UserToken>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, UserToken>, 
        Bitir.Data.Contexts.BitirMainContext, 
        null
    ), 
    cancellationToken: queryContext.CancellationToken)
2021-10-03 00:29:30.481 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:29:30.482 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 00:29:30.483 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:29:30.485 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:29:30.486 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[InsertDate], [u].[RefreshToken], [u].[RefreshTokenExpirationDate], [u].[Status], [u].[UpdateDate], [u].[UserId]
FROM [auth].[UserToken] AS [u]
WHERE ([u].[Id] = @__entity_Id_0) AND ([u].[Status] <> 1)
2021-10-03 00:29:30.490 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__entity_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[InsertDate], [u].[RefreshToken], [u].[RefreshTokenExpirationDate], [u].[Status], [u].[UpdateDate], [u].[UserId]
FROM [auth].[UserToken] AS [u]
WHERE ([u].[Id] = @__entity_Id_0) AND ([u].[Status] <> 1)
2021-10-03 00:29:30.492 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:29:30.493 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:29:30.494 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:29:30.498 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2021-10-03 00:29:30.501 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["Application/json"]'.
2021-10-03 00:29:30.503 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2021-10-03 00:29:30.504 +03:00 [INF] Executing ObjectResult, writing value of type 'Bitir.Data.Model.Dtos.ResponseWrapper`1[[AuthModule.Security.JWT.AccessToken, AuthModule, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-03 00:29:30.514 +03:00 [INF] Executed action AuthModule.Controllers.AuthBaseController.Login (AuthModule) in 438.8076ms
2021-10-03 00:29:30.515 +03:00 [INF] Executed endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:29:30.517 +03:00 [DBG] Connection id "0HMC5TERUOVND" completed keep alive response.
2021-10-03 00:29:30.518 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 00:29:30.520 +03:00 [INF] Request finished in 578.792ms 200 application/json; charset=utf-8
2021-10-03 00:31:48.035 +03:00 [DBG] Connection id "0HMC5TERUOVND" received FIN.
2021-10-03 00:31:48.039 +03:00 [DBG] Connection id "0HMC5TERUOVND" disconnecting.
2021-10-03 00:31:48.040 +03:00 [DBG] Connection id "0HMC5TERUOVND" sending FIN because: "The client closed the connection."
2021-10-03 00:31:48.042 +03:00 [DBG] Connection id "0HMC5TERUOVND" stopped.
2021-10-03 00:31:52.368 +03:00 [DBG] Connection id "0HMC5TERUOVNE" accepted.
2021-10-03 00:31:52.371 +03:00 [DBG] Connection id "0HMC5TERUOVNE" started.
2021-10-03 00:31:52.373 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/AuthModule/AuthBase/Login application/json 36
2021-10-03 00:31:52.377 +03:00 [DBG] 1 candidate(s) found for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:31:52.378 +03:00 [DBG] Endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)' with route pattern 'AuthModule/AuthBase/Login' is valid for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:31:52.380 +03:00 [DBG] Request matched endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:31:52.381 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-10-03 00:31:52.384 +03:00 [INF] Executing endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:31:52.385 +03:00 [INF] Route matched with {module = "AuthModule", action = "Login", controller = "AuthBase"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthModule.Dto.LoginDto) on controller AuthModule.Controllers.AuthBaseController (AuthModule).
2021-10-03 00:31:52.387 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-10-03 00:31:52.388 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-10-03 00:31:52.389 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-10-03 00:31:52.391 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-10-03 00:31:52.392 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-10-03 00:31:52.393 +03:00 [DBG] Executing controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:31:52.417 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 00:31:52.420 +03:00 [DBG] Executed controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:31:52.421 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:31:52.422 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' using the name '' in request data ...
2021-10-03 00:31:52.423 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2021-10-03 00:31:52.425 +03:00 [DBG] Connection id "0HMC5TERUOVNE", Request id "0HMC5TERUOVNE:00000001": started reading request body.
2021-10-03 00:31:52.426 +03:00 [DBG] Connection id "0HMC5TERUOVNE", Request id "0HMC5TERUOVNE:00000001": done reading request body.
2021-10-03 00:31:52.428 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'AuthModule.Dto.LoginDto'
2021-10-03 00:31:52.429 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:31:52.430 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:31:52.430 +03:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:31:52.431 +03:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:31:52.435 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:31:52.436 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 00:31:52.437 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:31:52.438 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:31:52.439 +03:00 [DBG] Executing DbCommand [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:31:52.442 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:31:52.445 +03:00 [DBG] Context 'BitirMainContext' started tracking 'UserAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-10-03 00:31:52.446 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:31:52.446 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:31:52.447 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:31:52.449 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:31:52.450 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 00:31:52.451 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:31:52.452 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:31:52.453 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[InsertDate], [u].[RefreshToken], [u].[RefreshTokenExpirationDate], [u].[Status], [u].[UpdateDate], [u].[UserId]
FROM [auth].[UserToken] AS [u]
WHERE ([u].[Id] = @__entity_Id_0) AND ([u].[Status] <> 1)
2021-10-03 00:31:52.456 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__entity_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[InsertDate], [u].[RefreshToken], [u].[RefreshTokenExpirationDate], [u].[Status], [u].[UpdateDate], [u].[UserId]
FROM [auth].[UserToken] AS [u]
WHERE ([u].[Id] = @__entity_Id_0) AND ([u].[Status] <> 1)
2021-10-03 00:31:52.458 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:31:52.458 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:31:52.459 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:32:21.785 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2021-10-03 00:32:21.788 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["Application/json"]'.
2021-10-03 00:32:21.790 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2021-10-03 00:32:21.791 +03:00 [INF] Executing ObjectResult, writing value of type 'Bitir.Data.Model.Dtos.ResponseWrapper`1[[AuthModule.Security.JWT.AccessToken, AuthModule, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-03 00:32:21.793 +03:00 [INF] Executed action AuthModule.Controllers.AuthBaseController.Login (AuthModule) in 29399.4677ms
2021-10-03 00:32:21.794 +03:00 [INF] Executed endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:32:21.795 +03:00 [DBG] Connection id "0HMC5TERUOVNE" completed keep alive response.
2021-10-03 00:32:21.797 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 00:32:21.798 +03:00 [INF] Request finished in 29424.718ms 200 application/json; charset=utf-8
2021-10-03 00:40:24.911 +03:00 [INF] Starting web host
2021-10-03 00:40:25.683 +03:00 [DBG] Hosting starting
2021-10-03 00:40:25.736 +03:00 [INF] User profile is available. Using 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-03 00:40:25.749 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-14642b65-a18c-49a2-99af-52420015a828.xml'.
2021-10-03 00:40:25.766 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-3aa2ae8c-81de-4273-8d4a-f52cc391033f.xml'.
2021-10-03 00:40:25.767 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-4d95ab8d-4041-43bb-8736-c55e7eebfed6.xml'.
2021-10-03 00:40:25.771 +03:00 [DBG] Found key {14642b65-a18c-49a2-99af-52420015a828}.
2021-10-03 00:40:25.775 +03:00 [DBG] Found key {3aa2ae8c-81de-4273-8d4a-f52cc391033f}.
2021-10-03 00:40:25.776 +03:00 [DBG] Found key {4d95ab8d-4041-43bb-8736-c55e7eebfed6}.
2021-10-03 00:40:25.783 +03:00 [DBG] Considering key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} with expiration date 2021-10-31 07:22:50Z as default key.
2021-10-03 00:40:25.791 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 00:40:25.795 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-10-03 00:40:25.797 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 00:40:25.801 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-10-03 00:40:25.804 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-10-03 00:40:25.808 +03:00 [DBG] Using key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} as the default key.
2021-10-03 00:40:25.809 +03:00 [DBG] Key ring with default key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} was loaded during application startup.
2021-10-03 00:40:26.076 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-10-03 00:40:26.547 +03:00 [DBG] The property 'UnitId' on entity type 'Unit' was created in shadow state because there are no eligible CLR members with a matching name.
2021-10-03 00:40:26.565 +03:00 [WRN] No type was specified for the decimal column 'Price' on entity type 'ProductPrice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 00:40:26.567 +03:00 [WRN] No type was specified for the decimal column 'Quantity' on entity type 'ProductStock'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 00:40:26.591 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 00:40:26.619 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:40:26.772 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:40:26.777 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 00:40:26.783 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2021-10-03 00:40:26.790 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:40:26.810 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:40:26.813 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:40:26.816 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:40:26.818 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 00:40:26.819 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 00:40:26.820 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:40:26.821 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:40:26.822 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 00:40:26.837 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 00:40:26.839 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:40:26.841 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:40:26.844 +03:00 [DBG] Migrating using database 'BitirDb' on server '.'.
2021-10-03 00:40:26.845 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:40:26.846 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:40:26.847 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 00:40:26.848 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 00:40:26.849 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:40:26.853 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:40:26.855 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:40:26.856 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:40:26.858 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 00:40:26.859 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 00:40:26.860 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:40:26.860 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:40:26.861 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:40:26.864 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:40:26.865 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:40:26.866 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:40:26.868 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:40:26.869 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:40:26.869 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 00:40:26.870 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 00:40:26.871 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:40:26.874 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:40:26.875 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:40:26.876 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:40:26.877 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 00:40:26.877 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 00:40:26.878 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:40:26.879 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:40:26.880 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:40:26.883 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:40:26.884 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:40:26.885 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:40:26.892 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:40:26.892 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 00:40:26.893 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:40:26.894 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:40:26.895 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 00:40:26.898 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 00:40:26.901 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:40:26.902 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:40:26.903 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:40:26.911 +03:00 [DBG] No migrations were found in assembly 'Bitir.Data'.
2021-10-03 00:40:26.914 +03:00 [INF] No migrations were applied. The database is already up to date.
2021-10-03 00:40:26.915 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 00:40:26.947 +03:00 [DBG] Failed to locate the development https certificate at 'null'.
2021-10-03 00:40:26.969 +03:00 [INF] Now listening on: http://localhost:5000
2021-10-03 00:40:26.970 +03:00 [DBG] Loaded hosting startup assembly Bitir.Api
2021-10-03 00:40:26.971 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-03 00:40:26.972 +03:00 [INF] Hosting environment: Development
2021-10-03 00:40:26.972 +03:00 [INF] Content root path: C:\Users\leven\source\repos\Bitir\API\Bitir.Api
2021-10-03 00:40:26.973 +03:00 [DBG] Hosting started
2021-10-03 00:40:44.298 +03:00 [DBG] Connection id "0HMC5TL4U4SM4" accepted.
2021-10-03 00:40:44.300 +03:00 [DBG] Connection id "0HMC5TL4U4SM4" started.
2021-10-03 00:40:44.320 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/AuthModule/AuthBase/Login application/json 36
2021-10-03 00:40:44.324 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-10-03 00:40:44.346 +03:00 [DBG] 1 candidate(s) found for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:40:44.350 +03:00 [DBG] Endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)' with route pattern 'AuthModule/AuthBase/Login' is valid for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:40:44.351 +03:00 [DBG] Request matched endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:40:44.399 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-10-03 00:40:44.403 +03:00 [INF] Executing endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:40:44.409 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2021-10-03 00:40:44.434 +03:00 [INF] Route matched with {module = "AuthModule", action = "Login", controller = "AuthBase"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthModule.Dto.LoginDto) on controller AuthModule.Controllers.AuthBaseController (AuthModule).
2021-10-03 00:40:44.436 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-10-03 00:40:44.437 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-10-03 00:40:44.438 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-10-03 00:40:44.440 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-10-03 00:40:44.441 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-10-03 00:40:44.443 +03:00 [DBG] Executing controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:40:44.446 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 00:40:44.451 +03:00 [DBG] Executed controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:40:44.460 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:40:44.462 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' using the name '' in request data ...
2021-10-03 00:40:44.464 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2021-10-03 00:40:44.469 +03:00 [DBG] Connection id "0HMC5TL4U4SM4", Request id "0HMC5TL4U4SM4:00000001": started reading request body.
2021-10-03 00:40:44.470 +03:00 [DBG] Connection id "0HMC5TL4U4SM4", Request id "0HMC5TL4U4SM4:00000001": done reading request body.
2021-10-03 00:40:44.473 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'AuthModule.Dto.LoginDto'
2021-10-03 00:40:44.474 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:40:44.475 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:40:44.475 +03:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:40:44.478 +03:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:40:44.630 +03:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserAccount>(
    asyncEnumerable: new QueryingEnumerable<UserAccount>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, UserAccount>, 
        Bitir.Data.Contexts.BitirMainContext, 
        null
    ), 
    cancellationToken: queryContext.CancellationToken)
2021-10-03 00:40:44.653 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:40:44.654 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 00:40:44.659 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:40:44.660 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:40:44.665 +03:00 [DBG] Executing DbCommand [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:40:44.696 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:40:44.714 +03:00 [DBG] Context 'BitirMainContext' started tracking 'UserAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-10-03 00:40:44.739 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:40:44.742 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:40:44.744 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:40:44.849 +03:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserToken>(
    asyncEnumerable: new QueryingEnumerable<UserToken>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, UserToken>, 
        Bitir.Data.Contexts.BitirMainContext, 
        null
    ), 
    cancellationToken: queryContext.CancellationToken)
2021-10-03 00:40:44.851 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:40:44.851 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 00:40:44.853 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:40:44.854 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:40:44.855 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[InsertDate], [u].[RefreshToken], [u].[RefreshTokenExpirationDate], [u].[Status], [u].[UpdateDate], [u].[UserId]
FROM [auth].[UserToken] AS [u]
WHERE ([u].[Id] = @__entity_Id_0) AND ([u].[Status] <> 1)
2021-10-03 00:40:44.859 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__entity_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[InsertDate], [u].[RefreshToken], [u].[RefreshTokenExpirationDate], [u].[Status], [u].[UpdateDate], [u].[UserId]
FROM [auth].[UserToken] AS [u]
WHERE ([u].[Id] = @__entity_Id_0) AND ([u].[Status] <> 1)
2021-10-03 00:40:44.861 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:40:44.862 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:40:44.863 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:40:44.867 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2021-10-03 00:40:44.872 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["Application/json"]'.
2021-10-03 00:40:44.873 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2021-10-03 00:40:44.874 +03:00 [INF] Executing ObjectResult, writing value of type 'Bitir.Data.Model.Dtos.ResponseWrapper`1[[AuthModule.Security.JWT.AccessToken, AuthModule, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-03 00:40:44.884 +03:00 [INF] Executed action AuthModule.Controllers.AuthBaseController.Login (AuthModule) in 438.9312ms
2021-10-03 00:40:44.886 +03:00 [INF] Executed endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:40:44.888 +03:00 [DBG] Connection id "0HMC5TL4U4SM4" completed keep alive response.
2021-10-03 00:40:44.889 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 00:40:44.891 +03:00 [INF] Request finished in 572.2438ms 200 application/json; charset=utf-8
2021-10-03 00:46:27.666 +03:00 [INF] Starting web host
2021-10-03 00:47:09.104 +03:00 [INF] Starting web host
2021-10-03 00:48:11.296 +03:00 [INF] Starting web host
2021-10-03 00:48:12.053 +03:00 [DBG] Hosting starting
2021-10-03 00:48:12.092 +03:00 [INF] User profile is available. Using 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-03 00:48:12.105 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-14642b65-a18c-49a2-99af-52420015a828.xml'.
2021-10-03 00:48:12.120 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-3aa2ae8c-81de-4273-8d4a-f52cc391033f.xml'.
2021-10-03 00:48:12.121 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-4d95ab8d-4041-43bb-8736-c55e7eebfed6.xml'.
2021-10-03 00:48:12.125 +03:00 [DBG] Found key {14642b65-a18c-49a2-99af-52420015a828}.
2021-10-03 00:48:12.129 +03:00 [DBG] Found key {3aa2ae8c-81de-4273-8d4a-f52cc391033f}.
2021-10-03 00:48:12.130 +03:00 [DBG] Found key {4d95ab8d-4041-43bb-8736-c55e7eebfed6}.
2021-10-03 00:48:12.135 +03:00 [DBG] Considering key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} with expiration date 2021-10-31 07:22:50Z as default key.
2021-10-03 00:48:12.142 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 00:48:12.145 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-10-03 00:48:12.147 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 00:48:12.151 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-10-03 00:48:12.154 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-10-03 00:48:12.157 +03:00 [DBG] Using key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} as the default key.
2021-10-03 00:48:12.158 +03:00 [DBG] Key ring with default key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} was loaded during application startup.
2021-10-03 00:48:12.409 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-10-03 00:48:12.923 +03:00 [DBG] The property 'UnitId' on entity type 'Unit' was created in shadow state because there are no eligible CLR members with a matching name.
2021-10-03 00:48:12.943 +03:00 [WRN] No type was specified for the decimal column 'Price' on entity type 'ProductPrice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 00:48:12.945 +03:00 [WRN] No type was specified for the decimal column 'Quantity' on entity type 'ProductStock'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 00:48:12.972 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 00:48:13.001 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:48:13.160 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:48:13.165 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 00:48:13.170 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2021-10-03 00:48:13.176 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:48:13.196 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:48:13.200 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:48:13.204 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:48:13.206 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 00:48:13.207 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 00:48:13.208 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:48:13.209 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:48:13.210 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 00:48:13.225 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 00:48:13.227 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:48:13.229 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:48:13.232 +03:00 [DBG] Migrating using database 'BitirDb' on server '.'.
2021-10-03 00:48:13.233 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:48:13.234 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:48:13.235 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 00:48:13.235 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 00:48:13.236 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:48:13.240 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:48:13.242 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:48:13.243 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:48:13.245 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 00:48:13.246 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 00:48:13.247 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:48:13.249 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:48:13.250 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:48:13.253 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:48:13.254 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:48:13.255 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:48:13.256 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:48:13.257 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:48:13.258 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 00:48:13.259 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 00:48:13.260 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:48:13.262 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:48:13.263 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:48:13.264 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:48:13.265 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 00:48:13.266 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 00:48:13.266 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:48:13.267 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:48:13.268 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:48:13.271 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:48:13.272 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:48:13.273 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:48:13.280 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:48:13.281 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 00:48:13.282 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:48:13.283 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:48:13.284 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 00:48:13.288 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 00:48:13.290 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:48:13.291 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:48:13.292 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:48:13.300 +03:00 [DBG] No migrations were found in assembly 'Bitir.Data'.
2021-10-03 00:48:13.303 +03:00 [INF] No migrations were applied. The database is already up to date.
2021-10-03 00:48:13.305 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 00:48:13.339 +03:00 [DBG] Failed to locate the development https certificate at 'null'.
2021-10-03 00:48:13.365 +03:00 [INF] Now listening on: http://localhost:5000
2021-10-03 00:48:13.366 +03:00 [DBG] Loaded hosting startup assembly Bitir.Api
2021-10-03 00:48:13.367 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-03 00:48:13.368 +03:00 [INF] Hosting environment: Development
2021-10-03 00:48:13.369 +03:00 [INF] Content root path: C:\Users\leven\source\repos\Bitir\API\Bitir.Api
2021-10-03 00:48:13.371 +03:00 [DBG] Hosting started
2021-10-03 00:48:29.785 +03:00 [DBG] Connection id "0HMC5TPFLC0VT" accepted.
2021-10-03 00:48:29.786 +03:00 [DBG] Connection id "0HMC5TPFLC0VT" started.
2021-10-03 00:48:29.806 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/AuthModule/AuthBase/Login application/json 38
2021-10-03 00:48:29.810 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-10-03 00:48:29.837 +03:00 [DBG] 1 candidate(s) found for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:48:29.841 +03:00 [DBG] Endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)' with route pattern 'AuthModule/AuthBase/Login' is valid for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:48:29.842 +03:00 [DBG] Request matched endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:48:29.889 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-10-03 00:48:29.892 +03:00 [INF] Executing endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:48:29.898 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2021-10-03 00:48:29.923 +03:00 [INF] Route matched with {module = "AuthModule", action = "Login", controller = "AuthBase"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthModule.Dto.LoginDto) on controller AuthModule.Controllers.AuthBaseController (AuthModule).
2021-10-03 00:48:29.925 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-10-03 00:48:29.926 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-10-03 00:48:29.927 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-10-03 00:48:29.929 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-10-03 00:48:29.930 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-10-03 00:48:29.932 +03:00 [DBG] Executing controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:48:29.935 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 00:48:29.938 +03:00 [DBG] Executed controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:48:29.947 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:48:29.950 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' using the name '' in request data ...
2021-10-03 00:48:29.952 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2021-10-03 00:48:29.958 +03:00 [DBG] Connection id "0HMC5TPFLC0VT", Request id "0HMC5TPFLC0VT:00000001": started reading request body.
2021-10-03 00:48:29.959 +03:00 [DBG] Connection id "0HMC5TPFLC0VT", Request id "0HMC5TPFLC0VT:00000001": done reading request body.
2021-10-03 00:48:29.962 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'AuthModule.Dto.LoginDto'
2021-10-03 00:48:29.962 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:48:29.963 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:48:29.965 +03:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:48:29.968 +03:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:48:30.112 +03:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserAccount>(
    asyncEnumerable: new QueryingEnumerable<UserAccount>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, UserAccount>, 
        Bitir.Data.Contexts.BitirMainContext, 
        null
    ), 
    cancellationToken: queryContext.CancellationToken)
2021-10-03 00:48:30.135 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:48:30.137 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2021-10-03 00:48:30.141 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:48:30.143 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:48:30.146 +03:00 [DBG] Executing DbCommand [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:48:30.183 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:48:30.203 +03:00 [DBG] Context 'BitirMainContext' started tracking 'UserAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-10-03 00:48:30.228 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:48:30.230 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:48:30.233 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:48:30.234 +03:00 [ERR] Incorrect password
2021-10-03 00:48:30.304 +03:00 [INF] Executed action AuthModule.Controllers.AuthBaseController.Login (AuthModule) in 369.3803ms
2021-10-03 00:48:30.306 +03:00 [INF] Executed endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:51:19.623 +03:00 [INF] Starting web host
2021-10-03 00:51:20.384 +03:00 [DBG] Hosting starting
2021-10-03 00:51:20.429 +03:00 [INF] User profile is available. Using 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-03 00:51:20.454 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-14642b65-a18c-49a2-99af-52420015a828.xml'.
2021-10-03 00:51:20.473 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-3aa2ae8c-81de-4273-8d4a-f52cc391033f.xml'.
2021-10-03 00:51:20.474 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-4d95ab8d-4041-43bb-8736-c55e7eebfed6.xml'.
2021-10-03 00:51:20.480 +03:00 [DBG] Found key {14642b65-a18c-49a2-99af-52420015a828}.
2021-10-03 00:51:20.486 +03:00 [DBG] Found key {3aa2ae8c-81de-4273-8d4a-f52cc391033f}.
2021-10-03 00:51:20.487 +03:00 [DBG] Found key {4d95ab8d-4041-43bb-8736-c55e7eebfed6}.
2021-10-03 00:51:20.492 +03:00 [DBG] Considering key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} with expiration date 2021-10-31 07:22:50Z as default key.
2021-10-03 00:51:20.502 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 00:51:20.506 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-10-03 00:51:20.508 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 00:51:20.512 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-10-03 00:51:20.516 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-10-03 00:51:20.519 +03:00 [DBG] Using key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} as the default key.
2021-10-03 00:51:20.520 +03:00 [DBG] Key ring with default key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} was loaded during application startup.
2021-10-03 00:51:20.763 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-10-03 00:51:21.307 +03:00 [DBG] The property 'UnitId' on entity type 'Unit' was created in shadow state because there are no eligible CLR members with a matching name.
2021-10-03 00:51:21.329 +03:00 [WRN] No type was specified for the decimal column 'Price' on entity type 'ProductPrice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 00:51:21.330 +03:00 [WRN] No type was specified for the decimal column 'Quantity' on entity type 'ProductStock'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 00:51:21.357 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 00:51:21.382 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:51:21.532 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:51:21.537 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 00:51:21.542 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2021-10-03 00:51:21.549 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:51:21.569 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:51:21.572 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:51:21.576 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:51:21.578 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 00:51:21.578 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 00:51:21.580 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:51:21.581 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:51:21.582 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 00:51:21.596 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 00:51:21.597 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:51:21.599 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:51:21.602 +03:00 [DBG] Migrating using database 'BitirDb' on server '.'.
2021-10-03 00:51:21.603 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:51:21.604 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:51:21.605 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 00:51:21.605 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 00:51:21.606 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:51:21.610 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:51:21.611 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:51:21.612 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:51:21.614 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 00:51:21.614 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 00:51:21.615 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:51:21.616 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:51:21.617 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:51:21.619 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:51:21.621 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:51:21.622 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:51:21.623 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:51:21.624 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:51:21.625 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 00:51:21.626 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 00:51:21.626 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:51:21.629 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:51:21.630 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:51:21.631 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:51:21.632 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 00:51:21.633 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 00:51:21.633 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:51:21.634 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:51:21.635 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:51:21.638 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:51:21.639 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:51:21.640 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:51:21.647 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:51:21.648 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 00:51:21.649 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:51:21.650 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:51:21.651 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 00:51:21.654 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 00:51:21.656 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:51:21.657 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:51:21.658 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:51:21.665 +03:00 [DBG] No migrations were found in assembly 'Bitir.Data'.
2021-10-03 00:51:21.668 +03:00 [INF] No migrations were applied. The database is already up to date.
2021-10-03 00:51:21.669 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 00:51:21.698 +03:00 [DBG] Failed to locate the development https certificate at 'null'.
2021-10-03 00:51:21.721 +03:00 [INF] Now listening on: http://localhost:5000
2021-10-03 00:51:21.722 +03:00 [DBG] Loaded hosting startup assembly Bitir.Api
2021-10-03 00:51:21.722 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-03 00:51:21.723 +03:00 [INF] Hosting environment: Development
2021-10-03 00:51:21.724 +03:00 [INF] Content root path: C:\Users\leven\source\repos\Bitir\API\Bitir.Api
2021-10-03 00:51:21.725 +03:00 [DBG] Hosting started
2021-10-03 00:51:38.917 +03:00 [DBG] Connection id "0HMC5TR812I4L" accepted.
2021-10-03 00:51:38.920 +03:00 [DBG] Connection id "0HMC5TR812I4L" started.
2021-10-03 00:51:38.940 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/AuthModule/AuthBase/Login application/json 37
2021-10-03 00:51:38.944 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-10-03 00:51:38.969 +03:00 [DBG] 1 candidate(s) found for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:51:38.973 +03:00 [DBG] Endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)' with route pattern 'AuthModule/AuthBase/Login' is valid for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:51:38.975 +03:00 [DBG] Request matched endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:51:39.024 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-10-03 00:51:39.028 +03:00 [INF] Executing endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:51:39.034 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2021-10-03 00:51:39.061 +03:00 [INF] Route matched with {module = "AuthModule", action = "Login", controller = "AuthBase"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthModule.Dto.LoginDto) on controller AuthModule.Controllers.AuthBaseController (AuthModule).
2021-10-03 00:51:39.065 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-10-03 00:51:39.066 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-10-03 00:51:39.068 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-10-03 00:51:39.069 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-10-03 00:51:39.071 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-10-03 00:51:39.072 +03:00 [DBG] Executing controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:51:39.075 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 00:51:39.079 +03:00 [DBG] Executed controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:51:39.089 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:51:39.091 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' using the name '' in request data ...
2021-10-03 00:51:39.093 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2021-10-03 00:51:39.099 +03:00 [DBG] Connection id "0HMC5TR812I4L", Request id "0HMC5TR812I4L:00000001": started reading request body.
2021-10-03 00:51:39.100 +03:00 [DBG] Connection id "0HMC5TR812I4L", Request id "0HMC5TR812I4L:00000001": done reading request body.
2021-10-03 00:51:39.104 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'AuthModule.Dto.LoginDto'
2021-10-03 00:51:39.104 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:51:39.105 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:51:39.106 +03:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:51:39.109 +03:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:51:39.260 +03:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserAccount>(
    asyncEnumerable: new QueryingEnumerable<UserAccount>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, UserAccount>, 
        Bitir.Data.Contexts.BitirMainContext, 
        null
    ), 
    cancellationToken: queryContext.CancellationToken)
2021-10-03 00:51:39.283 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:51:39.285 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2021-10-03 00:51:39.290 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:51:39.292 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:51:39.296 +03:00 [DBG] Executing DbCommand [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:51:39.332 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:51:39.351 +03:00 [DBG] Context 'BitirMainContext' started tracking 'UserAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-10-03 00:51:39.376 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:51:39.378 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:51:39.380 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:51:39.381 +03:00 [ERR] Incorrect password
2021-10-03 00:51:39.456 +03:00 [INF] Executed action AuthModule.Controllers.AuthBaseController.Login (AuthModule) in 380.4251ms
2021-10-03 00:51:39.459 +03:00 [INF] Executed endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:51:39.533 +03:00 [ERR] Incorrect password !!
Core.Exceptions.BadRequestException: Incorrect password !!
   at AuthModule.Business.AuthBusinessBase.Login(LoginDto loginDto) in C:\Users\leven\source\repos\Bitir\API\AuthModule\Business\AuthBusinessBase.cs:line 103
   at AuthModule.Controllers.AuthBaseController.Login(LoginDto loginDto) in C:\Users\leven\source\repos\Bitir\API\AuthModule\Controllers\AuthBaseController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Core.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\leven\source\repos\Bitir\API\Core\Middlewares\ExceptionMiddleware.cs:line 36
2021-10-03 00:51:39.583 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2021-10-03 00:51:39.588 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["Application/json"]'.
2021-10-03 00:51:39.591 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2021-10-03 00:51:39.592 +03:00 [INF] Executing ObjectResult, writing value of type 'Core.Middlewares.ExceptionMiddleware+ErrorResponse'.
2021-10-03 00:51:39.603 +03:00 [DBG] Connection id "0HMC5TR812I4L" completed keep alive response.
2021-10-03 00:51:39.605 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 00:51:39.608 +03:00 [INF] Request finished in 669.4251ms 400 application/json; charset=utf-8
2021-10-03 00:52:26.863 +03:00 [INF] Starting web host
2021-10-03 00:52:27.454 +03:00 [DBG] Hosting starting
2021-10-03 00:52:27.495 +03:00 [INF] User profile is available. Using 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-03 00:52:27.508 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-14642b65-a18c-49a2-99af-52420015a828.xml'.
2021-10-03 00:52:27.523 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-3aa2ae8c-81de-4273-8d4a-f52cc391033f.xml'.
2021-10-03 00:52:27.524 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-4d95ab8d-4041-43bb-8736-c55e7eebfed6.xml'.
2021-10-03 00:52:27.528 +03:00 [DBG] Found key {14642b65-a18c-49a2-99af-52420015a828}.
2021-10-03 00:52:27.532 +03:00 [DBG] Found key {3aa2ae8c-81de-4273-8d4a-f52cc391033f}.
2021-10-03 00:52:27.533 +03:00 [DBG] Found key {4d95ab8d-4041-43bb-8736-c55e7eebfed6}.
2021-10-03 00:52:27.538 +03:00 [DBG] Considering key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} with expiration date 2021-10-31 07:22:50Z as default key.
2021-10-03 00:52:27.545 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 00:52:27.547 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-10-03 00:52:27.549 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 00:52:27.552 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-10-03 00:52:27.555 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-10-03 00:52:27.558 +03:00 [DBG] Using key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} as the default key.
2021-10-03 00:52:27.559 +03:00 [DBG] Key ring with default key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} was loaded during application startup.
2021-10-03 00:52:27.777 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-10-03 00:52:28.220 +03:00 [DBG] The property 'UnitId' on entity type 'Unit' was created in shadow state because there are no eligible CLR members with a matching name.
2021-10-03 00:52:28.239 +03:00 [WRN] No type was specified for the decimal column 'Price' on entity type 'ProductPrice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 00:52:28.241 +03:00 [WRN] No type was specified for the decimal column 'Quantity' on entity type 'ProductStock'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 00:52:28.267 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 00:52:28.291 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:52:28.451 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:52:28.456 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 00:52:28.463 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2021-10-03 00:52:28.470 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:52:28.492 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:52:28.495 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:52:28.499 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:52:28.501 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 00:52:28.502 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 00:52:28.503 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:52:28.504 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:52:28.505 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 00:52:28.523 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 00:52:28.526 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:52:28.527 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:52:28.531 +03:00 [DBG] Migrating using database 'BitirDb' on server '.'.
2021-10-03 00:52:28.532 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:52:28.533 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:52:28.534 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 00:52:28.535 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2021-10-03 00:52:28.536 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:52:28.542 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:52:28.544 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:52:28.545 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:52:28.547 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 00:52:28.547 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 00:52:28.548 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:52:28.549 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:52:28.551 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:52:28.555 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:52:28.557 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:52:28.558 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:52:28.560 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:52:28.561 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:52:28.562 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 00:52:28.563 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 00:52:28.564 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:52:28.567 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 00:52:28.570 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:52:28.571 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:52:28.572 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 00:52:28.573 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 00:52:28.574 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:52:28.575 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:52:28.576 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:52:28.578 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 00:52:28.580 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:52:28.582 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:52:28.589 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:52:28.590 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 00:52:28.591 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:52:28.592 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:52:28.594 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 00:52:28.597 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 00:52:28.601 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:52:28.601 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:52:28.602 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:52:28.610 +03:00 [DBG] No migrations were found in assembly 'Bitir.Data'.
2021-10-03 00:52:28.614 +03:00 [INF] No migrations were applied. The database is already up to date.
2021-10-03 00:52:28.615 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 00:52:28.648 +03:00 [DBG] Failed to locate the development https certificate at 'null'.
2021-10-03 00:52:28.674 +03:00 [INF] Now listening on: http://localhost:5000
2021-10-03 00:52:28.674 +03:00 [DBG] Loaded hosting startup assembly Bitir.Api
2021-10-03 00:52:28.676 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-03 00:52:28.676 +03:00 [INF] Hosting environment: Development
2021-10-03 00:52:28.677 +03:00 [INF] Content root path: C:\Users\leven\source\repos\Bitir\API\Bitir.Api
2021-10-03 00:52:28.678 +03:00 [DBG] Hosting started
2021-10-03 00:52:41.826 +03:00 [DBG] Connection id "0HMC5TRQP1890" accepted.
2021-10-03 00:52:41.828 +03:00 [DBG] Connection id "0HMC5TRQP1890" started.
2021-10-03 00:52:41.848 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/AuthModule/AuthBase/Login application/json 39
2021-10-03 00:52:41.851 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-10-03 00:52:41.874 +03:00 [DBG] 1 candidate(s) found for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:52:41.879 +03:00 [DBG] Endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)' with route pattern 'AuthModule/AuthBase/Login' is valid for the request path '/AuthModule/AuthBase/Login'
2021-10-03 00:52:41.881 +03:00 [DBG] Request matched endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:52:41.929 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-10-03 00:52:41.932 +03:00 [INF] Executing endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:52:41.938 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2021-10-03 00:52:41.964 +03:00 [INF] Route matched with {module = "AuthModule", action = "Login", controller = "AuthBase"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthModule.Dto.LoginDto) on controller AuthModule.Controllers.AuthBaseController (AuthModule).
2021-10-03 00:52:41.966 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-10-03 00:52:41.967 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-10-03 00:52:41.968 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-10-03 00:52:41.970 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-10-03 00:52:41.971 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-10-03 00:52:41.973 +03:00 [DBG] Executing controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:52:41.976 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 00:52:41.980 +03:00 [DBG] Executed controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 00:52:41.989 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:52:41.991 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' using the name '' in request data ...
2021-10-03 00:52:41.993 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2021-10-03 00:52:41.999 +03:00 [DBG] Connection id "0HMC5TRQP1890", Request id "0HMC5TRQP1890:00000001": started reading request body.
2021-10-03 00:52:42.001 +03:00 [DBG] Connection id "0HMC5TRQP1890", Request id "0HMC5TRQP1890:00000001": done reading request body.
2021-10-03 00:52:42.005 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'AuthModule.Dto.LoginDto'
2021-10-03 00:52:42.006 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:52:42.006 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:52:42.007 +03:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 00:52:42.010 +03:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 00:52:42.156 +03:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserAccount>(
    asyncEnumerable: new QueryingEnumerable<UserAccount>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, UserAccount>, 
        Bitir.Data.Contexts.BitirMainContext, 
        null
    ), 
    cancellationToken: queryContext.CancellationToken)
2021-10-03 00:52:42.180 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 00:52:42.181 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2021-10-03 00:52:42.186 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 00:52:42.188 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 00:52:42.193 +03:00 [DBG] Executing DbCommand [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:52:42.226 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 00:52:42.243 +03:00 [DBG] Context 'BitirMainContext' started tracking 'UserAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-10-03 00:52:42.269 +03:00 [DBG] A data reader was disposed.
2021-10-03 00:52:42.271 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 00:52:42.273 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 00:52:42.274 +03:00 [ERR] Incorrect password
2021-10-03 00:52:42.345 +03:00 [INF] Executed action AuthModule.Controllers.AuthBaseController.Login (AuthModule) in 369.791ms
2021-10-03 00:52:42.347 +03:00 [INF] Executed endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 00:52:42.424 +03:00 [ERR] Incorrect password !!
Core.Exceptions.BadRequestException: Incorrect password !!
   at AuthModule.Business.AuthBusinessBase.Login(LoginDto loginDto) in C:\Users\leven\source\repos\Bitir\API\AuthModule\Business\AuthBusinessBase.cs:line 103
   at AuthModule.Controllers.AuthBaseController.Login(LoginDto loginDto) in C:\Users\leven\source\repos\Bitir\API\AuthModule\Controllers\AuthBaseController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Core.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\leven\source\repos\Bitir\API\Core\Middlewares\ExceptionMiddleware.cs:line 36
2021-10-03 00:52:42.466 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2021-10-03 00:52:42.470 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["Application/json"]'.
2021-10-03 00:52:42.471 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2021-10-03 00:52:42.472 +03:00 [INF] Executing ObjectResult, writing value of type 'Core.Middlewares.ExceptionMiddleware+ErrorResponse'.
2021-10-03 00:52:42.482 +03:00 [DBG] Connection id "0HMC5TRQP1890" completed keep alive response.
2021-10-03 00:52:42.483 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 00:52:42.485 +03:00 [INF] Request finished in 639.075ms 400 application/json; charset=utf-8
2021-10-03 00:53:38.706 +03:00 [INF] Starting web host
2021-10-03 00:53:39.325 +03:00 [DBG] Hosting starting
2021-10-03 00:53:39.371 +03:00 [INF] User profile is available. Using 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-03 00:53:39.385 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-14642b65-a18c-49a2-99af-52420015a828.xml'.
2021-10-03 00:53:39.407 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-3aa2ae8c-81de-4273-8d4a-f52cc391033f.xml'.
2021-10-03 00:53:39.408 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-4d95ab8d-4041-43bb-8736-c55e7eebfed6.xml'.
2021-10-03 00:53:39.415 +03:00 [DBG] Found key {14642b65-a18c-49a2-99af-52420015a828}.
2021-10-03 00:53:39.419 +03:00 [DBG] Found key {3aa2ae8c-81de-4273-8d4a-f52cc391033f}.
2021-10-03 00:53:39.421 +03:00 [DBG] Found key {4d95ab8d-4041-43bb-8736-c55e7eebfed6}.
2021-10-03 00:53:39.427 +03:00 [DBG] Considering key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} with expiration date 2021-10-31 07:22:50Z as default key.
2021-10-03 00:53:39.434 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 00:53:39.437 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-10-03 00:53:39.439 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 00:53:39.443 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-10-03 00:53:39.446 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-10-03 00:53:39.452 +03:00 [DBG] Using key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} as the default key.
2021-10-03 00:53:39.455 +03:00 [DBG] Key ring with default key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} was loaded during application startup.
2021-10-03 00:53:39.709 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-10-03 01:02:29.812 +03:00 [INF] Starting web host
2021-10-03 01:02:30.557 +03:00 [DBG] Hosting starting
2021-10-03 01:02:30.597 +03:00 [INF] User profile is available. Using 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-03 01:02:30.613 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-14642b65-a18c-49a2-99af-52420015a828.xml'.
2021-10-03 01:02:30.629 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-3aa2ae8c-81de-4273-8d4a-f52cc391033f.xml'.
2021-10-03 01:02:30.630 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-4d95ab8d-4041-43bb-8736-c55e7eebfed6.xml'.
2021-10-03 01:02:30.634 +03:00 [DBG] Found key {14642b65-a18c-49a2-99af-52420015a828}.
2021-10-03 01:02:30.638 +03:00 [DBG] Found key {3aa2ae8c-81de-4273-8d4a-f52cc391033f}.
2021-10-03 01:02:30.639 +03:00 [DBG] Found key {4d95ab8d-4041-43bb-8736-c55e7eebfed6}.
2021-10-03 01:02:30.645 +03:00 [DBG] Considering key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} with expiration date 2021-10-31 07:22:50Z as default key.
2021-10-03 01:02:30.651 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 01:02:30.654 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-10-03 01:02:30.656 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 01:02:30.659 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-10-03 01:02:30.662 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-10-03 01:02:30.665 +03:00 [DBG] Using key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} as the default key.
2021-10-03 01:02:30.666 +03:00 [DBG] Key ring with default key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} was loaded during application startup.
2021-10-03 01:02:30.878 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-10-03 01:02:31.375 +03:00 [DBG] The property 'UnitId' on entity type 'Unit' was created in shadow state because there are no eligible CLR members with a matching name.
2021-10-03 01:02:31.402 +03:00 [WRN] No type was specified for the decimal column 'Price' on entity type 'ProductPrice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 01:02:31.405 +03:00 [WRN] No type was specified for the decimal column 'Quantity' on entity type 'ProductStock'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 01:02:31.436 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 01:02:31.478 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:02:31.639 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:02:31.644 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 01:02:31.651 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2021-10-03 01:02:31.658 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 01:02:31.679 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 01:02:31.683 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:02:31.687 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:02:31.689 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 01:02:31.689 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 01:02:31.690 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:02:31.692 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:02:31.693 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 01:02:31.712 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 01:02:31.716 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:02:31.718 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:02:31.721 +03:00 [DBG] Migrating using database 'BitirDb' on server '.'.
2021-10-03 01:02:31.722 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:02:31.723 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:02:31.725 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 01:02:31.726 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 01:02:31.727 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 01:02:31.731 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 01:02:31.733 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:02:31.734 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:02:31.736 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 01:02:31.737 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 01:02:31.738 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:02:31.740 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:02:31.741 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 01:02:31.744 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 01:02:31.746 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:02:31.747 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:02:31.749 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:02:31.750 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:02:31.751 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 01:02:31.751 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 01:02:31.753 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 01:02:31.757 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 01:02:31.759 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:02:31.760 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:02:31.761 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 01:02:31.762 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 01:02:31.762 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:02:31.763 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:02:31.764 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 01:02:31.767 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 01:02:31.769 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:02:31.771 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:02:31.778 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 01:02:31.779 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 01:02:31.780 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:02:31.781 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:02:31.782 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 01:02:31.786 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 01:02:31.790 +03:00 [DBG] A data reader was disposed.
2021-10-03 01:02:31.791 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:02:31.792 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:02:31.799 +03:00 [DBG] No migrations were found in assembly 'Bitir.Data'.
2021-10-03 01:02:31.802 +03:00 [INF] No migrations were applied. The database is already up to date.
2021-10-03 01:02:31.804 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 01:02:31.838 +03:00 [DBG] Failed to locate the development https certificate at 'null'.
2021-10-03 01:02:31.865 +03:00 [INF] Now listening on: http://localhost:5000
2021-10-03 01:02:31.866 +03:00 [DBG] Loaded hosting startup assembly Bitir.Api
2021-10-03 01:02:31.867 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-03 01:02:31.868 +03:00 [INF] Hosting environment: Development
2021-10-03 01:02:31.868 +03:00 [INF] Content root path: C:\Users\leven\source\repos\Bitir\API\Bitir.Api
2021-10-03 01:02:31.869 +03:00 [DBG] Hosting started
2021-10-03 01:02:39.251 +03:00 [DBG] Connection id "0HMC5U1CQFNO4" accepted.
2021-10-03 01:02:39.256 +03:00 [DBG] Connection id "0HMC5U1CQFNO4" started.
2021-10-03 01:02:39.276 +03:00 [INF] Request starting HTTP/1.1 HEAD http://localhost:5000/  
2021-10-03 01:02:39.280 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-10-03 01:02:39.297 +03:00 [DBG] No candidates found for the request path '/'
2021-10-03 01:02:39.298 +03:00 [DBG] Request did not match any endpoints
2021-10-03 01:02:39.350 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-10-03 01:02:39.360 +03:00 [DBG] The request path  does not match the path filter
2021-10-03 01:02:39.366 +03:00 [DBG] Connection id "0HMC5U1CQFNO4" completed keep alive response.
2021-10-03 01:02:39.368 +03:00 [INF] Request finished in 93.8231ms 404 
2021-10-03 01:02:46.239 +03:00 [DBG] Connection id "0HMC5U1CQFNO5" accepted.
2021-10-03 01:02:46.240 +03:00 [DBG] Connection id "0HMC5U1CQFNO5" started.
2021-10-03 01:02:46.242 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/AuthModule/AuthBase/Login application/json 38
2021-10-03 01:02:46.248 +03:00 [DBG] 1 candidate(s) found for the request path '/AuthModule/AuthBase/Login'
2021-10-03 01:02:46.251 +03:00 [DBG] Endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)' with route pattern 'AuthModule/AuthBase/Login' is valid for the request path '/AuthModule/AuthBase/Login'
2021-10-03 01:02:46.252 +03:00 [DBG] Request matched endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 01:02:46.254 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-10-03 01:02:46.260 +03:00 [INF] Executing endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 01:02:46.268 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2021-10-03 01:02:46.295 +03:00 [INF] Route matched with {module = "AuthModule", action = "Login", controller = "AuthBase"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthModule.Dto.LoginDto) on controller AuthModule.Controllers.AuthBaseController (AuthModule).
2021-10-03 01:02:46.297 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-10-03 01:02:46.298 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-10-03 01:02:46.299 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-10-03 01:02:46.301 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-10-03 01:02:46.302 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-10-03 01:02:46.305 +03:00 [DBG] Executing controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 01:02:46.309 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 01:02:46.312 +03:00 [DBG] Executed controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 01:02:46.317 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 01:02:46.319 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' using the name '' in request data ...
2021-10-03 01:02:46.321 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2021-10-03 01:02:46.326 +03:00 [DBG] Connection id "0HMC5U1CQFNO5", Request id "0HMC5U1CQFNO5:00000001": started reading request body.
2021-10-03 01:02:46.328 +03:00 [DBG] Connection id "0HMC5U1CQFNO5", Request id "0HMC5U1CQFNO5:00000001": done reading request body.
2021-10-03 01:02:46.331 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'AuthModule.Dto.LoginDto'
2021-10-03 01:02:46.331 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 01:02:46.332 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 01:02:46.333 +03:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 01:02:46.337 +03:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 01:02:46.487 +03:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserAccount>(
    asyncEnumerable: new QueryingEnumerable<UserAccount>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, UserAccount>, 
        Bitir.Data.Contexts.BitirMainContext, 
        null
    ), 
    cancellationToken: queryContext.CancellationToken)
2021-10-03 01:02:46.510 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 01:02:46.512 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2021-10-03 01:02:46.516 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:02:46.518 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:02:46.522 +03:00 [DBG] Executing DbCommand [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 01:02:46.558 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 01:02:46.577 +03:00 [DBG] Context 'BitirMainContext' started tracking 'UserAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-10-03 01:02:46.603 +03:00 [DBG] A data reader was disposed.
2021-10-03 01:02:46.606 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:02:46.609 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:02:46.611 +03:00 [ERR] Incorrect password
2021-10-03 01:02:46.685 +03:00 [INF] Executed action AuthModule.Controllers.AuthBaseController.Login (AuthModule) in 377.7735ms
2021-10-03 01:02:46.687 +03:00 [INF] Executed endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 01:02:46.760 +03:00 [ERR] Incorrect password !!
Core.Exceptions.BadRequestException: Incorrect password !!
   at AuthModule.Business.AuthBusinessBase.Login(LoginDto loginDto) in C:\Users\leven\source\repos\Bitir\API\AuthModule\Business\AuthBusinessBase.cs:line 103
   at AuthModule.Controllers.AuthBaseController.Login(LoginDto loginDto) in C:\Users\leven\source\repos\Bitir\API\AuthModule\Controllers\AuthBaseController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Core.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\leven\source\repos\Bitir\API\Core\Middlewares\ExceptionMiddleware.cs:line 36
2021-10-03 01:02:46.803 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2021-10-03 01:02:46.808 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["Application/json"]'.
2021-10-03 01:02:46.809 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2021-10-03 01:02:46.810 +03:00 [INF] Executing ObjectResult, writing value of type 'Core.Middlewares.ExceptionMiddleware+ErrorResponse'.
2021-10-03 01:02:46.820 +03:00 [DBG] Connection id "0HMC5U1CQFNO5" completed keep alive response.
2021-10-03 01:02:46.822 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 01:02:46.824 +03:00 [INF] Request finished in 581.7016ms 400 application/json; charset=utf-8
2021-10-03 01:03:20.898 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/AuthModule/AuthBase/Login application/json 36
2021-10-03 01:03:20.902 +03:00 [DBG] 1 candidate(s) found for the request path '/AuthModule/AuthBase/Login'
2021-10-03 01:03:20.903 +03:00 [DBG] Endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)' with route pattern 'AuthModule/AuthBase/Login' is valid for the request path '/AuthModule/AuthBase/Login'
2021-10-03 01:03:20.904 +03:00 [DBG] Request matched endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 01:03:20.907 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-10-03 01:03:20.908 +03:00 [INF] Executing endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 01:03:20.909 +03:00 [INF] Route matched with {module = "AuthModule", action = "Login", controller = "AuthBase"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthModule.Dto.LoginDto) on controller AuthModule.Controllers.AuthBaseController (AuthModule).
2021-10-03 01:03:20.910 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-10-03 01:03:20.911 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-10-03 01:03:20.912 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-10-03 01:03:20.915 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-10-03 01:03:20.916 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-10-03 01:03:20.918 +03:00 [DBG] Executing controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 01:03:20.942 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 01:03:20.945 +03:00 [DBG] Executed controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 01:03:20.946 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 01:03:20.947 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' using the name '' in request data ...
2021-10-03 01:03:20.949 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2021-10-03 01:03:20.950 +03:00 [DBG] Connection id "0HMC5U1CQFNO5", Request id "0HMC5U1CQFNO5:00000002": started reading request body.
2021-10-03 01:03:20.951 +03:00 [DBG] Connection id "0HMC5U1CQFNO5", Request id "0HMC5U1CQFNO5:00000002": done reading request body.
2021-10-03 01:03:20.955 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'AuthModule.Dto.LoginDto'
2021-10-03 01:03:20.956 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 01:03:20.957 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 01:03:20.958 +03:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 01:03:20.959 +03:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 01:03:20.963 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 01:03:20.964 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 01:03:20.965 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:03:20.966 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:03:20.968 +03:00 [DBG] Executing DbCommand [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 01:03:20.974 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 01:03:20.976 +03:00 [DBG] Context 'BitirMainContext' started tracking 'UserAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-10-03 01:03:20.978 +03:00 [DBG] A data reader was disposed.
2021-10-03 01:03:20.978 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:03:20.979 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:03:21.081 +03:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserToken>(
    asyncEnumerable: new QueryingEnumerable<UserToken>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, UserToken>, 
        Bitir.Data.Contexts.BitirMainContext, 
        null
    ), 
    cancellationToken: queryContext.CancellationToken)
2021-10-03 01:03:21.084 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 01:03:21.085 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 01:03:21.086 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:03:21.087 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:03:21.089 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[InsertDate], [u].[RefreshToken], [u].[RefreshTokenExpirationDate], [u].[Status], [u].[UpdateDate], [u].[UserId]
FROM [auth].[UserToken] AS [u]
WHERE ([u].[Id] = @__entity_Id_0) AND ([u].[Status] <> 1)
2021-10-03 01:03:21.094 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__entity_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[InsertDate], [u].[RefreshToken], [u].[RefreshTokenExpirationDate], [u].[Status], [u].[UpdateDate], [u].[UserId]
FROM [auth].[UserToken] AS [u]
WHERE ([u].[Id] = @__entity_Id_0) AND ([u].[Status] <> 1)
2021-10-03 01:03:21.096 +03:00 [DBG] A data reader was disposed.
2021-10-03 01:03:21.097 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:03:21.098 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:03:21.100 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2021-10-03 01:03:21.102 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["Application/json"]'.
2021-10-03 01:03:21.103 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2021-10-03 01:03:21.104 +03:00 [INF] Executing ObjectResult, writing value of type 'Bitir.Data.Model.Dtos.ResponseWrapper`1[[AuthModule.Security.JWT.AccessToken, AuthModule, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-03 01:03:21.110 +03:00 [INF] Executed action AuthModule.Controllers.AuthBaseController.Login (AuthModule) in 192.7875ms
2021-10-03 01:03:21.111 +03:00 [INF] Executed endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 01:03:21.112 +03:00 [DBG] Connection id "0HMC5U1CQFNO5" completed keep alive response.
2021-10-03 01:03:21.113 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 01:03:21.114 +03:00 [INF] Request finished in 215.7537ms 200 application/json; charset=utf-8
2021-10-03 01:03:41.716 +03:00 [DBG] Connection id "0HMC5U1CQFNO4" received FIN.
2021-10-03 01:03:41.719 +03:00 [DBG] Connection id "0HMC5U1CQFNO4" sending FIN because: "The client closed the connection."
2021-10-03 01:03:41.721 +03:00 [DBG] Connection id "0HMC5U1CQFNO4" disconnecting.
2021-10-03 01:03:41.723 +03:00 [DBG] Connection id "0HMC5U1CQFNO4" stopped.
2021-10-03 01:03:55.052 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/AuthModule/AuthBase/Login application/json 36
2021-10-03 01:03:55.053 +03:00 [DBG] 1 candidate(s) found for the request path '/AuthModule/AuthBase/Login'
2021-10-03 01:03:55.055 +03:00 [DBG] Endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)' with route pattern 'AuthModule/AuthBase/Login' is valid for the request path '/AuthModule/AuthBase/Login'
2021-10-03 01:03:55.056 +03:00 [DBG] Request matched endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 01:03:55.103 +03:00 [INF] Successfully validated the token.
2021-10-03 01:03:55.105 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-10-03 01:03:55.107 +03:00 [INF] Executing endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 01:03:55.108 +03:00 [INF] Route matched with {module = "AuthModule", action = "Login", controller = "AuthBase"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthModule.Dto.LoginDto) on controller AuthModule.Controllers.AuthBaseController (AuthModule).
2021-10-03 01:03:55.111 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-10-03 01:03:55.113 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-10-03 01:03:55.114 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-10-03 01:03:55.117 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-10-03 01:03:55.118 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-10-03 01:03:55.120 +03:00 [DBG] Executing controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 01:03:55.123 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 01:03:55.125 +03:00 [DBG] Executed controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 01:03:55.127 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 01:03:55.127 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' using the name '' in request data ...
2021-10-03 01:03:55.129 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2021-10-03 01:03:55.132 +03:00 [DBG] Connection id "0HMC5U1CQFNO5", Request id "0HMC5U1CQFNO5:00000003": started reading request body.
2021-10-03 01:03:55.132 +03:00 [DBG] Connection id "0HMC5U1CQFNO5", Request id "0HMC5U1CQFNO5:00000003": done reading request body.
2021-10-03 01:03:55.134 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'AuthModule.Dto.LoginDto'
2021-10-03 01:03:55.135 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 01:03:55.136 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 01:03:55.137 +03:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 01:03:55.138 +03:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 01:03:55.141 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 01:03:55.142 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2021-10-03 01:03:55.143 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:04:19.771 +03:00 [ERR] An error occurred using the connection to database 'BitirDb' on server '.'.
2021-10-03 01:04:19.781 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Bitir.Data.Contexts.BitirMainContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at Microsoft.Data.SqlClient.SqlConnection.OpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at Microsoft.Data.SqlClient.SqlConnection.OpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2021-10-03 01:04:19.874 +03:00 [INF] Executed action AuthModule.Controllers.AuthBaseController.Login (AuthModule) in 24753.8038ms
2021-10-03 01:04:19.875 +03:00 [INF] Executed endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 01:04:19.885 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool, SqlAuthenticationProviderManager sqlAuthProviderManager)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at Microsoft.Data.SqlClient.SqlConnection.OpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnectionAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Core.DataAccess.EntityFramework.EFRepository`2.GetAsync(Expression`1 predicate) in C:\Users\leven\source\repos\Bitir\API\Core\DataAccess\EntityFramework\EFRepository.cs:line 47
   at AuthModule.Business.AuthBusinessBase.Login(LoginDto loginDto) in C:\Users\leven\source\repos\Bitir\API\AuthModule\Business\AuthBusinessBase.cs:line 90
   at AuthModule.Controllers.AuthBaseController.Login(LoginDto loginDto) in C:\Users\leven\source\repos\Bitir\API\AuthModule\Controllers\AuthBaseController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Core.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\leven\source\repos\Bitir\API\Core\Middlewares\ExceptionMiddleware.cs:line 36
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2021-10-03 01:04:19.909 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2021-10-03 01:04:19.912 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["Application/json"]'.
2021-10-03 01:04:19.913 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2021-10-03 01:04:19.915 +03:00 [INF] Executing ObjectResult, writing value of type 'Core.Middlewares.ExceptionMiddleware+ErrorResponse'.
2021-10-03 01:04:19.916 +03:00 [DBG] Connection id "0HMC5U1CQFNO5" completed keep alive response.
2021-10-03 01:04:19.917 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 01:04:19.918 +03:00 [INF] Request finished in 24865.723ms 500 application/json; charset=utf-8
2021-10-03 01:09:08.043 +03:00 [INF] Starting web host
2021-10-03 01:09:08.698 +03:00 [DBG] Hosting starting
2021-10-03 01:09:08.735 +03:00 [INF] User profile is available. Using 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-03 01:09:08.748 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-14642b65-a18c-49a2-99af-52420015a828.xml'.
2021-10-03 01:09:08.763 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-3aa2ae8c-81de-4273-8d4a-f52cc391033f.xml'.
2021-10-03 01:09:08.764 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-4d95ab8d-4041-43bb-8736-c55e7eebfed6.xml'.
2021-10-03 01:09:08.768 +03:00 [DBG] Found key {14642b65-a18c-49a2-99af-52420015a828}.
2021-10-03 01:09:08.772 +03:00 [DBG] Found key {3aa2ae8c-81de-4273-8d4a-f52cc391033f}.
2021-10-03 01:09:08.773 +03:00 [DBG] Found key {4d95ab8d-4041-43bb-8736-c55e7eebfed6}.
2021-10-03 01:09:08.779 +03:00 [DBG] Considering key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} with expiration date 2021-10-31 07:22:50Z as default key.
2021-10-03 01:09:08.787 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 01:09:08.790 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-10-03 01:09:08.793 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 01:09:08.796 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-10-03 01:09:08.799 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-10-03 01:09:08.802 +03:00 [DBG] Using key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} as the default key.
2021-10-03 01:09:08.803 +03:00 [DBG] Key ring with default key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} was loaded during application startup.
2021-10-03 01:09:09.038 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-10-03 01:09:09.585 +03:00 [DBG] The property 'UnitId' on entity type 'Unit' was created in shadow state because there are no eligible CLR members with a matching name.
2021-10-03 01:09:09.610 +03:00 [WRN] No type was specified for the decimal column 'Price' on entity type 'ProductPrice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 01:09:09.612 +03:00 [WRN] No type was specified for the decimal column 'Quantity' on entity type 'ProductStock'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 01:09:09.649 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 01:09:09.681 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:09:34.374 +03:00 [DBG] An error occurred using the connection to database 'BitirDb' on server '.'.
2021-10-03 01:11:59.835 +03:00 [INF] Starting web host
2021-10-03 01:12:00.562 +03:00 [DBG] Hosting starting
2021-10-03 01:12:00.609 +03:00 [INF] User profile is available. Using 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-03 01:12:00.623 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-14642b65-a18c-49a2-99af-52420015a828.xml'.
2021-10-03 01:12:00.642 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-3aa2ae8c-81de-4273-8d4a-f52cc391033f.xml'.
2021-10-03 01:12:00.642 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-4d95ab8d-4041-43bb-8736-c55e7eebfed6.xml'.
2021-10-03 01:12:00.647 +03:00 [DBG] Found key {14642b65-a18c-49a2-99af-52420015a828}.
2021-10-03 01:12:00.651 +03:00 [DBG] Found key {3aa2ae8c-81de-4273-8d4a-f52cc391033f}.
2021-10-03 01:12:00.652 +03:00 [DBG] Found key {4d95ab8d-4041-43bb-8736-c55e7eebfed6}.
2021-10-03 01:12:00.657 +03:00 [DBG] Considering key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} with expiration date 2021-10-31 07:22:50Z as default key.
2021-10-03 01:12:00.664 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 01:12:00.667 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-10-03 01:12:00.669 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 01:12:00.673 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-10-03 01:12:00.678 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-10-03 01:12:00.681 +03:00 [DBG] Using key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} as the default key.
2021-10-03 01:12:00.682 +03:00 [DBG] Key ring with default key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} was loaded during application startup.
2021-10-03 01:12:00.942 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-10-03 01:12:01.466 +03:00 [DBG] The property 'UnitId' on entity type 'Unit' was created in shadow state because there are no eligible CLR members with a matching name.
2021-10-03 01:12:01.488 +03:00 [WRN] No type was specified for the decimal column 'Price' on entity type 'ProductPrice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 01:12:01.492 +03:00 [WRN] No type was specified for the decimal column 'Quantity' on entity type 'ProductStock'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 01:12:01.518 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 01:12:01.545 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:12:26.326 +03:00 [DBG] An error occurred using the connection to database 'BitirDb' on server '.'.
2021-10-03 01:12:37.588 +03:00 [INF] Starting web host
2021-10-03 01:12:38.215 +03:00 [DBG] Hosting starting
2021-10-03 01:12:38.254 +03:00 [INF] User profile is available. Using 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-03 01:12:38.268 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-14642b65-a18c-49a2-99af-52420015a828.xml'.
2021-10-03 01:12:38.283 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-3aa2ae8c-81de-4273-8d4a-f52cc391033f.xml'.
2021-10-03 01:12:38.284 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-4d95ab8d-4041-43bb-8736-c55e7eebfed6.xml'.
2021-10-03 01:12:38.288 +03:00 [DBG] Found key {14642b65-a18c-49a2-99af-52420015a828}.
2021-10-03 01:12:38.292 +03:00 [DBG] Found key {3aa2ae8c-81de-4273-8d4a-f52cc391033f}.
2021-10-03 01:12:38.293 +03:00 [DBG] Found key {4d95ab8d-4041-43bb-8736-c55e7eebfed6}.
2021-10-03 01:12:38.298 +03:00 [DBG] Considering key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} with expiration date 2021-10-31 07:22:50Z as default key.
2021-10-03 01:12:38.306 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 01:12:38.310 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-10-03 01:12:38.312 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 01:12:38.315 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-10-03 01:12:38.318 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-10-03 01:12:38.322 +03:00 [DBG] Using key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} as the default key.
2021-10-03 01:12:38.324 +03:00 [DBG] Key ring with default key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} was loaded during application startup.
2021-10-03 01:12:38.589 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-10-03 01:12:39.082 +03:00 [DBG] The property 'UnitId' on entity type 'Unit' was created in shadow state because there are no eligible CLR members with a matching name.
2021-10-03 01:12:39.102 +03:00 [WRN] No type was specified for the decimal column 'Price' on entity type 'ProductPrice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 01:12:39.105 +03:00 [WRN] No type was specified for the decimal column 'Quantity' on entity type 'ProductStock'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 01:12:39.137 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 01:12:39.162 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:12:39.315 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:12:39.320 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 01:12:39.326 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2021-10-03 01:12:39.333 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 01:12:39.357 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 01:12:39.362 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:12:39.366 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:12:39.369 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 01:12:39.370 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 01:12:39.371 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:12:39.372 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:12:39.373 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 01:12:39.416 +03:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 01:12:39.420 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:12:39.421 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:12:39.425 +03:00 [DBG] Migrating using database 'BitirDb' on server '.'.
2021-10-03 01:12:39.426 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:12:39.427 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:12:39.429 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 01:12:39.429 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 01:12:39.430 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 01:12:39.434 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 01:12:39.436 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:12:39.437 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:12:39.439 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 01:12:39.440 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 01:12:39.441 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:12:39.442 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:12:39.443 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 01:12:39.447 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 01:12:39.450 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:12:39.452 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:12:39.454 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:12:39.455 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:12:39.456 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 01:12:39.457 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 01:12:39.458 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 01:12:39.461 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 01:12:39.463 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:12:39.464 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:12:39.465 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 01:12:39.466 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 01:12:39.467 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:12:39.468 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:12:39.470 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 01:12:39.473 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 01:12:39.474 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:12:39.475 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:12:39.483 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 01:12:39.484 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2021-10-03 01:12:39.488 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:12:39.491 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:12:39.493 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 01:12:39.502 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 01:12:39.505 +03:00 [DBG] A data reader was disposed.
2021-10-03 01:12:39.506 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:12:39.509 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:12:39.521 +03:00 [DBG] No migrations were found in assembly 'Bitir.Data'.
2021-10-03 01:12:39.525 +03:00 [INF] No migrations were applied. The database is already up to date.
2021-10-03 01:12:39.527 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 01:12:39.582 +03:00 [DBG] Failed to locate the development https certificate at 'null'.
2021-10-03 01:12:39.609 +03:00 [INF] Now listening on: http://localhost:5000
2021-10-03 01:12:39.610 +03:00 [DBG] Loaded hosting startup assembly Bitir.Api
2021-10-03 01:12:39.611 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-03 01:12:39.612 +03:00 [INF] Hosting environment: Development
2021-10-03 01:12:39.613 +03:00 [INF] Content root path: C:\Users\leven\source\repos\Bitir\API\Bitir.Api
2021-10-03 01:12:39.614 +03:00 [DBG] Hosting started
2021-10-03 01:13:15.292 +03:00 [INF] Starting web host
2021-10-03 01:13:15.942 +03:00 [DBG] Hosting starting
2021-10-03 01:13:15.982 +03:00 [INF] User profile is available. Using 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-03 01:13:15.995 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-14642b65-a18c-49a2-99af-52420015a828.xml'.
2021-10-03 01:13:16.010 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-3aa2ae8c-81de-4273-8d4a-f52cc391033f.xml'.
2021-10-03 01:13:16.010 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-4d95ab8d-4041-43bb-8736-c55e7eebfed6.xml'.
2021-10-03 01:13:16.015 +03:00 [DBG] Found key {14642b65-a18c-49a2-99af-52420015a828}.
2021-10-03 01:13:16.018 +03:00 [DBG] Found key {3aa2ae8c-81de-4273-8d4a-f52cc391033f}.
2021-10-03 01:13:16.019 +03:00 [DBG] Found key {4d95ab8d-4041-43bb-8736-c55e7eebfed6}.
2021-10-03 01:13:16.024 +03:00 [DBG] Considering key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} with expiration date 2021-10-31 07:22:50Z as default key.
2021-10-03 01:13:16.031 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 01:13:16.033 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-10-03 01:13:16.035 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 01:13:16.038 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-10-03 01:13:16.041 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-10-03 01:13:16.045 +03:00 [DBG] Using key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} as the default key.
2021-10-03 01:13:16.047 +03:00 [DBG] Key ring with default key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} was loaded during application startup.
2021-10-03 01:13:16.275 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-10-03 01:13:16.883 +03:00 [DBG] The property 'UnitId' on entity type 'Unit' was created in shadow state because there are no eligible CLR members with a matching name.
2021-10-03 01:13:16.903 +03:00 [WRN] No type was specified for the decimal column 'Price' on entity type 'ProductPrice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 01:13:16.904 +03:00 [WRN] No type was specified for the decimal column 'Quantity' on entity type 'ProductStock'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 01:13:16.932 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 01:13:16.958 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:13:17.117 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:13:17.121 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 01:13:17.127 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2021-10-03 01:13:17.133 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 01:13:17.153 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 01:13:17.157 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:13:17.160 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:13:17.162 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 01:13:17.163 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 01:13:17.164 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:13:17.166 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:13:17.167 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 01:13:17.182 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 01:13:17.184 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:13:17.185 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:13:17.188 +03:00 [DBG] Migrating using database 'BitirDb' on server '.'.
2021-10-03 01:13:17.189 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:13:17.190 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:13:17.191 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 01:13:17.192 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 01:13:17.193 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 01:13:17.196 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 01:13:17.197 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:13:17.198 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:13:17.200 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 01:13:17.201 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 01:13:17.202 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:13:17.203 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:13:17.203 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 01:13:17.206 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 01:13:17.207 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:13:17.208 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:13:17.210 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:13:17.210 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:13:17.211 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 01:13:17.212 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 01:13:17.213 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 01:13:17.215 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 01:13:17.216 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:13:17.217 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:13:17.218 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 01:13:17.219 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 01:13:17.220 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:13:17.221 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:13:17.221 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 01:13:17.224 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 01:13:17.225 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:13:17.226 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:13:17.233 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 01:13:17.234 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 01:13:17.235 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:13:17.235 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:13:17.236 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 01:13:17.240 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 01:13:17.242 +03:00 [DBG] A data reader was disposed.
2021-10-03 01:13:17.243 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:13:17.244 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:13:17.252 +03:00 [DBG] No migrations were found in assembly 'Bitir.Data'.
2021-10-03 01:13:17.255 +03:00 [INF] No migrations were applied. The database is already up to date.
2021-10-03 01:13:17.256 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 01:13:17.287 +03:00 [DBG] Failed to locate the development https certificate at 'null'.
2021-10-03 01:13:17.308 +03:00 [INF] Now listening on: http://localhost:5000
2021-10-03 01:13:17.310 +03:00 [DBG] Loaded hosting startup assembly Bitir.Api
2021-10-03 01:13:17.311 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-03 01:13:17.312 +03:00 [INF] Hosting environment: Development
2021-10-03 01:13:17.312 +03:00 [INF] Content root path: C:\Users\leven\source\repos\Bitir\API\Bitir.Api
2021-10-03 01:13:17.313 +03:00 [DBG] Hosting started
2021-10-03 01:13:29.036 +03:00 [DBG] Connection id "0HMC5U7EFBFF6" accepted.
2021-10-03 01:13:29.039 +03:00 [DBG] Connection id "0HMC5U7EFBFF6" started.
2021-10-03 01:13:29.060 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/AuthModule/AuthBase/Login application/json 36
2021-10-03 01:13:29.064 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-10-03 01:13:29.089 +03:00 [DBG] 1 candidate(s) found for the request path '/AuthModule/AuthBase/Login'
2021-10-03 01:13:29.094 +03:00 [DBG] Endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)' with route pattern 'AuthModule/AuthBase/Login' is valid for the request path '/AuthModule/AuthBase/Login'
2021-10-03 01:13:29.096 +03:00 [DBG] Request matched endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 01:13:29.143 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-10-03 01:13:29.146 +03:00 [INF] Executing endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 01:13:29.152 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2021-10-03 01:13:29.178 +03:00 [INF] Route matched with {module = "AuthModule", action = "Login", controller = "AuthBase"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthModule.Dto.LoginDto) on controller AuthModule.Controllers.AuthBaseController (AuthModule).
2021-10-03 01:13:29.180 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-10-03 01:13:29.182 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-10-03 01:13:29.183 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-10-03 01:13:29.184 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-10-03 01:13:29.185 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-10-03 01:13:29.187 +03:00 [DBG] Executing controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 01:13:29.190 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 01:13:29.194 +03:00 [DBG] Executed controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 01:13:29.203 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 01:13:29.205 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' using the name '' in request data ...
2021-10-03 01:13:29.207 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2021-10-03 01:13:29.213 +03:00 [DBG] Connection id "0HMC5U7EFBFF6", Request id "0HMC5U7EFBFF6:00000001": started reading request body.
2021-10-03 01:13:29.214 +03:00 [DBG] Connection id "0HMC5U7EFBFF6", Request id "0HMC5U7EFBFF6:00000001": done reading request body.
2021-10-03 01:13:29.216 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'AuthModule.Dto.LoginDto'
2021-10-03 01:13:29.217 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 01:13:29.218 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 01:13:29.219 +03:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 01:13:29.222 +03:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 01:13:29.363 +03:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserAccount>(
    asyncEnumerable: new QueryingEnumerable<UserAccount>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, UserAccount>, 
        Bitir.Data.Contexts.BitirMainContext, 
        null
    ), 
    cancellationToken: queryContext.CancellationToken)
2021-10-03 01:13:29.386 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 01:13:29.387 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2021-10-03 01:13:29.392 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:13:29.395 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:13:29.399 +03:00 [DBG] Executing DbCommand [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 01:13:29.437 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 01:13:29.456 +03:00 [DBG] Context 'BitirMainContext' started tracking 'UserAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-10-03 01:13:29.480 +03:00 [DBG] A data reader was disposed.
2021-10-03 01:13:29.484 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:13:29.485 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:13:29.584 +03:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserToken>(
    asyncEnumerable: new QueryingEnumerable<UserToken>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, UserToken>, 
        Bitir.Data.Contexts.BitirMainContext, 
        null
    ), 
    cancellationToken: queryContext.CancellationToken)
2021-10-03 01:13:29.589 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 01:13:29.590 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 01:13:29.591 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:13:29.592 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:13:29.594 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[InsertDate], [u].[RefreshToken], [u].[RefreshTokenExpirationDate], [u].[Status], [u].[UpdateDate], [u].[UserId]
FROM [auth].[UserToken] AS [u]
WHERE ([u].[Id] = @__entity_Id_0) AND ([u].[Status] <> 1)
2021-10-03 01:13:29.599 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__entity_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[InsertDate], [u].[RefreshToken], [u].[RefreshTokenExpirationDate], [u].[Status], [u].[UpdateDate], [u].[UserId]
FROM [auth].[UserToken] AS [u]
WHERE ([u].[Id] = @__entity_Id_0) AND ([u].[Status] <> 1)
2021-10-03 01:13:29.601 +03:00 [DBG] A data reader was disposed.
2021-10-03 01:13:29.602 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:13:29.602 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:13:29.607 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2021-10-03 01:13:29.611 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["Application/json"]'.
2021-10-03 01:13:29.612 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2021-10-03 01:13:29.613 +03:00 [INF] Executing ObjectResult, writing value of type 'Bitir.Data.Model.Dtos.ResponseWrapper`1[[AuthModule.Security.JWT.AccessToken, AuthModule, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-03 01:13:29.624 +03:00 [INF] Executed action AuthModule.Controllers.AuthBaseController.Login (AuthModule) in 434.2188ms
2021-10-03 01:13:29.625 +03:00 [INF] Executed endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 01:13:29.627 +03:00 [DBG] Connection id "0HMC5U7EFBFF6" completed keep alive response.
2021-10-03 01:13:29.629 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 01:13:29.631 +03:00 [INF] Request finished in 572.166ms 200 application/json; charset=utf-8
2021-10-03 01:13:33.953 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/AuthModule/AuthBase/GetById?Id=2  
2021-10-03 01:13:33.956 +03:00 [DBG] 1 candidate(s) found for the request path '/AuthModule/AuthBase/GetById'
2021-10-03 01:13:33.957 +03:00 [DBG] Endpoint 'AuthModule.Controllers.AuthBaseController.Find (AuthModule)' with route pattern 'AuthModule/AuthBase/GetById' is valid for the request path '/AuthModule/AuthBase/GetById'
2021-10-03 01:13:33.958 +03:00 [DBG] Request matched endpoint 'AuthModule.Controllers.AuthBaseController.Find (AuthModule)'
2021-10-03 01:13:34.000 +03:00 [INF] Successfully validated the token.
2021-10-03 01:13:34.003 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-10-03 01:13:34.006 +03:00 [INF] Authorization was successful.
2021-10-03 01:13:34.007 +03:00 [INF] Executing endpoint 'AuthModule.Controllers.AuthBaseController.Find (AuthModule)'
2021-10-03 01:13:34.011 +03:00 [INF] Route matched with {module = "AuthModule", action = "Find", controller = "AuthBase"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Find(Int32) on controller AuthModule.Controllers.AuthBaseController (AuthModule).
2021-10-03 01:13:34.013 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-10-03 01:13:34.014 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-10-03 01:13:34.015 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-10-03 01:13:34.017 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-10-03 01:13:34.018 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-10-03 01:13:34.019 +03:00 [DBG] Executing controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 01:13:34.043 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 01:13:34.044 +03:00 [DBG] Executed controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 01:13:34.051 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2021-10-03 01:13:34.053 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2021-10-03 01:13:34.054 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2021-10-03 01:13:34.055 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2021-10-03 01:13:34.056 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2021-10-03 01:13:34.057 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2021-10-03 01:13:34.070 +03:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserAccount>(
    asyncEnumerable: new QueryingEnumerable<UserAccount>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, UserAccount>, 
        Bitir.Data.Contexts.BitirMainContext, 
        null
    ), 
    cancellationToken: queryContext.CancellationToken)
2021-10-03 01:13:34.072 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 01:13:34.073 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 01:13:34.074 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:13:34.075 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:13:34.076 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE [u].[Id] = @__p_0
2021-10-03 01:13:34.080 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE [u].[Id] = @__p_0
2021-10-03 01:13:34.082 +03:00 [DBG] Context 'BitirMainContext' started tracking 'UserAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-10-03 01:13:34.084 +03:00 [DBG] A data reader was disposed.
2021-10-03 01:13:34.084 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:13:34.085 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:13:34.086 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2021-10-03 01:13:34.088 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["Application/json"]'.
2021-10-03 01:13:34.089 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2021-10-03 01:13:34.090 +03:00 [INF] Executing ObjectResult, writing value of type 'Bitir.Data.Model.Dtos.ResponseWrapper`1[[AuthModule.Entities.UserAccount, AuthModule, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-03 01:13:34.099 +03:00 [INF] Executed action AuthModule.Controllers.AuthBaseController.Find (AuthModule) in 79.4866ms
2021-10-03 01:13:34.100 +03:00 [INF] Executed endpoint 'AuthModule.Controllers.AuthBaseController.Find (AuthModule)'
2021-10-03 01:13:34.100 +03:00 [DBG] Connection id "0HMC5U7EFBFF6" completed keep alive response.
2021-10-03 01:13:34.101 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 01:13:34.102 +03:00 [INF] Request finished in 148.698ms 200 application/json; charset=utf-8
2021-10-03 01:13:41.308 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/AuthModule/AuthBase/Update application/json 116
2021-10-03 01:13:41.309 +03:00 [DBG] 1 candidate(s) found for the request path '/AuthModule/AuthBase/Update'
2021-10-03 01:13:41.311 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2021-10-03 01:13:41.315 +03:00 [INF] Successfully validated the token.
2021-10-03 01:13:41.316 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-10-03 01:13:41.317 +03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2021-10-03 01:13:41.318 +03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2021-10-03 01:13:41.319 +03:00 [DBG] Connection id "0HMC5U7EFBFF6" completed keep alive response.
2021-10-03 01:13:41.320 +03:00 [INF] Request finished in 11.976ms 405 
2021-10-03 01:13:41.320 +03:00 [DBG] Connection id "0HMC5U7EFBFF6", Request id "0HMC5U7EFBFF6:00000003": started reading request body.
2021-10-03 01:13:41.321 +03:00 [DBG] Connection id "0HMC5U7EFBFF6", Request id "0HMC5U7EFBFF6:00000003": done reading request body.
2021-10-03 01:14:07.343 +03:00 [INF] Starting web host
2021-10-03 01:14:08.001 +03:00 [DBG] Hosting starting
2021-10-03 01:14:08.039 +03:00 [INF] User profile is available. Using 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-03 01:14:08.052 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-14642b65-a18c-49a2-99af-52420015a828.xml'.
2021-10-03 01:14:08.068 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-3aa2ae8c-81de-4273-8d4a-f52cc391033f.xml'.
2021-10-03 01:14:08.069 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-4d95ab8d-4041-43bb-8736-c55e7eebfed6.xml'.
2021-10-03 01:14:08.074 +03:00 [DBG] Found key {14642b65-a18c-49a2-99af-52420015a828}.
2021-10-03 01:14:08.078 +03:00 [DBG] Found key {3aa2ae8c-81de-4273-8d4a-f52cc391033f}.
2021-10-03 01:14:08.078 +03:00 [DBG] Found key {4d95ab8d-4041-43bb-8736-c55e7eebfed6}.
2021-10-03 01:14:08.084 +03:00 [DBG] Considering key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} with expiration date 2021-10-31 07:22:50Z as default key.
2021-10-03 01:14:08.091 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 01:14:08.093 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-10-03 01:14:08.095 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 01:14:08.100 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-10-03 01:14:08.103 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-10-03 01:14:08.106 +03:00 [DBG] Using key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} as the default key.
2021-10-03 01:14:08.108 +03:00 [DBG] Key ring with default key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} was loaded during application startup.
2021-10-03 01:14:08.344 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-10-03 01:14:08.892 +03:00 [DBG] The property 'UnitId' on entity type 'Unit' was created in shadow state because there are no eligible CLR members with a matching name.
2021-10-03 01:14:08.917 +03:00 [WRN] No type was specified for the decimal column 'Price' on entity type 'ProductPrice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 01:14:08.919 +03:00 [WRN] No type was specified for the decimal column 'Quantity' on entity type 'ProductStock'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 01:14:08.948 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 01:14:08.980 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:14:09.160 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:14:09.165 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 01:14:09.171 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2021-10-03 01:14:09.178 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 01:14:09.201 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 01:14:09.204 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:14:09.208 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:14:09.210 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 01:14:09.211 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 01:14:09.212 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:14:09.214 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:14:09.215 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 01:14:09.232 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 01:14:09.234 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:14:09.236 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:14:09.239 +03:00 [DBG] Migrating using database 'BitirDb' on server '.'.
2021-10-03 01:14:09.241 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:14:09.242 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:14:09.243 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 01:14:09.244 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2021-10-03 01:14:09.245 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 01:14:09.248 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 01:14:09.250 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:14:09.251 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:14:09.253 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 01:14:09.253 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 01:14:09.254 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:14:09.255 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:14:09.256 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 01:14:09.258 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 01:14:09.260 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:14:09.261 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:14:09.263 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:14:09.263 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:14:09.264 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 01:14:09.265 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 01:14:09.266 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 01:14:09.268 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 01:14:09.270 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:14:09.271 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:14:09.272 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 01:14:09.272 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 01:14:09.273 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:14:09.274 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:14:09.276 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 01:14:09.279 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 01:14:09.281 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:14:09.282 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:14:09.290 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 01:14:09.291 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 01:14:09.292 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:14:09.292 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:14:09.293 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 01:14:09.296 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 01:14:09.299 +03:00 [DBG] A data reader was disposed.
2021-10-03 01:14:09.300 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:14:09.301 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:14:09.308 +03:00 [DBG] No migrations were found in assembly 'Bitir.Data'.
2021-10-03 01:14:09.312 +03:00 [INF] No migrations were applied. The database is already up to date.
2021-10-03 01:14:09.313 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 01:14:09.342 +03:00 [DBG] Failed to locate the development https certificate at 'null'.
2021-10-03 01:14:09.364 +03:00 [INF] Now listening on: http://localhost:5000
2021-10-03 01:14:09.365 +03:00 [DBG] Loaded hosting startup assembly Bitir.Api
2021-10-03 01:14:09.366 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-03 01:14:09.366 +03:00 [INF] Hosting environment: Development
2021-10-03 01:14:09.367 +03:00 [INF] Content root path: C:\Users\leven\source\repos\Bitir\API\Bitir.Api
2021-10-03 01:14:09.368 +03:00 [DBG] Hosting started
2021-10-03 01:14:22.117 +03:00 [DBG] Connection id "0HMC5U7U9I7M9" accepted.
2021-10-03 01:14:22.119 +03:00 [DBG] Connection id "0HMC5U7U9I7M9" started.
2021-10-03 01:14:22.139 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/AuthModule/AuthBase/Login application/json 36
2021-10-03 01:14:22.142 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-10-03 01:14:22.164 +03:00 [DBG] 1 candidate(s) found for the request path '/AuthModule/AuthBase/Login'
2021-10-03 01:14:22.169 +03:00 [DBG] Endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)' with route pattern 'AuthModule/AuthBase/Login' is valid for the request path '/AuthModule/AuthBase/Login'
2021-10-03 01:14:22.171 +03:00 [DBG] Request matched endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 01:14:22.220 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-10-03 01:14:22.224 +03:00 [INF] Executing endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 01:14:22.230 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2021-10-03 01:14:22.256 +03:00 [INF] Route matched with {module = "AuthModule", action = "Login", controller = "AuthBase"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthModule.Dto.LoginDto) on controller AuthModule.Controllers.AuthBaseController (AuthModule).
2021-10-03 01:14:22.259 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-10-03 01:14:22.260 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-10-03 01:14:22.261 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-10-03 01:14:22.263 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-10-03 01:14:22.264 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-10-03 01:14:22.266 +03:00 [DBG] Executing controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 01:14:22.269 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 01:14:22.272 +03:00 [DBG] Executed controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 01:14:22.281 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 01:14:22.283 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' using the name '' in request data ...
2021-10-03 01:14:22.285 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2021-10-03 01:14:22.290 +03:00 [DBG] Connection id "0HMC5U7U9I7M9", Request id "0HMC5U7U9I7M9:00000001": started reading request body.
2021-10-03 01:14:22.291 +03:00 [DBG] Connection id "0HMC5U7U9I7M9", Request id "0HMC5U7U9I7M9:00000001": done reading request body.
2021-10-03 01:14:22.294 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'AuthModule.Dto.LoginDto'
2021-10-03 01:14:22.295 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 01:14:22.296 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 01:14:22.297 +03:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 01:14:22.300 +03:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 01:14:22.455 +03:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserAccount>(
    asyncEnumerable: new QueryingEnumerable<UserAccount>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, UserAccount>, 
        Bitir.Data.Contexts.BitirMainContext, 
        null
    ), 
    cancellationToken: queryContext.CancellationToken)
2021-10-03 01:14:22.477 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 01:14:22.480 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2021-10-03 01:14:22.486 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:14:22.488 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:14:22.492 +03:00 [DBG] Executing DbCommand [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 01:14:22.527 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 01:14:22.546 +03:00 [DBG] Context 'BitirMainContext' started tracking 'UserAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-10-03 01:14:22.571 +03:00 [DBG] A data reader was disposed.
2021-10-03 01:14:22.575 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:14:22.577 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:14:22.678 +03:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserToken>(
    asyncEnumerable: new QueryingEnumerable<UserToken>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, UserToken>, 
        Bitir.Data.Contexts.BitirMainContext, 
        null
    ), 
    cancellationToken: queryContext.CancellationToken)
2021-10-03 01:14:22.684 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 01:14:22.685 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 01:14:22.686 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:14:22.687 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:14:22.688 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[InsertDate], [u].[RefreshToken], [u].[RefreshTokenExpirationDate], [u].[Status], [u].[UpdateDate], [u].[UserId]
FROM [auth].[UserToken] AS [u]
WHERE ([u].[Id] = @__entity_Id_0) AND ([u].[Status] <> 1)
2021-10-03 01:14:22.692 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__entity_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[InsertDate], [u].[RefreshToken], [u].[RefreshTokenExpirationDate], [u].[Status], [u].[UpdateDate], [u].[UserId]
FROM [auth].[UserToken] AS [u]
WHERE ([u].[Id] = @__entity_Id_0) AND ([u].[Status] <> 1)
2021-10-03 01:14:22.694 +03:00 [DBG] A data reader was disposed.
2021-10-03 01:14:22.694 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:14:22.697 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:14:22.701 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2021-10-03 01:14:22.705 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["Application/json"]'.
2021-10-03 01:14:22.706 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2021-10-03 01:14:22.707 +03:00 [INF] Executing ObjectResult, writing value of type 'Bitir.Data.Model.Dtos.ResponseWrapper`1[[AuthModule.Security.JWT.AccessToken, AuthModule, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-03 01:14:22.718 +03:00 [INF] Executed action AuthModule.Controllers.AuthBaseController.Login (AuthModule) in 449.4979ms
2021-10-03 01:14:22.720 +03:00 [INF] Executed endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 01:14:22.722 +03:00 [DBG] Connection id "0HMC5U7U9I7M9" completed keep alive response.
2021-10-03 01:14:22.723 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 01:14:22.725 +03:00 [INF] Request finished in 587.5186ms 200 application/json; charset=utf-8
2021-10-03 01:14:26.885 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/AuthModule/AuthBase/GetById?Id=2  
2021-10-03 01:14:26.888 +03:00 [DBG] 1 candidate(s) found for the request path '/AuthModule/AuthBase/GetById'
2021-10-03 01:14:26.889 +03:00 [DBG] Endpoint 'AuthModule.Controllers.AuthBaseController.Find (AuthModule)' with route pattern 'AuthModule/AuthBase/GetById' is valid for the request path '/AuthModule/AuthBase/GetById'
2021-10-03 01:14:26.890 +03:00 [DBG] Request matched endpoint 'AuthModule.Controllers.AuthBaseController.Find (AuthModule)'
2021-10-03 01:14:26.934 +03:00 [INF] Successfully validated the token.
2021-10-03 01:14:26.936 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-10-03 01:14:26.939 +03:00 [INF] Authorization was successful.
2021-10-03 01:14:26.940 +03:00 [INF] Executing endpoint 'AuthModule.Controllers.AuthBaseController.Find (AuthModule)'
2021-10-03 01:14:26.944 +03:00 [INF] Route matched with {module = "AuthModule", action = "Find", controller = "AuthBase"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Find(Int32) on controller AuthModule.Controllers.AuthBaseController (AuthModule).
2021-10-03 01:14:26.946 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-10-03 01:14:26.948 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-10-03 01:14:26.949 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-10-03 01:14:26.951 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-10-03 01:14:26.952 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-10-03 01:14:26.953 +03:00 [DBG] Executing controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 01:14:26.976 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 01:14:26.978 +03:00 [DBG] Executed controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 01:14:26.984 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2021-10-03 01:14:26.986 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2021-10-03 01:14:26.987 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2021-10-03 01:14:26.988 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2021-10-03 01:14:26.989 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2021-10-03 01:14:26.990 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2021-10-03 01:14:27.004 +03:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserAccount>(
    asyncEnumerable: new QueryingEnumerable<UserAccount>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, UserAccount>, 
        Bitir.Data.Contexts.BitirMainContext, 
        null
    ), 
    cancellationToken: queryContext.CancellationToken)
2021-10-03 01:14:27.006 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 01:14:27.006 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 01:14:27.007 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:14:27.009 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:14:27.010 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE [u].[Id] = @__p_0
2021-10-03 01:14:27.014 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE [u].[Id] = @__p_0
2021-10-03 01:14:27.016 +03:00 [DBG] Context 'BitirMainContext' started tracking 'UserAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-10-03 01:14:27.017 +03:00 [DBG] A data reader was disposed.
2021-10-03 01:14:27.018 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:14:27.019 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:14:27.020 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2021-10-03 01:14:27.022 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["Application/json"]'.
2021-10-03 01:14:27.023 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2021-10-03 01:14:27.024 +03:00 [INF] Executing ObjectResult, writing value of type 'Bitir.Data.Model.Dtos.ResponseWrapper`1[[AuthModule.Entities.UserAccount, AuthModule, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-03 01:14:27.030 +03:00 [INF] Executed action AuthModule.Controllers.AuthBaseController.Find (AuthModule) in 77.4464ms
2021-10-03 01:14:27.031 +03:00 [INF] Executed endpoint 'AuthModule.Controllers.AuthBaseController.Find (AuthModule)'
2021-10-03 01:14:27.032 +03:00 [DBG] Connection id "0HMC5U7U9I7M9" completed keep alive response.
2021-10-03 01:14:27.033 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 01:14:27.034 +03:00 [INF] Request finished in 149.1563ms 200 application/json; charset=utf-8
2021-10-03 01:14:52.182 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/AuthModule/AuthBase/Update application/json 116
2021-10-03 01:14:52.183 +03:00 [DBG] 1 candidate(s) found for the request path '/AuthModule/AuthBase/Update'
2021-10-03 01:14:52.185 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2021-10-03 01:14:52.188 +03:00 [INF] Successfully validated the token.
2021-10-03 01:14:52.189 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-10-03 01:14:52.190 +03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2021-10-03 01:14:52.191 +03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2021-10-03 01:14:52.191 +03:00 [DBG] Connection id "0HMC5U7U9I7M9" completed keep alive response.
2021-10-03 01:14:52.195 +03:00 [INF] Request finished in 12.8869ms 405 
2021-10-03 01:14:52.195 +03:00 [DBG] Connection id "0HMC5U7U9I7M9", Request id "0HMC5U7U9I7M9:00000003": started reading request body.
2021-10-03 01:14:52.196 +03:00 [DBG] Connection id "0HMC5U7U9I7M9", Request id "0HMC5U7U9I7M9:00000003": done reading request body.
2021-10-03 01:15:00.095 +03:00 [INF] Starting web host
2021-10-03 01:15:00.758 +03:00 [DBG] Hosting starting
2021-10-03 01:15:00.802 +03:00 [INF] User profile is available. Using 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-03 01:15:00.814 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-14642b65-a18c-49a2-99af-52420015a828.xml'.
2021-10-03 01:15:00.829 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-3aa2ae8c-81de-4273-8d4a-f52cc391033f.xml'.
2021-10-03 01:15:00.830 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-4d95ab8d-4041-43bb-8736-c55e7eebfed6.xml'.
2021-10-03 01:15:00.834 +03:00 [DBG] Found key {14642b65-a18c-49a2-99af-52420015a828}.
2021-10-03 01:15:00.838 +03:00 [DBG] Found key {3aa2ae8c-81de-4273-8d4a-f52cc391033f}.
2021-10-03 01:15:00.839 +03:00 [DBG] Found key {4d95ab8d-4041-43bb-8736-c55e7eebfed6}.
2021-10-03 01:15:00.845 +03:00 [DBG] Considering key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} with expiration date 2021-10-31 07:22:50Z as default key.
2021-10-03 01:15:00.852 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 01:15:00.855 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-10-03 01:15:00.856 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 01:15:00.861 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-10-03 01:15:00.864 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-10-03 01:15:00.866 +03:00 [DBG] Using key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} as the default key.
2021-10-03 01:15:00.868 +03:00 [DBG] Key ring with default key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} was loaded during application startup.
2021-10-03 01:15:01.086 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-10-03 01:15:01.524 +03:00 [DBG] The property 'UnitId' on entity type 'Unit' was created in shadow state because there are no eligible CLR members with a matching name.
2021-10-03 01:15:01.542 +03:00 [WRN] No type was specified for the decimal column 'Price' on entity type 'ProductPrice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 01:15:01.543 +03:00 [WRN] No type was specified for the decimal column 'Quantity' on entity type 'ProductStock'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 01:15:01.567 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 01:15:01.592 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:15:01.751 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:15:01.756 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 01:15:01.762 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2021-10-03 01:15:01.769 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 01:15:01.790 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 01:15:01.794 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:15:01.798 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:15:01.800 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 01:15:01.801 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 01:15:01.802 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:15:01.803 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:15:01.804 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 01:15:01.819 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 01:15:01.821 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:15:01.822 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:15:01.825 +03:00 [DBG] Migrating using database 'BitirDb' on server '.'.
2021-10-03 01:15:01.826 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:15:01.827 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:15:01.828 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 01:15:01.829 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 01:15:01.830 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 01:15:01.834 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 01:15:01.835 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:15:01.836 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:15:01.838 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 01:15:01.839 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 01:15:01.840 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:15:01.841 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:15:01.841 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 01:15:01.844 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 01:15:01.846 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:15:01.847 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:15:01.848 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:15:01.849 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:15:01.850 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 01:15:01.851 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 01:15:01.852 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 01:15:01.854 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 01:15:01.856 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:15:01.857 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:15:01.858 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 01:15:01.859 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 01:15:01.860 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:15:01.861 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:15:01.862 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 01:15:01.865 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 01:15:01.867 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:15:01.868 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:15:01.876 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 01:15:01.877 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 01:15:01.878 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:15:01.878 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:15:01.879 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 01:15:01.883 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 01:15:01.885 +03:00 [DBG] A data reader was disposed.
2021-10-03 01:15:01.886 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:15:01.887 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:15:01.895 +03:00 [DBG] No migrations were found in assembly 'Bitir.Data'.
2021-10-03 01:15:01.899 +03:00 [INF] No migrations were applied. The database is already up to date.
2021-10-03 01:15:01.901 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 01:15:01.933 +03:00 [DBG] Failed to locate the development https certificate at 'null'.
2021-10-03 01:15:01.959 +03:00 [INF] Now listening on: http://localhost:5000
2021-10-03 01:15:01.960 +03:00 [DBG] Loaded hosting startup assembly Bitir.Api
2021-10-03 01:15:01.960 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-03 01:15:01.961 +03:00 [INF] Hosting environment: Development
2021-10-03 01:15:01.963 +03:00 [INF] Content root path: C:\Users\leven\source\repos\Bitir\API\Bitir.Api
2021-10-03 01:15:01.964 +03:00 [DBG] Hosting started
2021-10-03 01:15:24.356 +03:00 [DBG] Connection id "0HMC5U8GR4BKT" accepted.
2021-10-03 01:15:24.358 +03:00 [DBG] Connection id "0HMC5U8GR4BKT" started.
2021-10-03 01:15:24.377 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/AuthModule/AuthBase/Login application/json 36
2021-10-03 01:15:24.380 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-10-03 01:15:24.403 +03:00 [DBG] 1 candidate(s) found for the request path '/AuthModule/AuthBase/Login'
2021-10-03 01:15:24.406 +03:00 [DBG] Endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)' with route pattern 'AuthModule/AuthBase/Login' is valid for the request path '/AuthModule/AuthBase/Login'
2021-10-03 01:15:24.409 +03:00 [DBG] Request matched endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 01:15:24.458 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-10-03 01:15:24.461 +03:00 [INF] Executing endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 01:15:24.468 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2021-10-03 01:15:24.492 +03:00 [INF] Route matched with {module = "AuthModule", action = "Login", controller = "AuthBase"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthModule.Dto.LoginDto) on controller AuthModule.Controllers.AuthBaseController (AuthModule).
2021-10-03 01:15:24.495 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-10-03 01:15:24.496 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-10-03 01:15:24.498 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-10-03 01:15:24.500 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-10-03 01:15:24.501 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-10-03 01:15:24.502 +03:00 [DBG] Executing controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 01:15:24.505 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 01:15:24.508 +03:00 [DBG] Executed controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 01:15:24.517 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 01:15:24.519 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' using the name '' in request data ...
2021-10-03 01:15:24.521 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2021-10-03 01:15:24.526 +03:00 [DBG] Connection id "0HMC5U8GR4BKT", Request id "0HMC5U8GR4BKT:00000001": started reading request body.
2021-10-03 01:15:24.528 +03:00 [DBG] Connection id "0HMC5U8GR4BKT", Request id "0HMC5U8GR4BKT:00000001": done reading request body.
2021-10-03 01:15:24.531 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'AuthModule.Dto.LoginDto'
2021-10-03 01:15:24.531 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 01:15:24.532 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 01:15:24.533 +03:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 01:15:24.536 +03:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 01:15:24.682 +03:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserAccount>(
    asyncEnumerable: new QueryingEnumerable<UserAccount>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, UserAccount>, 
        Bitir.Data.Contexts.BitirMainContext, 
        null
    ), 
    cancellationToken: queryContext.CancellationToken)
2021-10-03 01:15:24.706 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 01:15:24.708 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2021-10-03 01:15:24.713 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:15:24.715 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:15:24.719 +03:00 [DBG] Executing DbCommand [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 01:15:24.751 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 01:15:24.768 +03:00 [DBG] Context 'BitirMainContext' started tracking 'UserAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-10-03 01:15:24.793 +03:00 [DBG] A data reader was disposed.
2021-10-03 01:15:24.796 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:15:24.799 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:15:24.897 +03:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserToken>(
    asyncEnumerable: new QueryingEnumerable<UserToken>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, UserToken>, 
        Bitir.Data.Contexts.BitirMainContext, 
        null
    ), 
    cancellationToken: queryContext.CancellationToken)
2021-10-03 01:15:24.900 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 01:15:24.900 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 01:15:24.901 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:15:24.902 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:15:24.903 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[InsertDate], [u].[RefreshToken], [u].[RefreshTokenExpirationDate], [u].[Status], [u].[UpdateDate], [u].[UserId]
FROM [auth].[UserToken] AS [u]
WHERE ([u].[Id] = @__entity_Id_0) AND ([u].[Status] <> 1)
2021-10-03 01:15:24.907 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__entity_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[InsertDate], [u].[RefreshToken], [u].[RefreshTokenExpirationDate], [u].[Status], [u].[UpdateDate], [u].[UserId]
FROM [auth].[UserToken] AS [u]
WHERE ([u].[Id] = @__entity_Id_0) AND ([u].[Status] <> 1)
2021-10-03 01:15:24.909 +03:00 [DBG] A data reader was disposed.
2021-10-03 01:15:24.910 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:15:24.911 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:15:24.916 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2021-10-03 01:15:24.919 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["Application/json"]'.
2021-10-03 01:15:24.921 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2021-10-03 01:15:24.922 +03:00 [INF] Executing ObjectResult, writing value of type 'Bitir.Data.Model.Dtos.ResponseWrapper`1[[AuthModule.Security.JWT.AccessToken, AuthModule, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-03 01:15:24.932 +03:00 [INF] Executed action AuthModule.Controllers.AuthBaseController.Login (AuthModule) in 427.2316ms
2021-10-03 01:15:24.933 +03:00 [INF] Executed endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 01:15:24.935 +03:00 [DBG] Connection id "0HMC5U8GR4BKT" completed keep alive response.
2021-10-03 01:15:24.936 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 01:15:24.938 +03:00 [INF] Request finished in 563.0265ms 200 application/json; charset=utf-8
2021-10-03 01:15:31.223 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/AuthModule/AuthBase/GetById?Id=2  
2021-10-03 01:15:31.226 +03:00 [DBG] 1 candidate(s) found for the request path '/AuthModule/AuthBase/GetById'
2021-10-03 01:15:31.227 +03:00 [DBG] Endpoint 'AuthModule.Controllers.AuthBaseController.Find (AuthModule)' with route pattern 'AuthModule/AuthBase/GetById' is valid for the request path '/AuthModule/AuthBase/GetById'
2021-10-03 01:15:31.228 +03:00 [DBG] Request matched endpoint 'AuthModule.Controllers.AuthBaseController.Find (AuthModule)'
2021-10-03 01:15:31.278 +03:00 [INF] Successfully validated the token.
2021-10-03 01:15:31.281 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-10-03 01:15:31.284 +03:00 [INF] Authorization was successful.
2021-10-03 01:15:31.285 +03:00 [INF] Executing endpoint 'AuthModule.Controllers.AuthBaseController.Find (AuthModule)'
2021-10-03 01:15:31.289 +03:00 [INF] Route matched with {module = "AuthModule", action = "Find", controller = "AuthBase"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Find(Int32) on controller AuthModule.Controllers.AuthBaseController (AuthModule).
2021-10-03 01:15:31.291 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-10-03 01:15:31.293 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-10-03 01:15:31.295 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-10-03 01:15:31.296 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-10-03 01:15:31.297 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-10-03 01:15:31.298 +03:00 [DBG] Executing controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 01:15:31.323 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 01:15:31.324 +03:00 [DBG] Executed controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 01:15:31.332 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2021-10-03 01:15:31.334 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2021-10-03 01:15:31.335 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2021-10-03 01:15:31.336 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2021-10-03 01:15:31.337 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2021-10-03 01:15:31.338 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2021-10-03 01:15:31.352 +03:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserAccount>(
    asyncEnumerable: new QueryingEnumerable<UserAccount>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, UserAccount>, 
        Bitir.Data.Contexts.BitirMainContext, 
        null
    ), 
    cancellationToken: queryContext.CancellationToken)
2021-10-03 01:15:31.353 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 01:15:31.354 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 01:15:31.355 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:15:31.357 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:15:31.358 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE [u].[Id] = @__p_0
2021-10-03 01:15:31.362 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE [u].[Id] = @__p_0
2021-10-03 01:15:31.364 +03:00 [DBG] Context 'BitirMainContext' started tracking 'UserAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-10-03 01:15:31.365 +03:00 [DBG] A data reader was disposed.
2021-10-03 01:15:31.366 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:15:31.367 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:15:31.368 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2021-10-03 01:15:31.372 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["Application/json"]'.
2021-10-03 01:15:31.372 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2021-10-03 01:15:31.373 +03:00 [INF] Executing ObjectResult, writing value of type 'Bitir.Data.Model.Dtos.ResponseWrapper`1[[AuthModule.Entities.UserAccount, AuthModule, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-03 01:15:31.380 +03:00 [INF] Executed action AuthModule.Controllers.AuthBaseController.Find (AuthModule) in 81.1881ms
2021-10-03 01:15:31.380 +03:00 [INF] Executed endpoint 'AuthModule.Controllers.AuthBaseController.Find (AuthModule)'
2021-10-03 01:15:31.381 +03:00 [DBG] Connection id "0HMC5U8GR4BKT" completed keep alive response.
2021-10-03 01:15:31.382 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 01:15:31.383 +03:00 [INF] Request finished in 159.6612ms 200 application/json; charset=utf-8
2021-10-03 01:16:26.201 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/AuthModule/AuthBase/Update application/json 116
2021-10-03 01:16:26.204 +03:00 [DBG] 1 candidate(s) found for the request path '/AuthModule/AuthBase/Update'
2021-10-03 01:16:26.205 +03:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2021-10-03 01:16:26.208 +03:00 [INF] Successfully validated the token.
2021-10-03 01:16:26.209 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-10-03 01:16:26.210 +03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2021-10-03 01:16:26.211 +03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2021-10-03 01:16:26.213 +03:00 [DBG] Connection id "0HMC5U8GR4BKT" completed keep alive response.
2021-10-03 01:16:26.214 +03:00 [INF] Request finished in 13.3943ms 405 
2021-10-03 01:16:26.215 +03:00 [DBG] Connection id "0HMC5U8GR4BKT", Request id "0HMC5U8GR4BKT:00000003": started reading request body.
2021-10-03 01:16:26.216 +03:00 [INF] Connection id "0HMC5U8GR4BKT", Request id "0HMC5U8GR4BKT:00000003": the application completed without reading the entire request body.
2021-10-03 01:16:26.240 +03:00 [DBG] Connection id "0HMC5U8GR4BKT", Request id "0HMC5U8GR4BKT:00000003": done reading request body.
2021-10-03 01:16:52.780 +03:00 [INF] Starting web host
2021-10-03 01:16:53.534 +03:00 [DBG] Hosting starting
2021-10-03 01:16:53.576 +03:00 [INF] User profile is available. Using 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-03 01:16:53.590 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-14642b65-a18c-49a2-99af-52420015a828.xml'.
2021-10-03 01:16:53.606 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-3aa2ae8c-81de-4273-8d4a-f52cc391033f.xml'.
2021-10-03 01:16:53.607 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-4d95ab8d-4041-43bb-8736-c55e7eebfed6.xml'.
2021-10-03 01:16:53.613 +03:00 [DBG] Found key {14642b65-a18c-49a2-99af-52420015a828}.
2021-10-03 01:16:53.617 +03:00 [DBG] Found key {3aa2ae8c-81de-4273-8d4a-f52cc391033f}.
2021-10-03 01:16:53.618 +03:00 [DBG] Found key {4d95ab8d-4041-43bb-8736-c55e7eebfed6}.
2021-10-03 01:16:53.624 +03:00 [DBG] Considering key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} with expiration date 2021-10-31 07:22:50Z as default key.
2021-10-03 01:16:53.632 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 01:16:53.635 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-10-03 01:16:53.637 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 01:16:53.640 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-10-03 01:16:53.644 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-10-03 01:16:53.647 +03:00 [DBG] Using key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} as the default key.
2021-10-03 01:16:53.648 +03:00 [DBG] Key ring with default key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} was loaded during application startup.
2021-10-03 01:16:53.896 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-10-03 01:16:54.363 +03:00 [DBG] The property 'UnitId' on entity type 'Unit' was created in shadow state because there are no eligible CLR members with a matching name.
2021-10-03 01:16:54.384 +03:00 [WRN] No type was specified for the decimal column 'Price' on entity type 'ProductPrice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 01:16:54.385 +03:00 [WRN] No type was specified for the decimal column 'Quantity' on entity type 'ProductStock'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 01:16:54.411 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 01:16:54.437 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:16:54.603 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:16:54.608 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 01:16:54.614 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2021-10-03 01:16:54.621 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 01:16:54.642 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 01:16:54.645 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:16:54.649 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:16:54.651 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 01:16:54.652 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 01:16:54.653 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:16:54.655 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:16:54.656 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 01:16:54.670 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 01:16:54.672 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:16:54.674 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:16:54.677 +03:00 [DBG] Migrating using database 'BitirDb' on server '.'.
2021-10-03 01:16:54.678 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:16:54.679 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:16:54.680 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 01:16:54.680 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 01:16:54.681 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 01:16:54.686 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 01:16:54.688 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:16:54.689 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:16:54.691 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 01:16:54.692 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 01:16:54.693 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:16:54.694 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:16:54.694 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 01:16:54.697 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 01:16:54.699 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:16:54.699 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:16:54.701 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:16:54.702 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:16:54.703 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 01:16:54.703 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 01:16:54.704 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 01:16:54.707 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 01:16:54.709 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:16:54.710 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:16:54.711 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 01:16:54.712 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 01:16:54.712 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:16:54.714 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:16:54.714 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 01:16:54.717 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 01:16:54.719 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:16:54.719 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:16:54.727 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 01:16:54.727 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 01:16:54.728 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:16:54.730 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:16:54.731 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 01:16:54.734 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 01:16:54.737 +03:00 [DBG] A data reader was disposed.
2021-10-03 01:16:54.738 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:16:54.738 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:16:54.746 +03:00 [DBG] No migrations were found in assembly 'Bitir.Data'.
2021-10-03 01:16:54.749 +03:00 [INF] No migrations were applied. The database is already up to date.
2021-10-03 01:16:54.750 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 01:16:54.782 +03:00 [DBG] Failed to locate the development https certificate at 'null'.
2021-10-03 01:16:54.806 +03:00 [INF] Now listening on: http://localhost:5000
2021-10-03 01:16:54.807 +03:00 [DBG] Loaded hosting startup assembly Bitir.Api
2021-10-03 01:16:54.807 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-03 01:16:54.808 +03:00 [INF] Hosting environment: Development
2021-10-03 01:16:54.809 +03:00 [INF] Content root path: C:\Users\leven\source\repos\Bitir\API\Bitir.Api
2021-10-03 01:16:54.810 +03:00 [DBG] Hosting started
2021-10-03 01:17:06.221 +03:00 [DBG] Connection id "0HMC5U9F6J2Q2" accepted.
2021-10-03 01:17:06.224 +03:00 [DBG] Connection id "0HMC5U9F6J2Q2" started.
2021-10-03 01:17:06.244 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/AuthModule/AuthBase/Login application/json 36
2021-10-03 01:17:06.247 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-10-03 01:17:06.269 +03:00 [DBG] 1 candidate(s) found for the request path '/AuthModule/AuthBase/Login'
2021-10-03 01:17:06.273 +03:00 [DBG] Endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)' with route pattern 'AuthModule/AuthBase/Login' is valid for the request path '/AuthModule/AuthBase/Login'
2021-10-03 01:17:06.275 +03:00 [DBG] Request matched endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 01:17:06.327 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-10-03 01:17:06.331 +03:00 [INF] Executing endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 01:17:06.337 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2021-10-03 01:17:06.361 +03:00 [INF] Route matched with {module = "AuthModule", action = "Login", controller = "AuthBase"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthModule.Dto.LoginDto) on controller AuthModule.Controllers.AuthBaseController (AuthModule).
2021-10-03 01:17:06.364 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-10-03 01:17:06.365 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-10-03 01:17:06.366 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-10-03 01:17:06.368 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-10-03 01:17:06.369 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-10-03 01:17:06.371 +03:00 [DBG] Executing controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 01:17:06.374 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 01:17:06.377 +03:00 [DBG] Executed controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 01:17:06.386 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 01:17:06.389 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' using the name '' in request data ...
2021-10-03 01:17:06.390 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2021-10-03 01:17:06.396 +03:00 [DBG] Connection id "0HMC5U9F6J2Q2", Request id "0HMC5U9F6J2Q2:00000001": started reading request body.
2021-10-03 01:17:06.396 +03:00 [DBG] Connection id "0HMC5U9F6J2Q2", Request id "0HMC5U9F6J2Q2:00000001": done reading request body.
2021-10-03 01:17:06.399 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'AuthModule.Dto.LoginDto'
2021-10-03 01:17:06.400 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 01:17:06.401 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 01:17:06.402 +03:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 01:17:06.405 +03:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 01:17:06.558 +03:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserAccount>(
    asyncEnumerable: new QueryingEnumerable<UserAccount>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, UserAccount>, 
        Bitir.Data.Contexts.BitirMainContext, 
        null
    ), 
    cancellationToken: queryContext.CancellationToken)
2021-10-03 01:17:06.581 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 01:17:06.582 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2021-10-03 01:17:06.587 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:17:06.589 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:17:06.594 +03:00 [DBG] Executing DbCommand [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 01:17:06.627 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 01:17:06.645 +03:00 [DBG] Context 'BitirMainContext' started tracking 'UserAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-10-03 01:17:06.669 +03:00 [DBG] A data reader was disposed.
2021-10-03 01:17:06.672 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:17:06.674 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:17:06.773 +03:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserToken>(
    asyncEnumerable: new QueryingEnumerable<UserToken>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, UserToken>, 
        Bitir.Data.Contexts.BitirMainContext, 
        null
    ), 
    cancellationToken: queryContext.CancellationToken)
2021-10-03 01:17:06.776 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 01:17:06.777 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2021-10-03 01:17:06.779 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:17:06.779 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:17:06.781 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[InsertDate], [u].[RefreshToken], [u].[RefreshTokenExpirationDate], [u].[Status], [u].[UpdateDate], [u].[UserId]
FROM [auth].[UserToken] AS [u]
WHERE ([u].[Id] = @__entity_Id_0) AND ([u].[Status] <> 1)
2021-10-03 01:17:06.784 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__entity_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[InsertDate], [u].[RefreshToken], [u].[RefreshTokenExpirationDate], [u].[Status], [u].[UpdateDate], [u].[UserId]
FROM [auth].[UserToken] AS [u]
WHERE ([u].[Id] = @__entity_Id_0) AND ([u].[Status] <> 1)
2021-10-03 01:17:06.786 +03:00 [DBG] A data reader was disposed.
2021-10-03 01:17:06.787 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:17:06.788 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:17:06.792 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2021-10-03 01:17:06.796 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["Application/json"]'.
2021-10-03 01:17:06.797 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2021-10-03 01:17:06.799 +03:00 [INF] Executing ObjectResult, writing value of type 'Bitir.Data.Model.Dtos.ResponseWrapper`1[[AuthModule.Security.JWT.AccessToken, AuthModule, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-03 01:17:06.808 +03:00 [INF] Executed action AuthModule.Controllers.AuthBaseController.Login (AuthModule) in 435.3799ms
2021-10-03 01:17:06.810 +03:00 [INF] Executed endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 01:17:06.812 +03:00 [DBG] Connection id "0HMC5U9F6J2Q2" completed keep alive response.
2021-10-03 01:17:06.813 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 01:17:06.815 +03:00 [INF] Request finished in 573.2148ms 200 application/json; charset=utf-8
2021-10-03 01:17:11.314 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/AuthModule/AuthBase/GetById?Id=2  
2021-10-03 01:17:11.317 +03:00 [DBG] 1 candidate(s) found for the request path '/AuthModule/AuthBase/GetById'
2021-10-03 01:17:11.317 +03:00 [DBG] Endpoint 'AuthModule.Controllers.AuthBaseController.Find (AuthModule)' with route pattern 'AuthModule/AuthBase/GetById' is valid for the request path '/AuthModule/AuthBase/GetById'
2021-10-03 01:17:11.318 +03:00 [DBG] Request matched endpoint 'AuthModule.Controllers.AuthBaseController.Find (AuthModule)'
2021-10-03 01:17:11.361 +03:00 [INF] Successfully validated the token.
2021-10-03 01:17:11.364 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-10-03 01:17:11.367 +03:00 [INF] Authorization was successful.
2021-10-03 01:17:11.368 +03:00 [INF] Executing endpoint 'AuthModule.Controllers.AuthBaseController.Find (AuthModule)'
2021-10-03 01:17:11.372 +03:00 [INF] Route matched with {module = "AuthModule", action = "Find", controller = "AuthBase"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Find(Int32) on controller AuthModule.Controllers.AuthBaseController (AuthModule).
2021-10-03 01:17:11.374 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-10-03 01:17:11.375 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-10-03 01:17:11.376 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-10-03 01:17:11.378 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-10-03 01:17:11.379 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-10-03 01:17:11.380 +03:00 [DBG] Executing controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 01:17:11.403 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 01:17:11.404 +03:00 [DBG] Executed controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 01:17:11.411 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2021-10-03 01:17:11.413 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2021-10-03 01:17:11.414 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2021-10-03 01:17:11.415 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2021-10-03 01:17:11.416 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2021-10-03 01:17:11.417 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2021-10-03 01:17:11.430 +03:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserAccount>(
    asyncEnumerable: new QueryingEnumerable<UserAccount>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, UserAccount>, 
        Bitir.Data.Contexts.BitirMainContext, 
        null
    ), 
    cancellationToken: queryContext.CancellationToken)
2021-10-03 01:17:11.431 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 01:17:11.432 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2021-10-03 01:17:11.433 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:17:11.434 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:17:11.435 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE [u].[Id] = @__p_0
2021-10-03 01:17:11.439 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE [u].[Id] = @__p_0
2021-10-03 01:17:11.441 +03:00 [DBG] Context 'BitirMainContext' started tracking 'UserAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-10-03 01:17:11.442 +03:00 [DBG] A data reader was disposed.
2021-10-03 01:17:11.443 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:17:11.444 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:17:11.445 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2021-10-03 01:17:11.447 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["Application/json"]'.
2021-10-03 01:17:11.448 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2021-10-03 01:17:11.449 +03:00 [INF] Executing ObjectResult, writing value of type 'Bitir.Data.Model.Dtos.ResponseWrapper`1[[AuthModule.Entities.UserAccount, AuthModule, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-03 01:17:11.455 +03:00 [INF] Executed action AuthModule.Controllers.AuthBaseController.Find (AuthModule) in 75.7351ms
2021-10-03 01:17:11.456 +03:00 [INF] Executed endpoint 'AuthModule.Controllers.AuthBaseController.Find (AuthModule)'
2021-10-03 01:17:11.457 +03:00 [DBG] Connection id "0HMC5U9F6J2Q2" completed keep alive response.
2021-10-03 01:17:11.458 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 01:17:11.459 +03:00 [INF] Request finished in 145.5556ms 200 application/json; charset=utf-8
2021-10-03 01:17:19.104 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/AuthModule/AuthBase/Update application/json 116
2021-10-03 01:17:19.105 +03:00 [DBG] 1 candidate(s) found for the request path '/AuthModule/AuthBase/Update'
2021-10-03 01:17:19.107 +03:00 [DBG] Endpoint 'AuthModule.Controllers.AuthBaseController.Update (AuthModule)' with route pattern 'AuthModule/AuthBase/Update' is valid for the request path '/AuthModule/AuthBase/Update'
2021-10-03 01:17:19.109 +03:00 [DBG] Request matched endpoint 'AuthModule.Controllers.AuthBaseController.Update (AuthModule)'
2021-10-03 01:17:19.112 +03:00 [INF] Successfully validated the token.
2021-10-03 01:17:19.113 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-10-03 01:17:19.115 +03:00 [INF] Authorization was successful.
2021-10-03 01:17:19.116 +03:00 [INF] Executing endpoint 'AuthModule.Controllers.AuthBaseController.Update (AuthModule)'
2021-10-03 01:17:19.120 +03:00 [INF] Route matched with {module = "AuthModule", action = "Update", controller = "AuthBase"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(AuthModule.Entities.UserAccount) on controller AuthModule.Controllers.AuthBaseController (AuthModule).
2021-10-03 01:17:19.121 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-10-03 01:17:19.122 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-10-03 01:17:19.123 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-10-03 01:17:19.125 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-10-03 01:17:19.126 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-10-03 01:17:19.127 +03:00 [DBG] Executing controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 01:17:19.130 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 01:17:19.132 +03:00 [DBG] Executed controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 01:17:19.133 +03:00 [DBG] Attempting to bind parameter 'entity' of type 'AuthModule.Entities.UserAccount' ...
2021-10-03 01:17:19.135 +03:00 [DBG] Attempting to bind parameter 'entity' of type 'AuthModule.Entities.UserAccount' using the name '' in request data ...
2021-10-03 01:17:19.136 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2021-10-03 01:17:19.138 +03:00 [DBG] Connection id "0HMC5U9F6J2Q2", Request id "0HMC5U9F6J2Q2:00000003": started reading request body.
2021-10-03 01:17:19.138 +03:00 [DBG] Connection id "0HMC5U9F6J2Q2", Request id "0HMC5U9F6J2Q2:00000003": done reading request body.
2021-10-03 01:17:19.140 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'AuthModule.Entities.UserAccount'
2021-10-03 01:17:19.141 +03:00 [DBG] Done attempting to bind parameter 'entity' of type 'AuthModule.Entities.UserAccount'.
2021-10-03 01:17:19.142 +03:00 [DBG] Done attempting to bind parameter 'entity' of type 'AuthModule.Entities.UserAccount'.
2021-10-03 01:17:19.143 +03:00 [DBG] Attempting to validate the bound parameter 'entity' of type 'AuthModule.Entities.UserAccount' ...
2021-10-03 01:17:19.148 +03:00 [DBG] Done attempting to validate the bound parameter 'entity' of type 'AuthModule.Entities.UserAccount'.
2021-10-03 01:17:19.166 +03:00 [DBG] Context 'BitirMainContext' started tracking 'UserAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-10-03 01:17:19.182 +03:00 [DBG] An 'UserAccount' entity tracked by 'BitirMainContext' changed from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-10-03 01:17:19.188 +03:00 [DBG] SaveChanges starting for 'BitirMainContext'.
2021-10-03 01:17:19.190 +03:00 [DBG] DetectChanges starting for 'BitirMainContext'.
2021-10-03 01:17:19.192 +03:00 [DBG] DetectChanges completed for 'BitirMainContext'.
2021-10-03 01:17:19.203 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:17:19.204 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:17:19.206 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2021-10-03 01:17:19.214 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2021-10-03 01:17:19.246 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 01:17:19.248 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2021-10-03 01:17:19.250 +03:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 8000) (DbType = Binary), @p1='?' (Size = 8000) (DbType = Binary), @p2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [auth].[UserAccount] SET [PasswordHash] = @p0, [PasswordSalt] = @p1, [UpdateDate] = @p2
WHERE [Id] = @p3;
SELECT @@ROWCOUNT;
2021-10-03 01:17:19.256 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 8000) (DbType = Binary), @p1='?' (Size = 8000) (DbType = Binary), @p2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [auth].[UserAccount] SET [PasswordHash] = @p0, [PasswordSalt] = @p1, [UpdateDate] = @p2
WHERE [Id] = @p3;
SELECT @@ROWCOUNT;
2021-10-03 01:17:19.263 +03:00 [DBG] A data reader was disposed.
2021-10-03 01:17:19.264 +03:00 [DBG] Committing transaction.
2021-10-03 01:17:19.275 +03:00 [DBG] Committing transaction.
2021-10-03 01:17:19.276 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:17:19.277 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:17:19.279 +03:00 [DBG] Disposing transaction.
2021-10-03 01:17:19.284 +03:00 [DBG] An 'UserAccount' entity tracked by 'BitirMainContext' changed from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-10-03 01:17:19.287 +03:00 [DBG] SaveChanges completed for 'BitirMainContext' with 1 entities written to the database.
2021-10-03 01:17:19.288 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2021-10-03 01:17:19.290 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["Application/json"]'.
2021-10-03 01:17:19.291 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2021-10-03 01:17:19.292 +03:00 [INF] Executing ObjectResult, writing value of type 'Bitir.Data.Model.Dtos.ResponseWrapper`1[[AuthModule.Entities.UserAccount, AuthModule, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-03 01:17:19.293 +03:00 [INF] Executed action AuthModule.Controllers.AuthBaseController.Update (AuthModule) in 165.9143ms
2021-10-03 01:17:19.294 +03:00 [INF] Executed endpoint 'AuthModule.Controllers.AuthBaseController.Update (AuthModule)'
2021-10-03 01:17:19.295 +03:00 [DBG] Connection id "0HMC5U9F6J2Q2" completed keep alive response.
2021-10-03 01:17:19.296 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 01:17:19.297 +03:00 [INF] Request finished in 193.2171ms 200 application/json; charset=utf-8
2021-10-03 01:17:35.068 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/AuthModule/AuthBase/GetById?Id=2  
2021-10-03 01:17:35.069 +03:00 [DBG] 1 candidate(s) found for the request path '/AuthModule/AuthBase/GetById'
2021-10-03 01:17:35.069 +03:00 [DBG] Endpoint 'AuthModule.Controllers.AuthBaseController.Find (AuthModule)' with route pattern 'AuthModule/AuthBase/GetById' is valid for the request path '/AuthModule/AuthBase/GetById'
2021-10-03 01:17:35.070 +03:00 [DBG] Request matched endpoint 'AuthModule.Controllers.AuthBaseController.Find (AuthModule)'
2021-10-03 01:17:35.072 +03:00 [INF] Successfully validated the token.
2021-10-03 01:17:35.072 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-10-03 01:17:35.073 +03:00 [INF] Authorization was successful.
2021-10-03 01:17:35.074 +03:00 [INF] Executing endpoint 'AuthModule.Controllers.AuthBaseController.Find (AuthModule)'
2021-10-03 01:17:35.075 +03:00 [INF] Route matched with {module = "AuthModule", action = "Find", controller = "AuthBase"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Find(Int32) on controller AuthModule.Controllers.AuthBaseController (AuthModule).
2021-10-03 01:17:35.077 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-10-03 01:17:35.078 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-10-03 01:17:35.079 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-10-03 01:17:35.080 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-10-03 01:17:35.081 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-10-03 01:17:35.083 +03:00 [DBG] Executing controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 01:17:35.084 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 01:17:35.085 +03:00 [DBG] Executed controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 01:17:35.086 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2021-10-03 01:17:35.087 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2021-10-03 01:17:35.088 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2021-10-03 01:17:35.089 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2021-10-03 01:17:35.090 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2021-10-03 01:17:35.091 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2021-10-03 01:17:35.095 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 01:17:35.096 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 01:17:35.097 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:17:35.098 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:17:35.099 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE [u].[Id] = @__p_0
2021-10-03 01:17:35.103 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE [u].[Id] = @__p_0
2021-10-03 01:17:35.105 +03:00 [DBG] Context 'BitirMainContext' started tracking 'UserAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-10-03 01:17:35.107 +03:00 [DBG] A data reader was disposed.
2021-10-03 01:17:35.107 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:17:35.108 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:17:35.109 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2021-10-03 01:17:35.111 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["Application/json"]'.
2021-10-03 01:17:35.112 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2021-10-03 01:17:35.113 +03:00 [INF] Executing ObjectResult, writing value of type 'Bitir.Data.Model.Dtos.ResponseWrapper`1[[AuthModule.Entities.UserAccount, AuthModule, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-03 01:17:35.114 +03:00 [INF] Executed action AuthModule.Controllers.AuthBaseController.Find (AuthModule) in 31.8304ms
2021-10-03 01:17:35.115 +03:00 [INF] Executed endpoint 'AuthModule.Controllers.AuthBaseController.Find (AuthModule)'
2021-10-03 01:17:35.116 +03:00 [DBG] Connection id "0HMC5U9F6J2Q2" completed keep alive response.
2021-10-03 01:17:35.117 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 01:17:35.118 +03:00 [INF] Request finished in 50.2449ms 200 application/json; charset=utf-8
2021-10-03 01:17:43.684 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/AuthModule/AuthBase/Login application/json 36
2021-10-03 01:17:43.686 +03:00 [DBG] 1 candidate(s) found for the request path '/AuthModule/AuthBase/Login'
2021-10-03 01:17:43.686 +03:00 [DBG] Endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)' with route pattern 'AuthModule/AuthBase/Login' is valid for the request path '/AuthModule/AuthBase/Login'
2021-10-03 01:17:43.688 +03:00 [DBG] Request matched endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 01:17:43.689 +03:00 [INF] Successfully validated the token.
2021-10-03 01:17:43.690 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-10-03 01:17:43.690 +03:00 [INF] Executing endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 01:17:43.692 +03:00 [INF] Route matched with {module = "AuthModule", action = "Login", controller = "AuthBase"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthModule.Dto.LoginDto) on controller AuthModule.Controllers.AuthBaseController (AuthModule).
2021-10-03 01:17:43.693 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-10-03 01:17:43.694 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-10-03 01:17:43.695 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-10-03 01:17:43.697 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-10-03 01:17:43.697 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-10-03 01:17:43.699 +03:00 [DBG] Executing controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 01:17:43.701 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 01:17:43.702 +03:00 [DBG] Executed controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 01:17:43.703 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 01:17:43.704 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' using the name '' in request data ...
2021-10-03 01:17:43.705 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2021-10-03 01:17:43.706 +03:00 [DBG] Connection id "0HMC5U9F6J2Q2", Request id "0HMC5U9F6J2Q2:00000005": started reading request body.
2021-10-03 01:17:43.707 +03:00 [DBG] Connection id "0HMC5U9F6J2Q2", Request id "0HMC5U9F6J2Q2:00000005": done reading request body.
2021-10-03 01:17:43.710 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'AuthModule.Dto.LoginDto'
2021-10-03 01:17:43.710 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 01:17:43.711 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 01:17:43.712 +03:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 01:17:43.714 +03:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 01:17:43.716 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 01:17:43.717 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 01:17:43.718 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:17:43.718 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:17:43.719 +03:00 [DBG] Executing DbCommand [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 01:17:43.724 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 01:17:43.727 +03:00 [DBG] Context 'BitirMainContext' started tracking 'UserAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-10-03 01:17:43.728 +03:00 [DBG] A data reader was disposed.
2021-10-03 01:17:43.728 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:17:43.730 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:17:43.731 +03:00 [ERR] Incorrect password
2021-10-03 01:17:43.798 +03:00 [INF] Executed action AuthModule.Controllers.AuthBaseController.Login (AuthModule) in 99.0218ms
2021-10-03 01:17:43.800 +03:00 [INF] Executed endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 01:17:43.881 +03:00 [ERR] Incorrect password !!
Core.Exceptions.BadRequestException: Incorrect password !!
   at AuthModule.Business.AuthBusinessBase.Login(LoginDto loginDto) in C:\Users\leven\source\repos\Bitir\API\AuthModule\Business\AuthBusinessBase.cs:line 103
   at AuthModule.Controllers.AuthBaseController.Login(LoginDto loginDto) in C:\Users\leven\source\repos\Bitir\API\AuthModule\Controllers\AuthBaseController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Core.Middlewares.ExceptionMiddleware.Invoke(HttpContext context) in C:\Users\leven\source\repos\Bitir\API\Core\Middlewares\ExceptionMiddleware.cs:line 36
2021-10-03 01:17:43.920 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2021-10-03 01:17:43.921 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["Application/json"]'.
2021-10-03 01:17:43.922 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2021-10-03 01:17:43.923 +03:00 [INF] Executing ObjectResult, writing value of type 'Core.Middlewares.ExceptionMiddleware+ErrorResponse'.
2021-10-03 01:17:43.925 +03:00 [DBG] Connection id "0HMC5U9F6J2Q2" completed keep alive response.
2021-10-03 01:17:43.925 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 01:17:43.926 +03:00 [INF] Request finished in 242.0942ms 400 application/json; charset=utf-8
2021-10-03 01:17:48.770 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/AuthModule/AuthBase/Login application/json 38
2021-10-03 01:17:48.771 +03:00 [DBG] 1 candidate(s) found for the request path '/AuthModule/AuthBase/Login'
2021-10-03 01:17:48.772 +03:00 [DBG] Endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)' with route pattern 'AuthModule/AuthBase/Login' is valid for the request path '/AuthModule/AuthBase/Login'
2021-10-03 01:17:48.774 +03:00 [DBG] Request matched endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 01:17:48.776 +03:00 [INF] Successfully validated the token.
2021-10-03 01:17:48.776 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2021-10-03 01:17:48.777 +03:00 [INF] Executing endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 01:17:48.778 +03:00 [INF] Route matched with {module = "AuthModule", action = "Login", controller = "AuthBase"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthModule.Dto.LoginDto) on controller AuthModule.Controllers.AuthBaseController (AuthModule).
2021-10-03 01:17:48.780 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-10-03 01:17:48.781 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-10-03 01:17:48.783 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-10-03 01:17:48.784 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-10-03 01:17:48.786 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-10-03 01:17:48.787 +03:00 [DBG] Executing controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 01:17:48.789 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 01:17:48.791 +03:00 [DBG] Executed controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 01:17:48.792 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 01:17:48.793 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' using the name '' in request data ...
2021-10-03 01:17:48.795 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2021-10-03 01:17:48.796 +03:00 [DBG] Connection id "0HMC5U9F6J2Q2", Request id "0HMC5U9F6J2Q2:00000006": started reading request body.
2021-10-03 01:17:48.797 +03:00 [DBG] Connection id "0HMC5U9F6J2Q2", Request id "0HMC5U9F6J2Q2:00000006": done reading request body.
2021-10-03 01:17:48.798 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'AuthModule.Dto.LoginDto'
2021-10-03 01:17:48.799 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 01:17:48.800 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 01:17:48.801 +03:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 01:17:48.802 +03:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 01:17:48.804 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 01:17:48.805 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 01:17:48.806 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:17:48.807 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:17:48.809 +03:00 [DBG] Executing DbCommand [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 01:17:48.814 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 01:17:48.816 +03:00 [DBG] Context 'BitirMainContext' started tracking 'UserAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-10-03 01:17:48.818 +03:00 [DBG] A data reader was disposed.
2021-10-03 01:17:48.818 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:17:48.819 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:17:48.821 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 01:17:48.822 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 01:17:48.823 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:17:48.825 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:17:48.826 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[InsertDate], [u].[RefreshToken], [u].[RefreshTokenExpirationDate], [u].[Status], [u].[UpdateDate], [u].[UserId]
FROM [auth].[UserToken] AS [u]
WHERE ([u].[Id] = @__entity_Id_0) AND ([u].[Status] <> 1)
2021-10-03 01:17:48.829 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__entity_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[InsertDate], [u].[RefreshToken], [u].[RefreshTokenExpirationDate], [u].[Status], [u].[UpdateDate], [u].[UserId]
FROM [auth].[UserToken] AS [u]
WHERE ([u].[Id] = @__entity_Id_0) AND ([u].[Status] <> 1)
2021-10-03 01:17:48.831 +03:00 [DBG] A data reader was disposed.
2021-10-03 01:17:48.832 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:17:48.833 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:17:48.834 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2021-10-03 01:17:48.836 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["Application/json"]'.
2021-10-03 01:17:48.837 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2021-10-03 01:17:48.839 +03:00 [INF] Executing ObjectResult, writing value of type 'Bitir.Data.Model.Dtos.ResponseWrapper`1[[AuthModule.Security.JWT.AccessToken, AuthModule, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-03 01:17:48.840 +03:00 [INF] Executed action AuthModule.Controllers.AuthBaseController.Login (AuthModule) in 52.7307ms
2021-10-03 01:17:48.841 +03:00 [INF] Executed endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 01:17:48.842 +03:00 [DBG] Connection id "0HMC5U9F6J2Q2" completed keep alive response.
2021-10-03 01:17:48.843 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 01:17:48.844 +03:00 [INF] Request finished in 73.9052ms 200 application/json; charset=utf-8
2021-10-03 01:18:51.715 +03:00 [DBG] Connection id "0HMC5U9F6J2Q2" received FIN.
2021-10-03 01:18:51.719 +03:00 [DBG] Connection id "0HMC5U9F6J2Q2" disconnecting.
2021-10-03 01:18:51.719 +03:00 [DBG] Connection id "0HMC5U9F6J2Q2" sending FIN because: "The client closed the connection."
2021-10-03 01:18:51.722 +03:00 [DBG] Connection id "0HMC5U9F6J2Q2" stopped.
2021-10-03 01:37:44.387 +03:00 [INF] Starting web host
2021-10-03 01:37:45.050 +03:00 [DBG] Hosting starting
2021-10-03 01:37:45.089 +03:00 [INF] User profile is available. Using 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-03 01:37:45.102 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-14642b65-a18c-49a2-99af-52420015a828.xml'.
2021-10-03 01:37:45.117 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-3aa2ae8c-81de-4273-8d4a-f52cc391033f.xml'.
2021-10-03 01:37:45.118 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-4d95ab8d-4041-43bb-8736-c55e7eebfed6.xml'.
2021-10-03 01:37:45.122 +03:00 [DBG] Found key {14642b65-a18c-49a2-99af-52420015a828}.
2021-10-03 01:37:45.126 +03:00 [DBG] Found key {3aa2ae8c-81de-4273-8d4a-f52cc391033f}.
2021-10-03 01:37:45.127 +03:00 [DBG] Found key {4d95ab8d-4041-43bb-8736-c55e7eebfed6}.
2021-10-03 01:37:45.132 +03:00 [DBG] Considering key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} with expiration date 2021-10-31 07:22:50Z as default key.
2021-10-03 01:37:45.139 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 01:37:45.141 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-10-03 01:37:45.143 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 01:37:45.146 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-10-03 01:37:45.150 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-10-03 01:37:45.154 +03:00 [DBG] Using key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} as the default key.
2021-10-03 01:37:45.155 +03:00 [DBG] Key ring with default key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} was loaded during application startup.
2021-10-03 01:37:45.363 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-10-03 01:37:45.836 +03:00 [DBG] The property 'UnitId' on entity type 'Unit' was created in shadow state because there are no eligible CLR members with a matching name.
2021-10-03 01:37:45.856 +03:00 [WRN] No type was specified for the decimal column 'Price' on entity type 'ProductPrice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 01:37:45.858 +03:00 [WRN] No type was specified for the decimal column 'Quantity' on entity type 'ProductStock'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 01:37:45.883 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 01:37:45.911 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:37:46.073 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:37:46.077 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 01:37:46.083 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2021-10-03 01:37:46.091 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 01:37:46.114 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 01:37:46.118 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:37:46.124 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:37:46.127 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 01:37:46.129 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2021-10-03 01:37:46.129 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:37:46.132 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:37:46.133 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 01:37:46.172 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 01:37:46.175 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:37:46.176 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:37:46.180 +03:00 [DBG] Migrating using database 'BitirDb' on server '.'.
2021-10-03 01:37:46.182 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:37:46.184 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:37:46.185 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 01:37:46.186 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2021-10-03 01:37:46.187 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 01:37:46.192 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 01:37:46.194 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:37:46.196 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:37:46.198 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 01:37:46.199 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 01:37:46.200 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:37:46.201 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:37:46.201 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 01:37:46.205 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 01:37:46.207 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:37:46.208 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:37:46.210 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:37:46.212 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:37:46.213 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 01:37:46.214 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 01:37:46.215 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 01:37:46.218 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 01:37:46.220 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:37:46.221 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:37:46.222 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 01:37:46.223 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2021-10-03 01:37:46.224 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:37:46.225 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:37:46.226 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 01:37:46.229 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 01:37:46.231 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:37:46.232 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:37:46.240 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 01:37:46.241 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 01:37:46.242 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:37:46.243 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:37:46.245 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 01:37:46.249 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 01:37:46.252 +03:00 [DBG] A data reader was disposed.
2021-10-03 01:37:46.253 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:37:46.254 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:37:46.262 +03:00 [DBG] No migrations were found in assembly 'Bitir.Data'.
2021-10-03 01:37:46.265 +03:00 [INF] No migrations were applied. The database is already up to date.
2021-10-03 01:37:46.267 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 01:37:46.309 +03:00 [DBG] Failed to locate the development https certificate at 'null'.
2021-10-03 01:37:46.336 +03:00 [INF] Now listening on: http://localhost:5000
2021-10-03 01:37:46.337 +03:00 [DBG] Loaded hosting startup assembly Bitir.Api
2021-10-03 01:37:46.338 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-03 01:37:46.339 +03:00 [INF] Hosting environment: Development
2021-10-03 01:37:46.340 +03:00 [INF] Content root path: C:\Users\leven\source\repos\Bitir\API\Bitir.Api
2021-10-03 01:37:46.342 +03:00 [DBG] Hosting started
2021-10-03 01:40:15.885 +03:00 [INF] Starting web host
2021-10-03 01:40:16.529 +03:00 [DBG] Hosting starting
2021-10-03 01:40:16.573 +03:00 [INF] User profile is available. Using 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-03 01:40:16.587 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-14642b65-a18c-49a2-99af-52420015a828.xml'.
2021-10-03 01:40:16.603 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-3aa2ae8c-81de-4273-8d4a-f52cc391033f.xml'.
2021-10-03 01:40:16.604 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-4d95ab8d-4041-43bb-8736-c55e7eebfed6.xml'.
2021-10-03 01:40:16.609 +03:00 [DBG] Found key {14642b65-a18c-49a2-99af-52420015a828}.
2021-10-03 01:40:16.614 +03:00 [DBG] Found key {3aa2ae8c-81de-4273-8d4a-f52cc391033f}.
2021-10-03 01:40:16.615 +03:00 [DBG] Found key {4d95ab8d-4041-43bb-8736-c55e7eebfed6}.
2021-10-03 01:40:16.621 +03:00 [DBG] Considering key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} with expiration date 2021-10-31 07:22:50Z as default key.
2021-10-03 01:40:16.629 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 01:40:16.632 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-10-03 01:40:16.633 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 01:40:16.637 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-10-03 01:40:16.640 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-10-03 01:40:16.643 +03:00 [DBG] Using key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} as the default key.
2021-10-03 01:40:16.645 +03:00 [DBG] Key ring with default key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} was loaded during application startup.
2021-10-03 01:40:16.890 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-10-03 01:40:17.402 +03:00 [DBG] The property 'UnitId' on entity type 'Unit' was created in shadow state because there are no eligible CLR members with a matching name.
2021-10-03 01:40:17.421 +03:00 [WRN] No type was specified for the decimal column 'Price' on entity type 'ProductPrice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 01:40:17.422 +03:00 [WRN] No type was specified for the decimal column 'Quantity' on entity type 'ProductStock'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 01:40:17.446 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 01:40:17.473 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:40:17.637 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:40:17.641 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 01:40:17.647 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2021-10-03 01:40:17.654 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 01:40:17.674 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 01:40:17.677 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:40:17.680 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:40:17.682 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 01:40:17.683 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 01:40:17.684 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:40:17.685 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:40:17.686 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 01:40:17.700 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 01:40:17.703 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:40:17.705 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:40:17.708 +03:00 [DBG] Migrating using database 'BitirDb' on server '.'.
2021-10-03 01:40:17.709 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:40:17.710 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:40:17.711 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 01:40:17.712 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 01:40:17.713 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 01:40:17.716 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 01:40:17.718 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:40:17.719 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:40:17.721 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 01:40:17.721 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 01:40:17.722 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:40:17.723 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:40:17.724 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 01:40:17.727 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 01:40:17.728 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:40:17.729 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:40:17.731 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:40:17.732 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:40:17.733 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 01:40:17.733 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 01:40:17.734 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 01:40:17.737 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 01:40:17.738 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:40:17.739 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:40:17.740 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 01:40:17.741 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2021-10-03 01:40:17.742 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:40:17.743 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:40:17.744 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 01:40:17.746 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 01:40:17.748 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:40:17.749 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:40:17.756 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 01:40:17.757 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 01:40:17.758 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 01:40:17.759 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 01:40:17.760 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 01:40:17.763 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 01:40:17.766 +03:00 [DBG] A data reader was disposed.
2021-10-03 01:40:17.766 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 01:40:17.767 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 01:40:17.774 +03:00 [DBG] No migrations were found in assembly 'Bitir.Data'.
2021-10-03 01:40:17.778 +03:00 [INF] No migrations were applied. The database is already up to date.
2021-10-03 01:40:17.779 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 01:40:17.809 +03:00 [DBG] Failed to locate the development https certificate at 'null'.
2021-10-03 01:40:17.838 +03:00 [INF] Now listening on: http://localhost:5000
2021-10-03 01:40:17.838 +03:00 [DBG] Loaded hosting startup assembly Bitir.Api
2021-10-03 01:40:17.839 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-03 01:40:17.840 +03:00 [INF] Hosting environment: Development
2021-10-03 01:40:17.840 +03:00 [INF] Content root path: C:\Users\leven\source\repos\Bitir\API\Bitir.Api
2021-10-03 01:40:17.841 +03:00 [DBG] Hosting started
2021-10-03 02:10:17.682 +03:00 [INF] Starting web host
2021-10-03 02:10:18.378 +03:00 [DBG] Hosting starting
2021-10-03 02:10:18.419 +03:00 [INF] User profile is available. Using 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-03 02:10:18.432 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-14642b65-a18c-49a2-99af-52420015a828.xml'.
2021-10-03 02:10:18.447 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-3aa2ae8c-81de-4273-8d4a-f52cc391033f.xml'.
2021-10-03 02:10:18.448 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-4d95ab8d-4041-43bb-8736-c55e7eebfed6.xml'.
2021-10-03 02:10:18.453 +03:00 [DBG] Found key {14642b65-a18c-49a2-99af-52420015a828}.
2021-10-03 02:10:18.457 +03:00 [DBG] Found key {3aa2ae8c-81de-4273-8d4a-f52cc391033f}.
2021-10-03 02:10:18.458 +03:00 [DBG] Found key {4d95ab8d-4041-43bb-8736-c55e7eebfed6}.
2021-10-03 02:10:18.463 +03:00 [DBG] Considering key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} with expiration date 2021-10-31 07:22:50Z as default key.
2021-10-03 02:10:18.470 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 02:10:18.473 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-10-03 02:10:18.474 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 02:10:18.478 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-10-03 02:10:18.481 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-10-03 02:10:18.485 +03:00 [DBG] Using key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} as the default key.
2021-10-03 02:10:18.486 +03:00 [DBG] Key ring with default key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} was loaded during application startup.
2021-10-03 02:10:18.777 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-10-03 02:10:19.248 +03:00 [DBG] The property 'UnitId' on entity type 'Unit' was created in shadow state because there are no eligible CLR members with a matching name.
2021-10-03 02:10:19.269 +03:00 [WRN] No type was specified for the decimal column 'Price' on entity type 'ProductPrice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 02:10:19.271 +03:00 [WRN] No type was specified for the decimal column 'Quantity' on entity type 'ProductStock'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 02:10:19.297 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 02:10:19.323 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 02:10:19.509 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 02:10:19.513 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 02:10:19.519 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2021-10-03 02:10:19.526 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 02:10:19.546 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 02:10:19.550 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 02:10:19.553 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 02:10:19.555 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 02:10:19.556 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 02:10:19.557 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 02:10:19.558 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 02:10:19.559 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 02:10:19.573 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 02:10:19.575 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 02:10:19.577 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 02:10:19.580 +03:00 [DBG] Migrating using database 'BitirDb' on server '.'.
2021-10-03 02:10:19.581 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 02:10:19.582 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 02:10:19.583 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 02:10:19.583 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 02:10:19.584 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 02:10:19.588 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 02:10:19.589 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 02:10:19.590 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 02:10:19.593 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 02:10:19.593 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 02:10:19.594 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 02:10:19.595 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 02:10:19.596 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 02:10:19.598 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 02:10:19.600 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 02:10:19.601 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 02:10:19.603 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 02:10:19.603 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 02:10:19.604 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 02:10:19.605 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 02:10:19.606 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 02:10:19.609 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 02:10:19.610 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 02:10:19.611 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 02:10:19.612 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 02:10:19.612 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 02:10:19.613 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 02:10:19.614 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 02:10:19.615 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 02:10:19.618 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 02:10:19.619 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 02:10:19.620 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 02:10:19.627 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 02:10:19.628 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 02:10:19.629 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 02:10:19.630 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 02:10:19.631 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 02:10:19.634 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 02:10:19.637 +03:00 [DBG] A data reader was disposed.
2021-10-03 02:10:19.638 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 02:10:19.639 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 02:10:19.646 +03:00 [DBG] No migrations were found in assembly 'Bitir.Data'.
2021-10-03 02:10:19.650 +03:00 [INF] No migrations were applied. The database is already up to date.
2021-10-03 02:10:19.651 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 02:10:19.682 +03:00 [DBG] Failed to locate the development https certificate at 'null'.
2021-10-03 02:10:19.707 +03:00 [INF] Now listening on: http://localhost:5000
2021-10-03 02:10:19.708 +03:00 [DBG] Loaded hosting startup assembly Bitir.Api
2021-10-03 02:10:19.709 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-03 02:10:19.710 +03:00 [INF] Hosting environment: Development
2021-10-03 02:10:19.711 +03:00 [INF] Content root path: C:\Users\leven\source\repos\Bitir\API\Bitir.Api
2021-10-03 02:10:19.713 +03:00 [DBG] Hosting started
2021-10-03 02:11:44.180 +03:00 [INF] Starting web host
2021-10-03 02:11:44.879 +03:00 [DBG] Hosting starting
2021-10-03 02:11:44.916 +03:00 [INF] User profile is available. Using 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-03 02:11:44.929 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-14642b65-a18c-49a2-99af-52420015a828.xml'.
2021-10-03 02:11:44.943 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-3aa2ae8c-81de-4273-8d4a-f52cc391033f.xml'.
2021-10-03 02:11:44.944 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-4d95ab8d-4041-43bb-8736-c55e7eebfed6.xml'.
2021-10-03 02:11:44.948 +03:00 [DBG] Found key {14642b65-a18c-49a2-99af-52420015a828}.
2021-10-03 02:11:44.952 +03:00 [DBG] Found key {3aa2ae8c-81de-4273-8d4a-f52cc391033f}.
2021-10-03 02:11:44.953 +03:00 [DBG] Found key {4d95ab8d-4041-43bb-8736-c55e7eebfed6}.
2021-10-03 02:11:44.958 +03:00 [DBG] Considering key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} with expiration date 2021-10-31 07:22:50Z as default key.
2021-10-03 02:11:44.965 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 02:11:44.968 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-10-03 02:11:44.969 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 02:11:44.972 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-10-03 02:11:44.975 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-10-03 02:11:44.978 +03:00 [DBG] Using key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} as the default key.
2021-10-03 02:11:44.979 +03:00 [DBG] Key ring with default key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} was loaded during application startup.
2021-10-03 02:11:45.220 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-10-03 02:11:45.708 +03:00 [DBG] The property 'UnitId' on entity type 'Unit' was created in shadow state because there are no eligible CLR members with a matching name.
2021-10-03 02:11:45.732 +03:00 [WRN] No type was specified for the decimal column 'Price' on entity type 'ProductPrice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 02:11:45.733 +03:00 [WRN] No type was specified for the decimal column 'Quantity' on entity type 'ProductStock'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 02:11:45.762 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 02:11:45.794 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 02:11:45.983 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 02:11:45.990 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 02:11:45.996 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2021-10-03 02:11:46.004 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 02:11:46.025 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 02:11:46.028 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 02:11:46.032 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 02:11:46.035 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 02:11:46.035 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 02:11:46.036 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 02:11:46.038 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 02:11:46.039 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 02:11:46.054 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 02:11:46.057 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 02:11:46.059 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 02:11:46.062 +03:00 [DBG] Migrating using database 'BitirDb' on server '.'.
2021-10-03 02:11:46.063 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 02:11:46.064 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 02:11:46.065 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 02:11:46.066 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2021-10-03 02:11:46.067 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 02:11:46.073 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 02:11:46.076 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 02:11:46.078 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 02:11:46.081 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 02:11:46.082 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 02:11:46.082 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 02:11:46.083 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 02:11:46.084 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 02:11:46.088 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 02:11:46.090 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 02:11:46.091 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 02:11:46.093 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 02:11:46.094 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 02:11:46.095 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 02:11:46.096 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2021-10-03 02:11:46.097 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 02:11:46.100 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 02:11:46.102 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 02:11:46.103 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 02:11:46.104 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 02:11:46.104 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 02:11:46.106 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 02:11:46.107 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 02:11:46.107 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 02:11:46.110 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 02:11:46.112 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 02:11:46.113 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 02:11:46.120 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 02:11:46.121 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 02:11:46.122 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 02:11:46.123 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 02:11:46.124 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 02:11:46.127 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 02:11:46.130 +03:00 [DBG] A data reader was disposed.
2021-10-03 02:11:46.130 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 02:11:46.131 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 02:11:46.139 +03:00 [DBG] No migrations were found in assembly 'Bitir.Data'.
2021-10-03 02:11:46.142 +03:00 [INF] No migrations were applied. The database is already up to date.
2021-10-03 02:11:46.143 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 02:11:46.174 +03:00 [DBG] Failed to locate the development https certificate at 'null'.
2021-10-03 02:11:46.199 +03:00 [INF] Now listening on: http://localhost:5000
2021-10-03 02:11:46.200 +03:00 [DBG] Loaded hosting startup assembly Bitir.Api
2021-10-03 02:11:46.201 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-03 02:11:46.202 +03:00 [INF] Hosting environment: Development
2021-10-03 02:11:46.203 +03:00 [INF] Content root path: C:\Users\leven\source\repos\Bitir\API\Bitir.Api
2021-10-03 02:11:46.205 +03:00 [DBG] Hosting started
2021-10-03 02:12:36.066 +03:00 [INF] Starting web host
2021-10-03 02:12:36.748 +03:00 [DBG] Hosting starting
2021-10-03 02:12:36.788 +03:00 [INF] User profile is available. Using 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-03 02:12:36.802 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-14642b65-a18c-49a2-99af-52420015a828.xml'.
2021-10-03 02:12:36.818 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-3aa2ae8c-81de-4273-8d4a-f52cc391033f.xml'.
2021-10-03 02:12:36.819 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-4d95ab8d-4041-43bb-8736-c55e7eebfed6.xml'.
2021-10-03 02:12:36.824 +03:00 [DBG] Found key {14642b65-a18c-49a2-99af-52420015a828}.
2021-10-03 02:12:36.829 +03:00 [DBG] Found key {3aa2ae8c-81de-4273-8d4a-f52cc391033f}.
2021-10-03 02:12:36.830 +03:00 [DBG] Found key {4d95ab8d-4041-43bb-8736-c55e7eebfed6}.
2021-10-03 02:12:36.835 +03:00 [DBG] Considering key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} with expiration date 2021-10-31 07:22:50Z as default key.
2021-10-03 02:12:36.842 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 02:12:36.844 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-10-03 02:12:36.846 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 02:12:36.849 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-10-03 02:12:36.852 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-10-03 02:12:36.855 +03:00 [DBG] Using key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} as the default key.
2021-10-03 02:12:36.856 +03:00 [DBG] Key ring with default key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} was loaded during application startup.
2021-10-03 02:12:37.073 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-10-03 02:12:37.596 +03:00 [DBG] The property 'UnitId' on entity type 'Unit' was created in shadow state because there are no eligible CLR members with a matching name.
2021-10-03 02:12:37.616 +03:00 [WRN] No type was specified for the decimal column 'Price' on entity type 'ProductPrice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 02:12:37.618 +03:00 [WRN] No type was specified for the decimal column 'Quantity' on entity type 'ProductStock'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 02:12:37.645 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 02:12:37.670 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 02:12:37.840 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 02:12:37.845 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 02:12:37.852 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2021-10-03 02:12:37.860 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 02:12:37.883 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 02:12:37.886 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 02:12:37.890 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 02:12:37.892 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 02:12:37.893 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 02:12:37.894 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 02:12:37.896 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 02:12:37.897 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 02:12:37.915 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 02:12:37.919 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 02:12:37.921 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 02:12:37.926 +03:00 [DBG] Migrating using database 'BitirDb' on server '.'.
2021-10-03 02:12:37.927 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 02:12:37.928 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 02:12:37.930 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 02:12:37.931 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 02:12:37.932 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 02:12:37.936 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 02:12:37.938 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 02:12:37.939 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 02:12:37.941 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 02:12:37.942 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 02:12:37.943 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 02:12:37.944 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 02:12:37.945 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 02:12:37.949 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 02:12:37.951 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 02:12:37.953 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 02:12:37.954 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 02:12:37.955 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 02:12:37.956 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 02:12:37.957 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 02:12:37.958 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 02:12:37.961 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 02:12:37.963 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 02:12:37.965 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 02:12:37.966 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 02:12:37.967 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2021-10-03 02:12:37.968 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 02:12:37.969 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 02:12:37.970 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 02:12:37.973 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 02:12:37.974 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 02:12:37.975 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 02:12:37.983 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 02:12:37.984 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 02:12:37.985 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 02:12:37.986 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 02:12:37.987 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 02:12:37.991 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 02:12:37.994 +03:00 [DBG] A data reader was disposed.
2021-10-03 02:12:37.995 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 02:12:37.996 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 02:12:38.004 +03:00 [DBG] No migrations were found in assembly 'Bitir.Data'.
2021-10-03 02:12:38.008 +03:00 [INF] No migrations were applied. The database is already up to date.
2021-10-03 02:12:38.009 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 02:12:38.042 +03:00 [DBG] Failed to locate the development https certificate at 'null'.
2021-10-03 02:12:38.066 +03:00 [INF] Now listening on: http://localhost:5000
2021-10-03 02:12:38.067 +03:00 [DBG] Loaded hosting startup assembly Bitir.Api
2021-10-03 02:12:38.068 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-03 02:12:38.069 +03:00 [INF] Hosting environment: Development
2021-10-03 02:12:38.069 +03:00 [INF] Content root path: C:\Users\leven\source\repos\Bitir\API\Bitir.Api
2021-10-03 02:12:38.070 +03:00 [DBG] Hosting started
2021-10-03 02:13:06.264 +03:00 [INF] Starting web host
2021-10-03 02:13:06.902 +03:00 [DBG] Hosting starting
2021-10-03 02:13:06.948 +03:00 [INF] User profile is available. Using 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-03 02:13:06.965 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-14642b65-a18c-49a2-99af-52420015a828.xml'.
2021-10-03 02:13:06.982 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-3aa2ae8c-81de-4273-8d4a-f52cc391033f.xml'.
2021-10-03 02:13:06.983 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-4d95ab8d-4041-43bb-8736-c55e7eebfed6.xml'.
2021-10-03 02:13:06.988 +03:00 [DBG] Found key {14642b65-a18c-49a2-99af-52420015a828}.
2021-10-03 02:13:06.992 +03:00 [DBG] Found key {3aa2ae8c-81de-4273-8d4a-f52cc391033f}.
2021-10-03 02:13:06.993 +03:00 [DBG] Found key {4d95ab8d-4041-43bb-8736-c55e7eebfed6}.
2021-10-03 02:13:06.998 +03:00 [DBG] Considering key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} with expiration date 2021-10-31 07:22:50Z as default key.
2021-10-03 02:13:07.006 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 02:13:07.008 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-10-03 02:13:07.010 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 02:13:07.013 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-10-03 02:13:07.016 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-10-03 02:13:07.019 +03:00 [DBG] Using key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} as the default key.
2021-10-03 02:13:07.020 +03:00 [DBG] Key ring with default key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} was loaded during application startup.
2021-10-03 02:13:07.272 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-10-03 02:13:07.793 +03:00 [DBG] The property 'UnitId' on entity type 'Unit' was created in shadow state because there are no eligible CLR members with a matching name.
2021-10-03 02:13:07.812 +03:00 [WRN] No type was specified for the decimal column 'Price' on entity type 'ProductPrice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 02:13:07.813 +03:00 [WRN] No type was specified for the decimal column 'Quantity' on entity type 'ProductStock'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 02:13:07.840 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 02:13:07.864 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 02:13:08.030 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 02:13:08.035 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 02:13:08.041 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2021-10-03 02:13:08.047 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 02:13:08.067 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 02:13:08.071 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 02:13:08.074 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 02:13:08.076 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 02:13:08.077 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 02:13:08.078 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 02:13:08.079 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 02:13:08.080 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 02:13:08.094 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 02:13:08.097 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 02:13:08.098 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 02:13:08.101 +03:00 [DBG] Migrating using database 'BitirDb' on server '.'.
2021-10-03 02:13:08.103 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 02:13:08.103 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 02:13:08.104 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 02:13:08.105 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 02:13:08.106 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 02:13:08.110 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 02:13:08.111 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 02:13:08.112 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 02:13:08.114 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 02:13:08.115 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 02:13:08.115 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 02:13:08.116 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 02:13:08.117 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 02:13:08.120 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 02:13:08.122 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 02:13:08.122 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 02:13:08.124 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 02:13:08.125 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 02:13:08.126 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 02:13:08.127 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 02:13:08.128 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 02:13:08.130 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 02:13:08.132 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 02:13:08.132 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 02:13:08.133 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 02:13:08.135 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2021-10-03 02:13:08.136 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 02:13:08.137 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 02:13:08.138 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 02:13:08.140 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 02:13:08.142 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 02:13:08.143 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 02:13:08.150 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 02:13:08.151 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 02:13:08.152 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 02:13:08.153 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 02:13:08.154 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 02:13:08.157 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 02:13:08.160 +03:00 [DBG] A data reader was disposed.
2021-10-03 02:13:08.160 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 02:13:08.161 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 02:13:08.168 +03:00 [DBG] No migrations were found in assembly 'Bitir.Data'.
2021-10-03 02:13:08.172 +03:00 [INF] No migrations were applied. The database is already up to date.
2021-10-03 02:13:08.173 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 02:13:08.203 +03:00 [DBG] Failed to locate the development https certificate at 'null'.
2021-10-03 02:13:08.225 +03:00 [INF] Now listening on: http://localhost:5000
2021-10-03 02:13:08.226 +03:00 [DBG] Loaded hosting startup assembly Bitir.Api
2021-10-03 02:13:08.226 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-03 02:13:08.227 +03:00 [INF] Hosting environment: Development
2021-10-03 02:13:08.228 +03:00 [INF] Content root path: C:\Users\leven\source\repos\Bitir\API\Bitir.Api
2021-10-03 02:13:08.228 +03:00 [DBG] Hosting started
2021-10-03 02:13:27.962 +03:00 [DBG] Connection id "0HMC5V8V1CFTQ" accepted.
2021-10-03 02:13:27.964 +03:00 [DBG] Connection id "0HMC5V8V1CFTQ" started.
2021-10-03 02:13:27.982 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/AuthModule/AuthBase/Login application/json 38
2021-10-03 02:13:27.986 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-10-03 02:13:28.008 +03:00 [DBG] 1 candidate(s) found for the request path '/AuthModule/AuthBase/Login'
2021-10-03 02:13:28.012 +03:00 [DBG] Endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)' with route pattern 'AuthModule/AuthBase/Login' is valid for the request path '/AuthModule/AuthBase/Login'
2021-10-03 02:13:28.014 +03:00 [DBG] Request matched endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 02:13:28.062 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-10-03 02:13:28.066 +03:00 [INF] Executing endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 02:13:28.072 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2021-10-03 02:13:28.098 +03:00 [INF] Route matched with {module = "AuthModule", action = "Login", controller = "AuthBase"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthModule.Dto.LoginDto) on controller AuthModule.Controllers.AuthBaseController (AuthModule).
2021-10-03 02:13:28.100 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-10-03 02:13:28.101 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-10-03 02:13:28.102 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-10-03 02:13:28.105 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-10-03 02:13:28.106 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-10-03 02:13:28.107 +03:00 [DBG] Executing controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 02:13:28.110 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 02:13:28.114 +03:00 [DBG] Executed controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 02:13:28.123 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 02:13:28.125 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' using the name '' in request data ...
2021-10-03 02:13:28.127 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2021-10-03 02:13:28.132 +03:00 [DBG] Connection id "0HMC5V8V1CFTQ", Request id "0HMC5V8V1CFTQ:00000001": started reading request body.
2021-10-03 02:13:28.133 +03:00 [DBG] Connection id "0HMC5V8V1CFTQ", Request id "0HMC5V8V1CFTQ:00000001": done reading request body.
2021-10-03 02:13:28.136 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'AuthModule.Dto.LoginDto'
2021-10-03 02:13:28.137 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 02:13:28.138 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 02:13:28.139 +03:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 02:13:28.141 +03:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 02:13:28.283 +03:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserAccount>(
    asyncEnumerable: new QueryingEnumerable<UserAccount>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, UserAccount>, 
        Bitir.Data.Contexts.BitirMainContext, 
        null
    ), 
    cancellationToken: queryContext.CancellationToken)
2021-10-03 02:13:28.307 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 02:13:28.309 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2021-10-03 02:13:28.315 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 02:13:28.317 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 02:13:28.321 +03:00 [DBG] Executing DbCommand [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 02:13:28.356 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 02:13:28.374 +03:00 [DBG] Context 'BitirMainContext' started tracking 'UserAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-10-03 02:13:28.400 +03:00 [DBG] A data reader was disposed.
2021-10-03 02:13:28.402 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 02:13:28.405 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 02:13:28.506 +03:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserToken>(
    asyncEnumerable: new QueryingEnumerable<UserToken>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, UserToken>, 
        Bitir.Data.Contexts.BitirMainContext, 
        null
    ), 
    cancellationToken: queryContext.CancellationToken)
2021-10-03 02:13:28.509 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 02:13:28.510 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 02:13:28.511 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 02:13:28.512 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 02:13:28.513 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[InsertDate], [u].[RefreshToken], [u].[RefreshTokenExpirationDate], [u].[Status], [u].[UpdateDate], [u].[UserId]
FROM [auth].[UserToken] AS [u]
WHERE ([u].[Id] = @__entity_Id_0) AND ([u].[Status] <> 1)
2021-10-03 02:13:28.517 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__entity_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[InsertDate], [u].[RefreshToken], [u].[RefreshTokenExpirationDate], [u].[Status], [u].[UpdateDate], [u].[UserId]
FROM [auth].[UserToken] AS [u]
WHERE ([u].[Id] = @__entity_Id_0) AND ([u].[Status] <> 1)
2021-10-03 02:13:28.519 +03:00 [DBG] A data reader was disposed.
2021-10-03 02:13:28.520 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 02:13:28.520 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 02:13:28.525 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2021-10-03 02:13:28.529 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["Application/json"]'.
2021-10-03 02:13:28.530 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2021-10-03 02:13:28.531 +03:00 [INF] Executing ObjectResult, writing value of type 'Bitir.Data.Model.Dtos.ResponseWrapper`1[[AuthModule.Security.JWT.AccessToken, AuthModule, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-03 02:13:28.540 +03:00 [INF] Executed action AuthModule.Controllers.AuthBaseController.Login (AuthModule) in 430.5125ms
2021-10-03 02:13:28.542 +03:00 [INF] Executed endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 02:13:28.544 +03:00 [DBG] Connection id "0HMC5V8V1CFTQ" completed keep alive response.
2021-10-03 02:13:28.545 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 02:13:28.547 +03:00 [INF] Request finished in 566.3904ms 200 application/json; charset=utf-8
2021-10-03 02:14:25.141 +03:00 [INF] Starting web host
2021-10-03 02:14:25.810 +03:00 [DBG] Hosting starting
2021-10-03 02:14:25.860 +03:00 [INF] User profile is available. Using 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-03 02:14:25.879 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-14642b65-a18c-49a2-99af-52420015a828.xml'.
2021-10-03 02:14:25.897 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-3aa2ae8c-81de-4273-8d4a-f52cc391033f.xml'.
2021-10-03 02:14:25.898 +03:00 [DBG] Reading data from file 'C:\Users\leven\AppData\Local\ASP.NET\DataProtection-Keys\key-4d95ab8d-4041-43bb-8736-c55e7eebfed6.xml'.
2021-10-03 02:14:25.902 +03:00 [DBG] Found key {14642b65-a18c-49a2-99af-52420015a828}.
2021-10-03 02:14:25.906 +03:00 [DBG] Found key {3aa2ae8c-81de-4273-8d4a-f52cc391033f}.
2021-10-03 02:14:25.907 +03:00 [DBG] Found key {4d95ab8d-4041-43bb-8736-c55e7eebfed6}.
2021-10-03 02:14:25.912 +03:00 [DBG] Considering key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} with expiration date 2021-10-31 07:22:50Z as default key.
2021-10-03 02:14:25.919 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 02:14:25.922 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-10-03 02:14:25.923 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.16.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-10-03 02:14:25.926 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-10-03 02:14:25.929 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-10-03 02:14:25.932 +03:00 [DBG] Using key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} as the default key.
2021-10-03 02:14:25.933 +03:00 [DBG] Key ring with default key {3aa2ae8c-81de-4273-8d4a-f52cc391033f} was loaded during application startup.
2021-10-03 02:14:26.227 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-10-03 02:14:26.752 +03:00 [DBG] The property 'UnitId' on entity type 'Unit' was created in shadow state because there are no eligible CLR members with a matching name.
2021-10-03 02:14:26.771 +03:00 [WRN] No type was specified for the decimal column 'Price' on entity type 'ProductPrice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 02:14:26.773 +03:00 [WRN] No type was specified for the decimal column 'Quantity' on entity type 'ProductStock'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'.
2021-10-03 02:14:26.799 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 02:14:26.823 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 02:14:26.977 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 02:14:26.981 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 02:14:26.987 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2021-10-03 02:14:26.993 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 02:14:27.014 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 02:14:27.017 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 02:14:27.021 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 02:14:27.023 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 02:14:27.023 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 02:14:27.024 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 02:14:27.026 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 02:14:27.027 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 02:14:27.043 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2021-10-03 02:14:27.045 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 02:14:27.046 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 02:14:27.049 +03:00 [DBG] Migrating using database 'BitirDb' on server '.'.
2021-10-03 02:14:27.050 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 02:14:27.051 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 02:14:27.052 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 02:14:27.053 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 02:14:27.054 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 02:14:27.058 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 02:14:27.059 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 02:14:27.060 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 02:14:27.062 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 02:14:27.063 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 02:14:27.064 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 02:14:27.065 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 02:14:27.066 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 02:14:27.068 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 02:14:27.070 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 02:14:27.070 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 02:14:27.072 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 02:14:27.073 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 02:14:27.074 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2021-10-03 02:14:27.074 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2021-10-03 02:14:27.075 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 02:14:27.079 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2021-10-03 02:14:27.081 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 02:14:27.082 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 02:14:27.083 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2021-10-03 02:14:27.084 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2021-10-03 02:14:27.085 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 02:14:27.086 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 02:14:27.087 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 02:14:27.090 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2021-10-03 02:14:27.091 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 02:14:27.092 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 02:14:27.099 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 02:14:27.100 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 02:14:27.101 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 02:14:27.102 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 02:14:27.103 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 02:14:27.106 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2021-10-03 02:14:27.108 +03:00 [DBG] A data reader was disposed.
2021-10-03 02:14:27.109 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 02:14:27.110 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 02:14:27.117 +03:00 [DBG] No migrations were found in assembly 'Bitir.Data'.
2021-10-03 02:14:27.121 +03:00 [INF] No migrations were applied. The database is already up to date.
2021-10-03 02:14:27.122 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 02:14:27.165 +03:00 [DBG] Failed to locate the development https certificate at 'null'.
2021-10-03 02:14:27.188 +03:00 [INF] Now listening on: http://localhost:5000
2021-10-03 02:14:27.188 +03:00 [DBG] Loaded hosting startup assembly Bitir.Api
2021-10-03 02:14:27.189 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-03 02:14:27.190 +03:00 [INF] Hosting environment: Development
2021-10-03 02:14:27.191 +03:00 [INF] Content root path: C:\Users\leven\source\repos\Bitir\API\Bitir.Api
2021-10-03 02:14:27.191 +03:00 [DBG] Hosting started
2021-10-03 02:14:40.864 +03:00 [DBG] Connection id "0HMC5V9KOKCS4" accepted.
2021-10-03 02:14:40.867 +03:00 [DBG] Connection id "0HMC5V9KOKCS4" started.
2021-10-03 02:14:40.888 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/AuthModule/AuthBase/Login application/json 38
2021-10-03 02:14:40.891 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-10-03 02:14:40.913 +03:00 [DBG] 1 candidate(s) found for the request path '/AuthModule/AuthBase/Login'
2021-10-03 02:14:40.916 +03:00 [DBG] Endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)' with route pattern 'AuthModule/AuthBase/Login' is valid for the request path '/AuthModule/AuthBase/Login'
2021-10-03 02:14:40.917 +03:00 [DBG] Request matched endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 02:14:40.968 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-10-03 02:14:40.972 +03:00 [INF] Executing endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 02:14:40.979 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
2021-10-03 02:14:41.006 +03:00 [INF] Route matched with {module = "AuthModule", action = "Login", controller = "AuthBase"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthModule.Dto.LoginDto) on controller AuthModule.Controllers.AuthBaseController (AuthModule).
2021-10-03 02:14:41.008 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-10-03 02:14:41.009 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-10-03 02:14:41.011 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-10-03 02:14:41.013 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-10-03 02:14:41.014 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-10-03 02:14:41.015 +03:00 [DBG] Executing controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 02:14:41.019 +03:00 [INF] Entity Framework Core 3.1.14 initialized 'BitirMainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-10-03 02:14:41.023 +03:00 [DBG] Executed controller factory for controller AuthModule.Controllers.AuthBaseController (AuthModule)
2021-10-03 02:14:41.032 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 02:14:41.034 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' using the name '' in request data ...
2021-10-03 02:14:41.036 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2021-10-03 02:14:41.041 +03:00 [DBG] Connection id "0HMC5V9KOKCS4", Request id "0HMC5V9KOKCS4:00000001": started reading request body.
2021-10-03 02:14:41.042 +03:00 [DBG] Connection id "0HMC5V9KOKCS4", Request id "0HMC5V9KOKCS4:00000001": done reading request body.
2021-10-03 02:14:41.045 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'AuthModule.Dto.LoginDto'
2021-10-03 02:14:41.046 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 02:14:41.047 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 02:14:41.048 +03:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto' ...
2021-10-03 02:14:41.051 +03:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'AuthModule.Dto.LoginDto'.
2021-10-03 02:14:41.193 +03:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserAccount>(
    asyncEnumerable: new QueryingEnumerable<UserAccount>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, UserAccount>, 
        Bitir.Data.Contexts.BitirMainContext, 
        null
    ), 
    cancellationToken: queryContext.CancellationToken)
2021-10-03 02:14:41.216 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 02:14:41.218 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2021-10-03 02:14:41.223 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 02:14:41.225 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 02:14:41.229 +03:00 [DBG] Executing DbCommand [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 02:14:41.261 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__loginDto_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccountTypeId], [u].[Email], [u].[InsertDate], [u].[Name], [u].[PasswordHash], [u].[PasswordSalt], [u].[Phone], [u].[Status], [u].[Surname], [u].[UpdateDate], [u].[Username]
FROM [auth].[UserAccount] AS [u]
WHERE ([u].[Username] = @__loginDto_Username_0) OR ([u].[Email] = @__loginDto_Username_0)
2021-10-03 02:14:41.279 +03:00 [DBG] Context 'BitirMainContext' started tracking 'UserAccount' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-10-03 02:14:41.302 +03:00 [DBG] A data reader was disposed.
2021-10-03 02:14:41.305 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 02:14:41.307 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 02:14:41.407 +03:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserToken>(
    asyncEnumerable: new QueryingEnumerable<UserToken>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, UserToken>, 
        Bitir.Data.Contexts.BitirMainContext, 
        null
    ), 
    cancellationToken: queryContext.CancellationToken)
2021-10-03 02:14:41.410 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-10-03 02:14:41.411 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-10-03 02:14:41.413 +03:00 [DBG] Opening connection to database 'BitirDb' on server '.'.
2021-10-03 02:14:41.413 +03:00 [DBG] Opened connection to database 'BitirDb' on server '.'.
2021-10-03 02:14:41.414 +03:00 [DBG] Executing DbCommand [Parameters=[@__entity_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[InsertDate], [u].[RefreshToken], [u].[RefreshTokenExpirationDate], [u].[Status], [u].[UpdateDate], [u].[UserId]
FROM [auth].[UserToken] AS [u]
WHERE ([u].[Id] = @__entity_Id_0) AND ([u].[Status] <> 1)
2021-10-03 02:14:41.419 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__entity_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[InsertDate], [u].[RefreshToken], [u].[RefreshTokenExpirationDate], [u].[Status], [u].[UpdateDate], [u].[UserId]
FROM [auth].[UserToken] AS [u]
WHERE ([u].[Id] = @__entity_Id_0) AND ([u].[Status] <> 1)
2021-10-03 02:14:41.421 +03:00 [DBG] A data reader was disposed.
2021-10-03 02:14:41.422 +03:00 [DBG] Closing connection to database 'BitirDb' on server '.'.
2021-10-03 02:14:41.423 +03:00 [DBG] Closed connection to database 'BitirDb' on server '.'.
2021-10-03 02:14:41.427 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2021-10-03 02:14:41.430 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["Application/json"]'.
2021-10-03 02:14:41.432 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2021-10-03 02:14:41.433 +03:00 [INF] Executing ObjectResult, writing value of type 'Bitir.Data.Model.Dtos.ResponseWrapper`1[[AuthModule.Security.JWT.AccessToken, AuthModule, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-10-03 02:14:41.443 +03:00 [INF] Executed action AuthModule.Controllers.AuthBaseController.Login (AuthModule) in 425.0556ms
2021-10-03 02:14:41.445 +03:00 [INF] Executed endpoint 'AuthModule.Controllers.AuthBaseController.Login (AuthModule)'
2021-10-03 02:14:41.447 +03:00 [DBG] Connection id "0HMC5V9KOKCS4" completed keep alive response.
2021-10-03 02:14:41.448 +03:00 [DBG] 'BitirMainContext' disposed.
2021-10-03 02:14:41.450 +03:00 [INF] Request finished in 564.1773ms 200 application/json; charset=utf-8
